MP2COD 4.02, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Wed Oct 25 15:33:05 2006


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                  Ticker service                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            * FileName:        Tick.c                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_INCLUDE                                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #include <Compiler.h>                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_TEMP_VALUE_1 ((INSTR_FREQ) / (TICKS_PER_SECOND * TICK_PRESCALE_VALUE)) F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #if TICK_TEMP_VALUE_1 > 60000                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #error TICK_PER_SECOND value cannot be programmed with current CLOCK_FREQ        F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #error Either lower TICK_PER_SECOND or manually configure the Timer              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_TEMP_VALUE         (65535 - TICK_TEMP_VALUE_1)                      F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_COUNTER_HIGH       ((TICK_TEMP_VALUE >> 8) & 0xff)                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_COUNTER_LOW        (TICK_TEMP_VALUE & 0xff)                         F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #if (TICK_PRESCALE_VALUE == 2)                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (0)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 4 )                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (1)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 8 )                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (2)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 16 )                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (3)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 32 )                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (4)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 64 )                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (5)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 128 )                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (6)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 256 )                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (7)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #else                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #error Invalid TICK_PRESCALE_VALUE specified.                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           TICK TickCount = 0;	// 10ms/unit                                                 F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Function: TickInit                                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Output: Tick manager is initialized.                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define PERIOD (INSTR_FREQ/256/1000)*TICK_PERIOD_MS                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           void tickInit(void)                                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canNode\Source\Tick.c
000a4c   0e79     MOVLW     0x79               TMR0L = TICK_COUNTER_LOW;                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
000a4e   6ed6     MOVWF     0xd6,0x0                                                                                        
000a50   0efe     MOVLW     0xfe               TMR0H = TICK_COUNTER_HIGH;                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
000a52   6ed7     MOVWF     0xd7,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               // 16-BIT, internal timer, PSA set to 1:256                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
000a54   0e07     MOVLW     0x7                T0CON = 0b00000000 | TIMER_PRESCALE;                                         F:\MCP\projects\CAN\canNode\Source\Tick.c
000a56   6ed5     MOVWF     0xd5,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canNode\Source\Tick.c
000a58   8ed5     BSF       0xd5,0x7,0x0       T0CONbits.TMR0ON = 1;                                                        F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000a5a   84f2     BSF       0xf2,0x2,0x0       INTCONbits.TMR0IF = 1;                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
000a5c   8af2     BSF       0xf2,0x5,0x0       INTCONbits.TMR0IE = 1;                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
000a5e   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Function: TickGet                                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Output: Current tick value is given, 1 tick represents approximately 10ms      F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           TICK tickGet(void)                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
000a60   c074     MOVFF     0x74,0x18          return TickCount;                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000a62   f018                                                                                                               
000a64   c075     MOVFF     0x75,0x19                                                                                       
000a66   f019                                                                                                               
000a68   c076     MOVFF     0x76,0x1a                                                                                       
000a6a   f01a                                                                                                               
000a6c   c077     MOVFF     0x77,0x1b                                                                                       
000a6e   f01b                                                                                                               
000a70   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Function: tickUpdate                                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           void tickUpdate(void)                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
000a72   a4f2     BTFSS     0xf2,0x2,0x0       if(INTCONbits.TMR0IF)                                                        F:\MCP\projects\CAN\canNode\Source\Tick.c
000a74   d00b     BRA       0xa8c                                                                                           
                                               {                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000a76   0efe     MOVLW     0xfe                   TMR0H = TICK_COUNTER_HIGH;                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
000a78   6ed7     MOVWF     0xd7,0x0                                                                                        
000a7a   0e79     MOVLW     0x79                   TMR0L = TICK_COUNTER_LOW;                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
000a7c   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000a7e   0100     MOVLB     0x0                    TickCount++;                                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
000a80   2b74     INCF      0x74,0x1,0x1                                                                                    
000a82   0e00     MOVLW     0x0                                                                                             
000a84   2375     ADDWFC    0x75,0x1,0x1                                                                                    
000a86   2376     ADDWFC    0x76,0x1,0x1                                                                                    
000a88   2377     ADDWFC    0x77,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000a8a   94f2     BCF       0xf2,0x2,0x0           INTCONbits.TMR0IF = 0;                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               }                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000a8c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                  CAN driver                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            * FileName:        CAN.c                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include <CANdefs.h>                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           static void canGetPacket(void);                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canInit                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: Changes can registers.                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           void canInit()                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
000044   0e80     MOVLW     0x80           	CANCON = 0x80; //request config mode                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000046   6e6f     MOVWF     0x6f,0x0                                                                                        
000048   0ee0     MOVLW     0xe0           	while ((CANSTAT & 0xE0) != 0x80 ); //wait for config mode request               F:\MCP\projects\CAN\canNode\Source\CAN.c
00004a   146e     ANDWF     0x6e,0x0,0x0                                                                                    
00004c   0880     SUBLW     0x80                                                                                            
00004e   e1fc     BNZ       0x48                                                                                            
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// BAUD AND TQS                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000050   6a70     CLRF      0x70,0x0       	BRGCON1=0;                                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Sync_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000052   9e70     BCF       0x70,0x7,0x0   	BRGCON1bits.SJW1=0;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
000054   8c70     BSF       0x70,0x6,0x0   	BRGCON1bits.SJW0=1;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Setting BRP.                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
000056   0e09     MOVLW     0x9            	BRGCON1=BRGCON1|CAN_BRP;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000058   1070     IORWF     0x70,0x0,0x0                                                                                    
00005a   6e70     MOVWF     0x70,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Maximum PHEG1                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
00005c   8e71     BSF       0x71,0x7,0x0   	BRGCON2bits.SEG2PHTS = 1;                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Phase_Seg1 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
00005e   9a71     BCF       0x71,0x5,0x0   	BRGCON2bits.SEG1PH2 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000060   9871     BCF       0x71,0x4,0x0   	BRGCON2bits.SEG1PH1 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000062   8671     BSF       0x71,0x3,0x0   	BRGCON2bits.SEG1PH0 = 1;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Prop_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000064   9471     BCF       0x71,0x2,0x0   	BRGCON2bits.PRSEG2 = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000066   9271     BCF       0x71,0x1,0x0   	BRGCON2bits.PRSEG1 = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000068   8071     BSF       0x71,0x0,0x0   	BRGCON2bits.PRSEG0 = 1;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	//  Enableing bus wake-up                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
00006a   9e72     BCF       0x72,0x7,0x0   	BRGCON3bits.WAKDIS = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Dont use filter when wakeup                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
00006c   9c72     BCF       0x72,0x6,0x0   	BRGCON3bits.WAKFIL = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Phase_Seg2 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
00006e   9472     BCF       0x72,0x2,0x0   	BRGCON3bits.SEG2PH2 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000070   9272     BCF       0x72,0x1,0x0   	BRGCON3bits.SEG2PH1 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000072   8072     BSF       0x72,0x0,0x0   	BRGCON3bits.SEG2PH0 = 1;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000074   6a77     CLRF      0x77,0x0       	ECANCON=0;                                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
000076   9e77     BCF       0x77,0x7,0x0   	ECANCONbits.MDSEL1 = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000078   8c77     BSF       0x77,0x6,0x0   	ECANCONbits.MDSEL0 = 1;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// FILTERS AND MASKS                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00007a   8c60     BSF       0x60,0x6,0x0   	RXB0CONbits.RXM1=1;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
00007c   9a60     BCF       0x60,0x5,0x0   	RXB0CONbits.RXM0=0;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// INTERRUPTS                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Diable transmit interrupt                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
00007e   010d     MOVLB     0xd            	TXBIE = 0;                                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
000080   6bfc     CLRF      0xfc,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	//rx any interrupt                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000082   6aa4     CLRF      0xa4,0x0       	PIR3 = 0;                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
000084   0e03     MOVLW     0x3            	PIE3 = 0b00000011;                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000086   6ea3     MOVWF     0xa3,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// High interrupt                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
000088   6ea5     MOVWF     0xa5,0x0       	IPR3 =0b00000011;                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Programmable buffers interrupt                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
00008a   69fa     SETF      0xfa,0x1       	BIE0  = 0xFF;	                                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	//loopback mode or not                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	#ifdef CAN_LOOPBACK_MODE                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		CANCON = 0x40;//request loopback mode                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		while ((CANSTAT & 0xE0) != 0x40 );//wait for loopback mode                     F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	#else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
00008c   6a6f     CLRF      0x6f,0x0       		CANCON = 0x00;//request normal mode                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00008e   0ee0     MOVLW     0xe0           		while ((CANSTAT & 0xE0) != 0x00 );//wait for normal mode                       F:\MCP\projects\CAN\canNode\Source\CAN.c
000090   146e     ANDWF     0x6e,0x0,0x0                                                                                    
000092   e1fd     BNZ       0x8e                                                                                            
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000094   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canISR                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: a call to canInit()                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: interrupt registers and receive data buffers                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           void canISR()                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000096   50a4     MOVF      0xa4,0x0,0x0   	if (PIR3bits.RXBnIF || PIR3bits.RXB1IF || PIR3bits.RXB0IF)                      F:\MCP\projects\CAN\canNode\Source\CAN.c
000098   0b02     ANDLW     0x2                                                                                             
00009a   e106     BNZ       0xa8                                                                                            
00009c   50a4     MOVF      0xa4,0x0,0x0                                                                                    
00009e   0b02     ANDLW     0x2                                                                                             
0000a0   e103     BNZ       0xa8                                                                                            
0000a2   50a4     MOVF      0xa4,0x0,0x0                                                                                    
0000a4   0b01     ANDLW     0x1                                                                                             
0000a6   e03a     BZ        0x11c                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Get which buffer that is ful.                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
0000a8   ae60     BTFSS     0x60,0x7,0x0   			 if (RXB0CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10000; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0000aa   d004     BRA       0xb4                                                                                            
0000ac   0e00     MOVLW     0x0                                                                                             
0000ae   1477     ANDWF     0x77,0x0,0x0                                                                                    
0000b0   0910     IORLW     0x10                                                                                            
0000b2   d02b     BRA       0x10a          		else if (RXB1CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10001; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0000b4   010f     MOVLB     0xf                                                                                             
0000b6   af50     BTFSS     0x50,0x7,0x1                                                                                    
0000b8   d004     BRA       0xc2                                                                                            
0000ba   0e00     MOVLW     0x0                                                                                             
0000bc   1477     ANDWF     0x77,0x0,0x0                                                                                    
0000be   0911     IORLW     0x11                                                                                            
0000c0   d024     BRA       0x10a          		else if (B0CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10010; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0000c2   010e     MOVLB     0xe                                                                                             
0000c4   af20     BTFSS     0x20,0x7,0x1                                                                                    
0000c6   d004     BRA       0xd0                                                                                            
0000c8   0e00     MOVLW     0x0                                                                                             
0000ca   1477     ANDWF     0x77,0x0,0x0                                                                                    
0000cc   0912     IORLW     0x12                                                                                            
0000ce   d01d     BRA       0x10a          		else if (B1CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10011; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0000d0   af30     BTFSS     0x30,0x7,0x1                                                                                    
0000d2   d004     BRA       0xdc                                                                                            
0000d4   0e00     MOVLW     0x0                                                                                             
0000d6   1477     ANDWF     0x77,0x0,0x0                                                                                    
0000d8   0913     IORLW     0x13                                                                                            
0000da   d017     BRA       0x10a          		else if (B2CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10100; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0000dc   af40     BTFSS     0x40,0x7,0x1                                                                                    
0000de   d004     BRA       0xe8                                                                                            
0000e0   0e00     MOVLW     0x0                                                                                             
0000e2   1477     ANDWF     0x77,0x0,0x0                                                                                    
0000e4   0914     IORLW     0x14                                                                                            
0000e6   d011     BRA       0x10a          		else if (B3CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10101; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0000e8   af50     BTFSS     0x50,0x7,0x1                                                                                    
0000ea   d004     BRA       0xf4                                                                                            
0000ec   0e00     MOVLW     0x0                                                                                             
0000ee   1477     ANDWF     0x77,0x0,0x0                                                                                    
0000f0   0915     IORLW     0x15                                                                                            
0000f2   d00b     BRA       0x10a          		else if (B4CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10110; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0000f4   af60     BTFSS     0x60,0x7,0x1                                                                                    
0000f6   d004     BRA       0x100                                                                                           
0000f8   0e00     MOVLW     0x0                                                                                             
0000fa   1477     ANDWF     0x77,0x0,0x0                                                                                    
0000fc   0916     IORLW     0x16                                                                                            
0000fe   d005     BRA       0x10a          		else if (B5CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10111; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
000100   af70     BTFSS     0x70,0x7,0x1                                                                                    
000102   d005     BRA       0x10e                                                                                           
000104   0e00     MOVLW     0x0                                                                                             
000106   1477     ANDWF     0x77,0x0,0x0                                                                                    
000108   0917     IORLW     0x17                                                                                            
00010a   6e77     MOVWF     0x77,0x0                                                                                        
00010c   d808     RCALL     0x11e                                                                                           
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
00010e   a2a4     BTFSS     0xa4,0x1,0x0   		if (PIR3bits.RXBnIF) {PIR3bits.RXBnIF = 0;}                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
000110   d003     BRA       0x118                                                                                           
000112   92a4     BCF       0xa4,0x1,0x0                                                                                    
000114   b2a4     BTFSC     0xa4,0x1,0x0   		if (PIR3bits.RXB1IF) {PIR3bits.RXB1IF = 0;}                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
000116   92a4     BCF       0xa4,0x1,0x0                                                                                    
000118   b0a4     BTFSC     0xa4,0x0,0x0   		if (PIR3bits.RXB0IF) {PIR3bits.RXB0IF = 0;}                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
00011a   90a4     BCF       0xa4,0x0,0x0                                                                                    
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
00011c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canGetPacket                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: a call to canISR and an packet is available and banked to RXB0 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: Calls canParse() function in main for parsing received packet.        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
00011e   cfd9     MOVFF     0xfd9,0xfe6    void canGetPacket()                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000120   ffe6                                                                                                               
000122   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000124   ffd9                                                                                                               
000126   0e0f     MOVLW     0xf                                                                                             
000128   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		CAN_MESSAGE cm;                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Set extended mode or not.                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
00012a   5062     MOVF      0x62,0x0,0x0   		cm.extended=(RXB0SIDLbits.EXID==0?FALSE:TRUE);                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
00012c   0b08     ANDLW     0x8                                                                                             
00012e   e102     BNZ       0x134                                                                                           
000130   0e00     MOVLW     0x0                                                                                             
000132   d001     BRA       0x136                                                                                           
000134   0e01     MOVLW     0x1                                                                                             
000136   6ee7     MOVWF     0xe7,0x0                                                                                        
000138   0e04     MOVLW     0x4                                                                                             
00013a   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00013c   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Clear                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
00013e   6ade     CLRF      0xde,0x0       		cm.ident=0;                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
000140   6ade     CLRF      0xde,0x0                                                                                        
000142   6ade     CLRF      0xde,0x0                                                                                        
000144   6add     CLRF      0xdd,0x0                                                                                        
000146   52dd     MOVF      0xdd,0x1,0x0                                                                                    
000148   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00014a   04db     DECF      0xdb,0x0,0x0   		if (cm.extended==TRUE)                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
00014c   e163     BNZ       0x214                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Read extended ident.                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx 28 27 26 25 24   23 22 21 20 19 18 17 16   15 14 13 12 11 10 09 08   07 06 05 04 03 02 01 00 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 28 27 26 25 24 23 22 21                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 20 19 18 xx xx xx 17 16                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDH 15 14 13 12 11 10 09 08                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDL 07 06 05 04 03 02 01 00                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00014e   5061     MOVF      0x61,0x0,0x0           	cm.ident = (((DWORD)RXB0SIDH)<<21) + (((DWORD)(RXB0SIDL & 0xE0))<<13) + (((DWORD)(RXB0SIDL & 0x03))<<16) + (((DWORD)RXB0EIDH)<<8) + (BYTE)RXB0EIDL; F:\MCP\projects\CAN\canNode\Source\CAN.c
000150   6e00     MOVWF     0x0,0x0                                                                                         
000152   6a01     CLRF      0x1,0x0                                                                                         
000154   6a02     CLRF      0x2,0x0                                                                                         
000156   6a03     CLRF      0x3,0x0                                                                                         
000158   0e15     MOVLW     0x15                                                                                            
00015a   0b1f     ANDLW     0x1f                                                                                            
00015c   e007     BZ        0x16c                                                                                           
00015e   90d8     BCF       0xd8,0x0,0x0                                                                                    
000160   3600     RLCF      0x0,0x1,0x0                                                                                     
000162   3601     RLCF      0x1,0x1,0x0                                                                                     
000164   3602     RLCF      0x2,0x1,0x0                                                                                     
000166   3603     RLCF      0x3,0x1,0x0                                                                                     
000168   06e8     DECF      0xe8,0x1,0x0                                                                                    
00016a   e1f9     BNZ       0x15e                                                                                           
00016c   0ee0     MOVLW     0xe0                                                                                            
00016e   1462     ANDWF     0x62,0x0,0x0                                                                                    
000170   6e04     MOVWF     0x4,0x0                                                                                         
000172   6a05     CLRF      0x5,0x0                                                                                         
000174   6a06     CLRF      0x6,0x0                                                                                         
000176   6a07     CLRF      0x7,0x0                                                                                         
000178   0e0d     MOVLW     0xd                                                                                             
00017a   0b1f     ANDLW     0x1f                                                                                            
00017c   e007     BZ        0x18c                                                                                           
00017e   90d8     BCF       0xd8,0x0,0x0                                                                                    
000180   3604     RLCF      0x4,0x1,0x0                                                                                     
000182   3605     RLCF      0x5,0x1,0x0                                                                                     
000184   3606     RLCF      0x6,0x1,0x0                                                                                     
000186   3607     RLCF      0x7,0x1,0x0                                                                                     
000188   06e8     DECF      0xe8,0x1,0x0                                                                                    
00018a   e1f9     BNZ       0x17e                                                                                           
00018c   5004     MOVF      0x4,0x0,0x0                                                                                     
00018e   2600     ADDWF     0x0,0x1,0x0                                                                                     
000190   5005     MOVF      0x5,0x0,0x0                                                                                     
000192   2201     ADDWFC    0x1,0x1,0x0                                                                                     
000194   5006     MOVF      0x6,0x0,0x0                                                                                     
000196   2202     ADDWFC    0x2,0x1,0x0                                                                                     
000198   5007     MOVF      0x7,0x0,0x0                                                                                     
00019a   2203     ADDWFC    0x3,0x1,0x0                                                                                     
00019c   0e03     MOVLW     0x3                                                                                             
00019e   1462     ANDWF     0x62,0x0,0x0                                                                                    
0001a0   6e08     MOVWF     0x8,0x0                                                                                         
0001a2   6a09     CLRF      0x9,0x0                                                                                         
0001a4   6a0a     CLRF      0xa,0x0                                                                                         
0001a6   6a0b     CLRF      0xb,0x0                                                                                         
0001a8   0e10     MOVLW     0x10                                                                                            
0001aa   0b1f     ANDLW     0x1f                                                                                            
0001ac   e007     BZ        0x1bc                                                                                           
0001ae   90d8     BCF       0xd8,0x0,0x0                                                                                    
0001b0   3608     RLCF      0x8,0x1,0x0                                                                                     
0001b2   3609     RLCF      0x9,0x1,0x0                                                                                     
0001b4   360a     RLCF      0xa,0x1,0x0                                                                                     
0001b6   360b     RLCF      0xb,0x1,0x0                                                                                     
0001b8   06e8     DECF      0xe8,0x1,0x0                                                                                    
0001ba   e1f9     BNZ       0x1ae                                                                                           
0001bc   5008     MOVF      0x8,0x0,0x0                                                                                     
0001be   2600     ADDWF     0x0,0x1,0x0                                                                                     
0001c0   5009     MOVF      0x9,0x0,0x0                                                                                     
0001c2   2201     ADDWFC    0x1,0x1,0x0                                                                                     
0001c4   500a     MOVF      0xa,0x0,0x0                                                                                     
0001c6   2202     ADDWFC    0x2,0x1,0x0                                                                                     
0001c8   500b     MOVF      0xb,0x0,0x0                                                                                     
0001ca   2203     ADDWFC    0x3,0x1,0x0                                                                                     
0001cc   5063     MOVF      0x63,0x0,0x0                                                                                    
0001ce   6e0c     MOVWF     0xc,0x0                                                                                         
0001d0   6a0d     CLRF      0xd,0x0                                                                                         
0001d2   6a0e     CLRF      0xe,0x0                                                                                         
0001d4   6a0f     CLRF      0xf,0x0                                                                                         
0001d6   0e08     MOVLW     0x8                                                                                             
0001d8   0b1f     ANDLW     0x1f                                                                                            
0001da   e007     BZ        0x1ea                                                                                           
0001dc   90d8     BCF       0xd8,0x0,0x0                                                                                    
0001de   360c     RLCF      0xc,0x1,0x0                                                                                     
0001e0   360d     RLCF      0xd,0x1,0x0                                                                                     
0001e2   360e     RLCF      0xe,0x1,0x0                                                                                     
0001e4   360f     RLCF      0xf,0x1,0x0                                                                                     
0001e6   06e8     DECF      0xe8,0x1,0x0                                                                                    
0001e8   e1f9     BNZ       0x1dc                                                                                           
0001ea   500c     MOVF      0xc,0x0,0x0                                                                                     
0001ec   2600     ADDWF     0x0,0x1,0x0                                                                                     
0001ee   500d     MOVF      0xd,0x0,0x0                                                                                     
0001f0   2201     ADDWFC    0x1,0x1,0x0                                                                                     
0001f2   500e     MOVF      0xe,0x0,0x0                                                                                     
0001f4   2202     ADDWFC    0x2,0x1,0x0                                                                                     
0001f6   500f     MOVF      0xf,0x0,0x0                                                                                     
0001f8   2203     ADDWFC    0x3,0x1,0x0                                                                                     
0001fa   5064     MOVF      0x64,0x0,0x0                                                                                    
0001fc   6e10     MOVWF     0x10,0x0                                                                                        
0001fe   6a11     CLRF      0x11,0x0                                                                                        
000200   6a12     CLRF      0x12,0x0                                                                                        
000202   6a13     CLRF      0x13,0x0                                                                                        
000204   50e8     MOVF      0xe8,0x0,0x0                                                                                    
000206   2600     ADDWF     0x0,0x1,0x0                                                                                     
000208   5011     MOVF      0x11,0x0,0x0                                                                                    
00020a   2201     ADDWFC    0x1,0x1,0x0                                                                                     
00020c   5012     MOVF      0x12,0x0,0x0                                                                                    
00020e   2202     ADDWFC    0x2,0x1,0x0                                                                                     
000210   5013     MOVF      0x13,0x0,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000212   d023     BRA       0x25a          		else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Read standard ident.                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx xx xx 10 09 08   07 06 05 04 03 02 01 00                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 10 09 08 07 06 05 04 03                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 02 01 00 xx xx xx xx xx                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000214   5061     MOVF      0x61,0x0,0x0   			cm.ident = (((DWORD)RXB0SIDH)<<3) + (((DWORD)RXB0SIDL)>>5);                   F:\MCP\projects\CAN\canNode\Source\CAN.c
000216   6e00     MOVWF     0x0,0x0                                                                                         
000218   6a01     CLRF      0x1,0x0                                                                                         
00021a   6a02     CLRF      0x2,0x0                                                                                         
00021c   6a03     CLRF      0x3,0x0                                                                                         
00021e   0e03     MOVLW     0x3                                                                                             
000220   0b1f     ANDLW     0x1f                                                                                            
000222   e007     BZ        0x232                                                                                           
000224   90d8     BCF       0xd8,0x0,0x0                                                                                    
000226   3600     RLCF      0x0,0x1,0x0                                                                                     
000228   3601     RLCF      0x1,0x1,0x0                                                                                     
00022a   3602     RLCF      0x2,0x1,0x0                                                                                     
00022c   3603     RLCF      0x3,0x1,0x0                                                                                     
00022e   06e8     DECF      0xe8,0x1,0x0                                                                                    
000230   e1f9     BNZ       0x224                                                                                           
000232   5062     MOVF      0x62,0x0,0x0                                                                                    
000234   6e04     MOVWF     0x4,0x0                                                                                         
000236   6a05     CLRF      0x5,0x0                                                                                         
000238   6a06     CLRF      0x6,0x0                                                                                         
00023a   6a07     CLRF      0x7,0x0                                                                                         
00023c   0e05     MOVLW     0x5                                                                                             
00023e   90d8     BCF       0xd8,0x0,0x0                                                                                    
000240   3207     RRCF      0x7,0x1,0x0                                                                                     
000242   3206     RRCF      0x6,0x1,0x0                                                                                     
000244   3205     RRCF      0x5,0x1,0x0                                                                                     
000246   3204     RRCF      0x4,0x1,0x0                                                                                     
000248   06e8     DECF      0xe8,0x1,0x0                                                                                    
00024a   e1f9     BNZ       0x23e                                                                                           
00024c   5004     MOVF      0x4,0x0,0x0                                                                                     
00024e   2600     ADDWF     0x0,0x1,0x0                                                                                     
000250   5005     MOVF      0x5,0x0,0x0                                                                                     
000252   2201     ADDWFC    0x1,0x1,0x0                                                                                     
000254   5006     MOVF      0x6,0x0,0x0                                                                                     
000256   2202     ADDWFC    0x2,0x1,0x0                                                                                     
000258   5007     MOVF      0x7,0x0,0x0                                                                                     
00025a   2203     ADDWFC    0x3,0x1,0x0                                                                                     
00025c   c000     MOVFF     0x0,0xfdf                                                                                       
00025e   ffdf                                                                                                               
000260   0e01     MOVLW     0x1                                                                                             
000262   c001     MOVFF     0x1,0xfdb                                                                                       
000264   ffdb                                                                                                               
000266   0e02     MOVLW     0x2                                                                                             
000268   c002     MOVFF     0x2,0xfdb                                                                                       
00026a   ffdb                                                                                                               
00026c   0e03     MOVLW     0x3                                                                                             
00026e   c003     MOVFF     0x3,0xfdb                                                                                       
000270   ffdb                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
000272   5065     MOVF      0x65,0x0,0x0   		cm.data_length=(RXB0DLCbits.DLC3<<3)+(RXB0DLCbits.DLC2<<2)+(RXB0DLCbits.DLC1<<1)+RXB0DLCbits.DLC0; F:\MCP\projects\CAN\canNode\Source\CAN.c
000274   0b01     ANDLW     0x1                                                                                             
000276   6e02     MOVWF     0x2,0x0                                                                                         
000278   5065     MOVF      0x65,0x0,0x0                                                                                    
00027a   0b02     ANDLW     0x2                                                                                             
00027c   e001     BZ        0x280                                                                                           
00027e   0e01     MOVLW     0x1                                                                                             
000280   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
000282   6e01     MOVWF     0x1,0x0                                                                                         
000284   5065     MOVF      0x65,0x0,0x0                                                                                    
000286   0b04     ANDLW     0x4                                                                                             
000288   e001     BZ        0x28c                                                                                           
00028a   0e01     MOVLW     0x1                                                                                             
00028c   0d04     MULLW     0x4                                                                                             
00028e   cff3     MOVFF     0xff3,0x0                                                                                       
000290   f000                                                                                                               
000292   5065     MOVF      0x65,0x0,0x0                                                                                    
000294   0b08     ANDLW     0x8                                                                                             
000296   e001     BZ        0x29a                                                                                           
000298   0e01     MOVLW     0x1                                                                                             
00029a   0d08     MULLW     0x8                                                                                             
00029c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00029e   2400     ADDWF     0x0,0x0,0x0                                                                                     
0002a0   2401     ADDWF     0x1,0x0,0x0                                                                                     
0002a2   2402     ADDWF     0x2,0x0,0x0                                                                                     
0002a4   6ee7     MOVWF     0xe7,0x0                                                                                        
0002a6   0e06     MOVLW     0x6                                                                                             
0002a8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0002aa   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Remote request                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
0002ac   5065     MOVF      0x65,0x0,0x0   		cm.remote_request=(RXB0DLCbits.RXRTR==0?FALSE:TRUE);                           F:\MCP\projects\CAN\canNode\Source\CAN.c
0002ae   0b40     ANDLW     0x40                                                                                            
0002b0   e102     BNZ       0x2b6                                                                                           
0002b2   0e00     MOVLW     0x0                                                                                             
0002b4   d001     BRA       0x2b8                                                                                           
0002b6   0e01     MOVLW     0x1                                                                                             
0002b8   6ee7     MOVWF     0xe7,0x0                                                                                        
0002ba   0e05     MOVLW     0x5                                                                                             
0002bc   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0002be   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
0002c0   0e07     MOVLW     0x7            		cm.data[0]=RXB0D0;	cm.data[1]=RXB0D1;                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
0002c2   cf66     MOVFF     0xf66,0xfdb                                                                                     
0002c4   ffdb                                                                                                               
0002c6   0e08     MOVLW     0x8                                                                                             
0002c8   cf67     MOVFF     0xf67,0xfdb                                                                                     
0002ca   ffdb                                                                                                               
0002cc   0e09     MOVLW     0x9            		cm.data[2]=RXB0D2; 	cm.data[3]=RXB0D3;                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0002ce   cf68     MOVFF     0xf68,0xfdb                                                                                     
0002d0   ffdb                                                                                                               
0002d2   0e0a     MOVLW     0xa                                                                                             
0002d4   cf69     MOVFF     0xf69,0xfdb                                                                                     
0002d6   ffdb                                                                                                               
0002d8   0e0b     MOVLW     0xb            		cm.data[4]=RXB0D4; 	cm.data[5]=RXB0D5;                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0002da   cf6a     MOVFF     0xf6a,0xfdb                                                                                     
0002dc   ffdb                                                                                                               
0002de   0e0c     MOVLW     0xc                                                                                             
0002e0   cf6b     MOVFF     0xf6b,0xfdb                                                                                     
0002e2   ffdb                                                                                                               
0002e4   0e0d     MOVLW     0xd            		cm.data[6]=RXB0D6; 	cm.data[7]=RXB0D7;                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0002e6   cf6c     MOVFF     0xf6c,0xfdb                                                                                     
0002e8   ffdb                                                                                                               
0002ea   0e0e     MOVLW     0xe                                                                                             
0002ec   cf6d     MOVFF     0xf6d,0xfdb                                                                                     
0002ee   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Clear ful status                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
0002f0   9e60     BCF       0x60,0x7,0x0   		RXB0CONbits.RXFUL=0;                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		//Call main parser                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
0002f2   cfd9     MOVFF     0xfd9,0xfe9    		canParse(cm);                                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
0002f4   ffe9                                                                                                               
0002f6   cfda     MOVFF     0xfda,0xfea                                                                                     
0002f8   ffea                                                                                                               
0002fa   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002fc   ffe6                                                                                                               
0002fe   cfee     MOVFF     0xfee,0xfe6                                                                                     
000300   ffe6                                                                                                               
000302   cfee     MOVFF     0xfee,0xfe6                                                                                     
000304   ffe6                                                                                                               
000306   cfee     MOVFF     0xfee,0xfe6                                                                                     
000308   ffe6                                                                                                               
00030a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00030c   ffe6                                                                                                               
00030e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000310   ffe6                                                                                                               
000312   cfee     MOVFF     0xfee,0xfe6                                                                                     
000314   ffe6                                                                                                               
000316   cfee     MOVFF     0xfee,0xfe6                                                                                     
000318   ffe6                                                                                                               
00031a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00031c   ffe6                                                                                                               
00031e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000320   ffe6                                                                                                               
000322   cfee     MOVFF     0xfee,0xfe6                                                                                     
000324   ffe6                                                                                                               
000326   cfee     MOVFF     0xfee,0xfe6                                                                                     
000328   ffe6                                                                                                               
00032a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00032c   ffe6                                                                                                               
00032e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000330   ffe6                                                                                                               
000332   cfee     MOVFF     0xfee,0xfe6                                                                                     
000334   ffe6                                                                                                               
000336   ec66     CALL      0x8cc,0x0                                                                                       
000338   f004                                                                                                               
00033a   6e00     MOVWF     0x0,0x0                                                                                         
00033c   0e0f     MOVLW     0xf                                                                                             
00033e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
000340   5000     MOVF      0x0,0x0,0x0                                                                                     
000342   0e0f     MOVLW     0xf            }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
000344   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000346   e202     BC        0x34c                                                                                           
000348   6ae1     CLRF      0xe1,0x0                                                                                        
00034a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00034c   6ee1     MOVWF     0xe1,0x0                                                                                        
00034e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000350   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000352   ffd9                                                                                                               
000354   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canSendMessage                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	CAN_MESSAGE to send                                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: True if packet scheduled sucess, false otherwise.                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: canInit                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: ..                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
000356   cfd9     MOVFF     0xfd9,0xfe6    BOOL canSendMessage(CAN_MESSAGE cm,CAN_PRIORITY prio)                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000358   ffe6                                                                                                               
00035a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00035c   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
00035e   010f     MOVLB     0xf            	if ( TXB0CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00011; }           F:\MCP\projects\CAN\canNode\Source\CAN.c
000360   b740     BTFSC     0x40,0x3,0x1                                                                                    
000362   d004     BRA       0x36c                                                                                           
000364   0e00     MOVLW     0x0                                                                                             
000366   1477     ANDWF     0x77,0x0,0x0                                                                                    
000368   0903     IORLW     0x3                                                                                             
00036a   6e77     MOVWF     0x77,0x0                                                                                        
00036c   010f     MOVLB     0xf            	if ( TXB1CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00100; }           F:\MCP\projects\CAN\canNode\Source\CAN.c
00036e   b730     BTFSC     0x30,0x3,0x1                                                                                    
000370   d004     BRA       0x37a                                                                                           
000372   0e00     MOVLW     0x0                                                                                             
000374   1477     ANDWF     0x77,0x0,0x0                                                                                    
000376   0904     IORLW     0x4                                                                                             
000378   6e77     MOVWF     0x77,0x0                                                                                        
00037a   010f     MOVLB     0xf            	if ( TXB2CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00101; }           F:\MCP\projects\CAN\canNode\Source\CAN.c
00037c   b720     BTFSC     0x20,0x3,0x1                                                                                    
00037e   d005     BRA       0x38a                                                                                           
000380   0e00     MOVLW     0x0                                                                                             
000382   1477     ANDWF     0x77,0x0,0x0                                                                                    
000384   0905     IORLW     0x5                                                                                             
000386   6e77     MOVWF     0x77,0x0                                                                                        
                                           	// None of the transmit buffers were empty.                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
000388   d002     BRA       0x38e          	else { return FALSE;}                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
00038a   0e00     MOVLW     0x0                                                                                             
00038c   d0e4     BRA       0x556                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00038e   0eef     MOVLW     0xef           	if (prio<0 || prio>3) prio = 0;                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
000390   cfdb     MOVFF     0xfdb,0x0                                                                                       
000392   f000                                                                                                               
000394   3400     RLCF      0x0,0x0,0x0                                                                                     
000396   e20e     BC        0x3b4                                                                                           
000398   0eef     MOVLW     0xef                                                                                            
00039a   cfdb     MOVFF     0xfdb,0x1                                                                                       
00039c   f001                                                                                                               
00039e   0e03     MOVLW     0x3                                                                                             
0003a0   6ee7     MOVWF     0xe7,0x0                                                                                        
0003a2   1801     XORWF     0x1,0x0,0x0                                                                                     
0003a4   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0003a6   d002     BRA       0x3ac                                                                                           
0003a8   3401     RLCF      0x1,0x0,0x0                                                                                     
0003aa   d003     BRA       0x3b2                                                                                           
0003ac   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0003ae   80d8     BSF       0xd8,0x0,0x0                                                                                    
0003b0   5401     SUBFWB    0x1,0x0,0x0                                                                                     
0003b2   e202     BC        0x3b8                                                                                           
0003b4   0eef     MOVLW     0xef                                                                                            
0003b6   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
0003b8   0ef4     MOVLW     0xf4           		if (cm.extended==TRUE)                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0003ba   04db     DECF      0xdb,0x0,0x0                                                                                    
0003bc   e15f     BNZ       0x47c                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Write extended ident.                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx 28 27 26 25 24   23 22 21 20 19 18 17 16   15 14 13 12 11 10 09 08   07 06 05 04 03 02 01 00 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 28 27 26 25 24 23 22 21                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 20 19 18 xx xx xx 17 16                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDH 15 14 13 12 11 10 09 08                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDL 07 06 05 04 03 02 01 00                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
0003be   0ef0     MOVLW     0xf0                   	RXB0SIDH =  (BYTE)((cm.ident>>21));                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
0003c0   cfdb     MOVFF     0xfdb,0x0                                                                                       
0003c2   f000                                                                                                               
0003c4   0ef1     MOVLW     0xf1                                                                                            
0003c6   cfdb     MOVFF     0xfdb,0x1                                                                                       
0003c8   f001                                                                                                               
0003ca   0ef2     MOVLW     0xf2                                                                                            
0003cc   cfdb     MOVFF     0xfdb,0x2                                                                                       
0003ce   f002                                                                                                               
0003d0   0ef3     MOVLW     0xf3                                                                                            
0003d2   cfdb     MOVFF     0xfdb,0x3                                                                                       
0003d4   f003                                                                                                               
0003d6   0e15     MOVLW     0x15                                                                                            
0003d8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0003da   3203     RRCF      0x3,0x1,0x0                                                                                     
0003dc   3202     RRCF      0x2,0x1,0x0                                                                                     
0003de   3201     RRCF      0x1,0x1,0x0                                                                                     
0003e0   3200     RRCF      0x0,0x1,0x0                                                                                     
0003e2   06e8     DECF      0xe8,0x1,0x0                                                                                    
0003e4   e1f9     BNZ       0x3d8                                                                                           
0003e6   5000     MOVF      0x0,0x0,0x0                                                                                     
0003e8   6e61     MOVWF     0x61,0x0                                                                                        
0003ea   0ef0     MOVLW     0xf0                   	RXB0SIDL = ((BYTE)(cm.ident>>16) & 0x03) + ((BYTE)(cm.ident>>13) & 0xE0); F:\MCP\projects\CAN\canNode\Source\CAN.c
0003ec   cfdb     MOVFF     0xfdb,0x5                                                                                       
0003ee   f005                                                                                                               
0003f0   0ef1     MOVLW     0xf1                                                                                            
0003f2   cfdb     MOVFF     0xfdb,0x6                                                                                       
0003f4   f006                                                                                                               
0003f6   0ef2     MOVLW     0xf2                                                                                            
0003f8   cfdb     MOVFF     0xfdb,0x7                                                                                       
0003fa   f007                                                                                                               
0003fc   0ef3     MOVLW     0xf3                                                                                            
0003fe   cfdb     MOVFF     0xfdb,0x8                                                                                       
000400   f008                                                                                                               
000402   0e0d     MOVLW     0xd                                                                                             
000404   90d8     BCF       0xd8,0x0,0x0                                                                                    
000406   3208     RRCF      0x8,0x1,0x0                                                                                     
000408   3207     RRCF      0x7,0x1,0x0                                                                                     
00040a   3206     RRCF      0x6,0x1,0x0                                                                                     
00040c   3205     RRCF      0x5,0x1,0x0                                                                                     
00040e   06e8     DECF      0xe8,0x1,0x0                                                                                    
000410   e1f9     BNZ       0x404                                                                                           
000412   0ee0     MOVLW     0xe0                                                                                            
000414   1405     ANDWF     0x5,0x0,0x0                                                                                     
000416   6e04     MOVWF     0x4,0x0                                                                                         
000418   0ef0     MOVLW     0xf0                                                                                            
00041a   cfdb     MOVFF     0xfdb,0x0                                                                                       
00041c   f000                                                                                                               
00041e   0ef1     MOVLW     0xf1                                                                                            
000420   cfdb     MOVFF     0xfdb,0x1                                                                                       
000422   f001                                                                                                               
000424   0ef2     MOVLW     0xf2                                                                                            
000426   cfdb     MOVFF     0xfdb,0x2                                                                                       
000428   f002                                                                                                               
00042a   0ef3     MOVLW     0xf3                                                                                            
00042c   cfdb     MOVFF     0xfdb,0x3                                                                                       
00042e   f003                                                                                                               
000430   0e10     MOVLW     0x10                                                                                            
000432   90d8     BCF       0xd8,0x0,0x0                                                                                    
000434   3203     RRCF      0x3,0x1,0x0                                                                                     
000436   3202     RRCF      0x2,0x1,0x0                                                                                     
000438   3201     RRCF      0x1,0x1,0x0                                                                                     
00043a   3200     RRCF      0x0,0x1,0x0                                                                                     
00043c   06e8     DECF      0xe8,0x1,0x0                                                                                    
00043e   e1f9     BNZ       0x432                                                                                           
000440   0e03     MOVLW     0x3                                                                                             
000442   1400     ANDWF     0x0,0x0,0x0                                                                                     
000444   2404     ADDWF     0x4,0x0,0x0                                                                                     
000446   6e62     MOVWF     0x62,0x0                                                                                        
000448   0ef0     MOVLW     0xf0                   	RXB0EIDH =  (BYTE)(cm.ident>>8);                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
00044a   cfdb     MOVFF     0xfdb,0x0                                                                                       
00044c   f000                                                                                                               
00044e   0ef1     MOVLW     0xf1                                                                                            
000450   cfdb     MOVFF     0xfdb,0x1                                                                                       
000452   f001                                                                                                               
000454   0ef2     MOVLW     0xf2                                                                                            
000456   cfdb     MOVFF     0xfdb,0x2                                                                                       
000458   f002                                                                                                               
00045a   0ef3     MOVLW     0xf3                                                                                            
00045c   cfdb     MOVFF     0xfdb,0x3                                                                                       
00045e   f003                                                                                                               
000460   0e08     MOVLW     0x8                                                                                             
000462   90d8     BCF       0xd8,0x0,0x0                                                                                    
000464   3203     RRCF      0x3,0x1,0x0                                                                                     
000466   3202     RRCF      0x2,0x1,0x0                                                                                     
000468   3201     RRCF      0x1,0x1,0x0                                                                                     
00046a   3200     RRCF      0x0,0x1,0x0                                                                                     
00046c   06e8     DECF      0xe8,0x1,0x0                                                                                    
00046e   e1f9     BNZ       0x462                                                                                           
000470   5000     MOVF      0x0,0x0,0x0                                                                                     
000472   6e63     MOVWF     0x63,0x0                                                                                        
000474   0ef0     MOVLW     0xf0                   	RXB0EIDL =  (BYTE)cm.ident;                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
000476   50db     MOVF      0xdb,0x0,0x0                                                                                    
000478   6e64     MOVWF     0x64,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
00047a   d02f     BRA       0x4da          		else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Write standard ident.                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx xx xx 10 09 08   07 06 05 04 03 02 01 00                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 10 09 08 07 06 05 04 03                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 02 01 00 xx xx xx xx xx                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00047c   0ef0     MOVLW     0xf0                  		RXB0SIDH=  (BYTE)(cm.ident>>3);                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
00047e   cfdb     MOVFF     0xfdb,0x0                                                                                       
000480   f000                                                                                                               
000482   0ef1     MOVLW     0xf1                                                                                            
000484   cfdb     MOVFF     0xfdb,0x1                                                                                       
000486   f001                                                                                                               
000488   0ef2     MOVLW     0xf2                                                                                            
00048a   cfdb     MOVFF     0xfdb,0x2                                                                                       
00048c   f002                                                                                                               
00048e   0ef3     MOVLW     0xf3                                                                                            
000490   cfdb     MOVFF     0xfdb,0x3                                                                                       
000492   f003                                                                                                               
000494   0e03     MOVLW     0x3                                                                                             
000496   90d8     BCF       0xd8,0x0,0x0                                                                                    
000498   3203     RRCF      0x3,0x1,0x0                                                                                     
00049a   3202     RRCF      0x2,0x1,0x0                                                                                     
00049c   3201     RRCF      0x1,0x1,0x0                                                                                     
00049e   3200     RRCF      0x0,0x1,0x0                                                                                     
0004a0   06e8     DECF      0xe8,0x1,0x0                                                                                    
0004a2   e1f9     BNZ       0x496                                                                                           
0004a4   5000     MOVF      0x0,0x0,0x0                                                                                     
0004a6   6e61     MOVWF     0x61,0x0                                                                                        
0004a8   0ef0     MOVLW     0xf0                   	RXB0SIDL= ((BYTE)(cm.ident<<5) & 0xE0);                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
0004aa   cfdb     MOVFF     0xfdb,0x0                                                                                       
0004ac   f000                                                                                                               
0004ae   0ef1     MOVLW     0xf1                                                                                            
0004b0   cfdb     MOVFF     0xfdb,0x1                                                                                       
0004b2   f001                                                                                                               
0004b4   0ef2     MOVLW     0xf2                                                                                            
0004b6   cfdb     MOVFF     0xfdb,0x2                                                                                       
0004b8   f002                                                                                                               
0004ba   0ef3     MOVLW     0xf3                                                                                            
0004bc   cfdb     MOVFF     0xfdb,0x3                                                                                       
0004be   f003                                                                                                               
0004c0   0e05     MOVLW     0x5                                                                                             
0004c2   0b1f     ANDLW     0x1f                                                                                            
0004c4   e007     BZ        0x4d4                                                                                           
0004c6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0004c8   3600     RLCF      0x0,0x1,0x0                                                                                     
0004ca   3601     RLCF      0x1,0x1,0x0                                                                                     
0004cc   3602     RLCF      0x2,0x1,0x0                                                                                     
0004ce   3603     RLCF      0x3,0x1,0x0                                                                                     
0004d0   06e8     DECF      0xe8,0x1,0x0                                                                                    
0004d2   e1f9     BNZ       0x4c6                                                                                           
0004d4   0ee0     MOVLW     0xe0                                                                                            
0004d6   1400     ANDWF     0x0,0x0,0x0                                                                                     
0004d8   6e62     MOVWF     0x62,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
0004da   6a65     CLRF      0x65,0x0       		RXB0DLC = 0;                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
0004dc   0ef6     MOVLW     0xf6           		if (cm.data_length>8) RXB0DLC=8; else RXB0DLC=cm.data_length;                  F:\MCP\projects\CAN\canNode\Source\CAN.c
0004de   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004e0   0808     SUBLW     0x8                                                                                             
0004e2   e203     BC        0x4ea                                                                                           
0004e4   0e08     MOVLW     0x8                                                                                             
0004e6   6e65     MOVWF     0x65,0x0                                                                                        
0004e8   d003     BRA       0x4f0                                                                                           
0004ea   0ef6     MOVLW     0xf6                                                                                            
0004ec   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004ee   6e65     MOVWF     0x65,0x0                                                                                        
                                           		                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Remote request                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
0004f0   0ef5     MOVLW     0xf5           		if (cm.remote_request==TRUE)                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
0004f2   04db     DECF      0xdb,0x0,0x0                                                                                    
0004f4   e102     BNZ       0x4fa                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			_asm                                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
0004f6   8c65     BSF       0x65,0x6,0x0   				bsf RXB0DLC, 6, 0                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			_endasm                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
0004f8   d001     BRA       0x4fc          		else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			_asm                                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
0004fa   9c65     BCF       0x65,0x6,0x0   				bcf RXB0DLC, 6, 0                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			_endasm                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
0004fc   0ef7     MOVLW     0xf7           		RXB0D0=cm.data[0];	RXB0D1=cm.data[1];                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
0004fe   50db     MOVF      0xdb,0x0,0x0                                                                                    
000500   6e66     MOVWF     0x66,0x0                                                                                        
000502   0ef8     MOVLW     0xf8                                                                                            
000504   50db     MOVF      0xdb,0x0,0x0                                                                                    
000506   6e67     MOVWF     0x67,0x0                                                                                        
000508   0ef9     MOVLW     0xf9           		RXB0D2=cm.data[2]; 	RXB0D3=cm.data[3];                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
00050a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00050c   6e68     MOVWF     0x68,0x0                                                                                        
00050e   0efa     MOVLW     0xfa                                                                                            
000510   50db     MOVF      0xdb,0x0,0x0                                                                                    
000512   6e69     MOVWF     0x69,0x0                                                                                        
000514   0efb     MOVLW     0xfb           		RXB0D4=cm.data[4]; 	RXB0D5=cm.data[5];                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000516   50db     MOVF      0xdb,0x0,0x0                                                                                    
000518   6e6a     MOVWF     0x6a,0x0                                                                                        
00051a   0efc     MOVLW     0xfc                                                                                            
00051c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00051e   6e6b     MOVWF     0x6b,0x0                                                                                        
000520   0efd     MOVLW     0xfd           		RXB0D6=cm.data[6]; 	RXB0D7=cm.data[7];                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000522   50db     MOVF      0xdb,0x0,0x0                                                                                    
000524   6e6c     MOVWF     0x6c,0x0                                                                                        
000526   0efe     MOVLW     0xfe                                                                                            
000528   50db     MOVF      0xdb,0x0,0x0                                                                                    
00052a   6e6d     MOVWF     0x6d,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// set extended or not                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
00052c   0ef4     MOVLW     0xf4           		RXB0SIDLbits.EXID=(cm.extended==TRUE?1:0);                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
00052e   04db     DECF      0xdb,0x0,0x0                                                                                    
000530   e102     BNZ       0x536                                                                                           
000532   0e01     MOVLW     0x1                                                                                             
000534   d001     BRA       0x538                                                                                           
000536   0e00     MOVLW     0x0                                                                                             
000538   b0e8     BTFSC     0xe8,0x0,0x0                                                                                    
00053a   8662     BSF       0x62,0x3,0x0                                                                                    
00053c   a0e8     BTFSS     0xe8,0x0,0x0                                                                                    
00053e   9662     BCF       0x62,0x3,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Priority                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
000540   0eef     MOVLW     0xef           		RXB0CON = (RXB0CON & 0b11111100) | prio;                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
000542   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000544   ffe6                                                                                                               
000546   0efc     MOVLW     0xfc                                                                                            
000548   1460     ANDWF     0x60,0x0,0x0                                                                                    
00054a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00054c   10e7     IORWF     0xe7,0x0,0x0                                                                                    
00054e   6e60     MOVWF     0x60,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// mark as redy to transmit                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		_asm                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
000550   8660     BSF       0x60,0x3,0x0   			bsf RXB0CON, 3, 0                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		_endasm                                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000552   0e01     MOVLW     0x1            		return TRUE;                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
000554   d000     BRA       0x556                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000556   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
000558   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00055a   ffd9                                                                                                               
00055c   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #endif //USE_CAN                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                  Main application                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\Main.c
                                            * FileName:        Main.c                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\Main.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #include <compiler.h>                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#include <CAN.h>                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           static void mainInit(void);                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           unsigned int heartcnt=0;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00055e   cfd9     MOVFF     0xfd9,0xfe6    void main()                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
000560   ffe6                                                                                                               
000562   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000564   ffd9                                                                                                               
000566   0e0f     MOVLW     0xf                                                                                             
000568   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	static TICK t = 0;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// Inits                                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00056a   d9a8     RCALL     0x8bc          	mainInit();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#ifdef USE_CAN                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
00056c   ec22     CALL      0x44,0x0       		canInit();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
00056e   f000                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000570   ec26     CALL      0xa4c,0x0      	tickInit();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
000572   f005                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	while(1)                                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		#ifdef USE_CAN                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
000574   ec30     CALL      0xa60,0x0      		if ((tickGet()-t)>=5*TICK_SECOND)                                              F:\MCP\projects\CAN\canNode\Source\Main.c
000576   f005                                                                                                               
000578   0100     MOVLB     0x0                                                                                             
00057a   516c     MOVF      0x6c,0x0,0x1                                                                                    
00057c   5c18     SUBWF     0x18,0x0,0x0                                                                                    
00057e   6e00     MOVWF     0x0,0x0                                                                                         
000580   516d     MOVF      0x6d,0x0,0x1                                                                                    
000582   5819     SUBWFB    0x19,0x0,0x0                                                                                    
000584   6e01     MOVWF     0x1,0x0                                                                                         
000586   516e     MOVF      0x6e,0x0,0x1                                                                                    
000588   581a     SUBWFB    0x1a,0x0,0x0                                                                                    
00058a   6e02     MOVWF     0x2,0x0                                                                                         
00058c   516f     MOVF      0x6f,0x0,0x1                                                                                    
00058e   581b     SUBWFB    0x1b,0x0,0x0                                                                                    
000590   6e03     MOVWF     0x3,0x0                                                                                         
000592   0ef4     MOVLW     0xf4                                                                                            
000594   5c00     SUBWF     0x0,0x0,0x0                                                                                     
000596   0e01     MOVLW     0x1                                                                                             
000598   5801     SUBWFB    0x1,0x0,0x0                                                                                     
00059a   0e00     MOVLW     0x0                                                                                             
00059c   5802     SUBWFB    0x2,0x0,0x0                                                                                     
00059e   0e00     MOVLW     0x0                                                                                             
0005a0   5803     SUBWFB    0x3,0x0,0x0                                                                                     
0005a2   e3e8     BNC       0x574                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			CAN_MESSAGE cm;                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0005a4   ec30     CALL      0xa60,0x0      			t = tickGet();                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0005a6   f005                                                                                                               
0005a8   c018     MOVFF     0x18,0x6c                                                                                       
0005aa   f06c                                                                                                               
0005ac   c019     MOVFF     0x19,0x6d                                                                                       
0005ae   f06d                                                                                                               
0005b0   c01a     MOVFF     0x1a,0x6e                                                                                       
0005b2   f06e                                                                                                               
0005b4   c01b     MOVFF     0x1b,0x6f                                                                                       
0005b6   f06f                                                                                                               
                                           		                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			// Send heartbeat                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0005b8   0e66     MOVLW     0x66           			cm.ident=0x00000666;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0005ba   6ede     MOVWF     0xde,0x0                                                                                        
0005bc   0e06     MOVLW     0x6                                                                                             
0005be   6ede     MOVWF     0xde,0x0                                                                                        
0005c0   6ade     CLRF      0xde,0x0                                                                                        
0005c2   6add     CLRF      0xdd,0x0                                                                                        
0005c4   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0005c6   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0005c8   0e04     MOVLW     0x4            			cm.extended=FALSE;                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0005ca   6adb     CLRF      0xdb,0x0                                                                                        
0005cc   0e05     MOVLW     0x5            			cm.data_length=5;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0005ce   6ef3     MOVWF     0xf3,0x0                                                                                        
0005d0   0e06     MOVLW     0x6                                                                                             
0005d2   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005d4   ffdb                                                                                                               
0005d6   0e48     MOVLW     0x48           			cm.data[0]='H';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0005d8   6ef3     MOVWF     0xf3,0x0                                                                                        
0005da   0e07     MOVLW     0x7                                                                                             
0005dc   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005de   ffdb                                                                                                               
0005e0   0100     MOVLB     0x0            			cm.data[1]=(BYTE)((heartcnt & 0x000000FF));                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0005e2   516a     MOVF      0x6a,0x0,0x1                                                                                    
0005e4   6ee7     MOVWF     0xe7,0x0                                                                                        
0005e6   0e08     MOVLW     0x8                                                                                             
0005e8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0005ea   ffdb                                                                                                               
0005ec   0e00     MOVLW     0x0            			cm.data[2]=(BYTE)((heartcnt & 0x0000FF00)>>1);                                F:\MCP\projects\CAN\canNode\Source\Main.c
0005ee   156a     ANDWF     0x6a,0x0,0x1                                                                                    
0005f0   6e00     MOVWF     0x0,0x0                                                                                         
0005f2   0eff     MOVLW     0xff                                                                                            
0005f4   156b     ANDWF     0x6b,0x0,0x1                                                                                    
0005f6   6e01     MOVWF     0x1,0x0                                                                                         
0005f8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0005fa   3201     RRCF      0x1,0x1,0x0                                                                                     
0005fc   3200     RRCF      0x0,0x1,0x0                                                                                     
0005fe   0e09     MOVLW     0x9                                                                                             
000600   c000     MOVFF     0x0,0xfdb                                                                                       
000602   ffdb                                                                                                               
000604   c06a     MOVFF     0x6a,0x3       			cm.data[3]=(BYTE)((heartcnt & 0x00FF0000)>>2);                                F:\MCP\projects\CAN\canNode\Source\Main.c
000606   f003                                                                                                               
000608   c06b     MOVFF     0x6b,0x4                                                                                        
00060a   f004                                                                                                               
00060c   6a05     CLRF      0x5,0x0                                                                                         
00060e   6a03     CLRF      0x3,0x0                                                                                         
000610   6a04     CLRF      0x4,0x0                                                                                         
000612   0e02     MOVLW     0x2                                                                                             
000614   0b1f     ANDLW     0x1f                                                                                            
000616   c003     MOVFF     0x3,0x0                                                                                         
000618   f000                                                                                                               
00061a   c004     MOVFF     0x4,0x1                                                                                         
00061c   f001                                                                                                               
00061e   c005     MOVFF     0x5,0x2                                                                                         
000620   f002                                                                                                               
000622   e006     BZ        0x630                                                                                           
000624   90d8     BCF       0xd8,0x0,0x0                                                                                    
000626   3202     RRCF      0x2,0x1,0x0                                                                                     
000628   3201     RRCF      0x1,0x1,0x0                                                                                     
00062a   3200     RRCF      0x0,0x1,0x0                                                                                     
00062c   06e8     DECF      0xe8,0x1,0x0                                                                                    
00062e   e1fa     BNZ       0x624                                                                                           
000630   0e0a     MOVLW     0xa                                                                                             
000632   c000     MOVFF     0x0,0xfdb                                                                                       
000634   ffdb                                                                                                               
000636   c06a     MOVFF     0x6a,0x0       			cm.data[4]=(BYTE)((heartcnt & 0xFF000000)>>3);                                F:\MCP\projects\CAN\canNode\Source\Main.c
000638   f000                                                                                                               
00063a   c06b     MOVFF     0x6b,0x1                                                                                        
00063c   f001                                                                                                               
00063e   6a02     CLRF      0x2,0x0                                                                                         
000640   6a03     CLRF      0x3,0x0                                                                                         
000642   6a00     CLRF      0x0,0x0                                                                                         
000644   6a01     CLRF      0x1,0x0                                                                                         
000646   6a02     CLRF      0x2,0x0                                                                                         
000648   0e03     MOVLW     0x3                                                                                             
00064a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00064c   3203     RRCF      0x3,0x1,0x0                                                                                     
00064e   3202     RRCF      0x2,0x1,0x0                                                                                     
000650   3201     RRCF      0x1,0x1,0x0                                                                                     
000652   3200     RRCF      0x0,0x1,0x0                                                                                     
000654   06e8     DECF      0xe8,0x1,0x0                                                                                    
000656   e1f9     BNZ       0x64a                                                                                           
000658   0e0b     MOVLW     0xb                                                                                             
00065a   c000     MOVFF     0x0,0xfdb                                                                                       
00065c   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00065e   0100     MOVLB     0x0            			heartcnt++;                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
000660   2b6a     INCF      0x6a,0x1,0x1                                                                                    
000662   0e00     MOVLW     0x0                                                                                             
000664   236b     ADDWFC    0x6b,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000666   0e01     MOVLW     0x1            			while(!canSendMessage(cm,PRIO_LOW));	                                         F:\MCP\projects\CAN\canNode\Source\Main.c
000668   6ee6     MOVWF     0xe6,0x0                                                                                        
00066a   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
00066c   ffe9                                                                                                               
00066e   cfda     MOVFF     0xfda,0xfea                                                                                     
000670   ffea                                                                                                               
000672   cfee     MOVFF     0xfee,0xfe6                                                                                     
000674   ffe6                                                                                                               
000676   cfee     MOVFF     0xfee,0xfe6                                                                                     
000678   ffe6                                                                                                               
00067a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00067c   ffe6                                                                                                               
00067e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000680   ffe6                                                                                                               
000682   cfee     MOVFF     0xfee,0xfe6                                                                                     
000684   ffe6                                                                                                               
000686   cfee     MOVFF     0xfee,0xfe6                                                                                     
000688   ffe6                                                                                                               
00068a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00068c   ffe6                                                                                                               
00068e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000690   ffe6                                                                                                               
000692   cfee     MOVFF     0xfee,0xfe6                                                                                     
000694   ffe6                                                                                                               
000696   cfee     MOVFF     0xfee,0xfe6                                                                                     
000698   ffe6                                                                                                               
00069a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00069c   ffe6                                                                                                               
00069e   cfee     MOVFF     0xfee,0xfe6                                                                                     
0006a0   ffe6                                                                                                               
0006a2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0006a4   ffe6                                                                                                               
0006a6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0006a8   ffe6                                                                                                               
0006aa   cfee     MOVFF     0xfee,0xfe6                                                                                     
0006ac   ffe6                                                                                                               
0006ae   ecab     CALL      0x356,0x0                                                                                       
0006b0   f001                                                                                                               
0006b2   6e00     MOVWF     0x0,0x0                                                                                         
0006b4   0e10     MOVLW     0x10                                                                                            
0006b6   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0006b8   5000     MOVF      0x0,0x0,0x0                                                                                     
0006ba   0900     IORLW     0x0                                                                                             
0006bc   e001     BZ        0x6c0                                                                                           
0006be   d75a     BRA       0x574                                                                                           
0006c0   d7d2     BRA       0x666                                                                                           
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		#endif                                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma interruptlow HighISR                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
0006c2   cfd8     MOVFF     0xfd8,0xfe4    void HighISR(void)                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0006c4   ffe4                                                                                                               
0006c6   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
0006c8   ffe4                                                                                                               
0006ca   6ee4     MOVWF     0xe4,0x0                                                                                        
0006cc   cfda     MOVFF     0xfda,0xfe4                                                                                     
0006ce   ffe4                                                                                                               
0006d0   cfe2     MOVFF     0xfe2,0xfda                                                                                     
0006d2   ffda                                                                                                               
0006d4   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
0006d6   ffe4                                                                                                               
0006d8   cfea     MOVFF     0xfea,0xfe4                                                                                     
0006da   ffe4                                                                                                               
0006dc   cff6     MOVFF     0xff6,0xfe4                                                                                     
0006de   ffe4                                                                                                               
0006e0   cff7     MOVFF     0xff7,0xfe4                                                                                     
0006e2   ffe4                                                                                                               
0006e4   cff5     MOVFF     0xff5,0xfe4                                                                                     
0006e6   ffe4                                                                                                               
0006e8   cff3     MOVFF     0xff3,0xfe4                                                                                     
0006ea   ffe4                                                                                                               
0006ec   cff4     MOVFF     0xff4,0xfe4                                                                                     
0006ee   ffe4                                                                                                               
0006f0   cffa     MOVFF     0xffa,0xfe4                                                                                     
0006f2   ffe4                                                                                                               
0006f4   ee00     LFSR      0x0,0x14                                                                                        
0006f6   f014                                                                                                               
0006f8   0e0b     MOVLW     0xb                                                                                             
0006fa   04e8     DECF      0xe8,0x0,0x0                                                                                    
0006fc   e303     BNC       0x704                                                                                           
0006fe   cfee     MOVFF     0xfee,0xfe4                                                                                     
000700   ffe4                                                                                                               
000702   d7fb     BRA       0x6fa                                                                                           
000704   ee00     LFSR      0x0,0x0                                                                                         
000706   f000                                                                                                               
000708   0e14     MOVLW     0x14                                                                                            
00070a   04e8     DECF      0xe8,0x0,0x0                                                                                    
00070c   e303     BNC       0x714                                                                                           
00070e   cfee     MOVFF     0xfee,0xfe4                                                                                     
000710   ffe4                                                                                                               
000712   d7fb     BRA       0x70a                                                                                           
000714   52e6     MOVF      0xe6,0x1,0x0                                                                                    
000716   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
000718   ffe6                                                                                                               
00071a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00071c   ffd9                                                                                                               
00071e   0e0f     MOVLW     0xf                                                                                             
000720   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#ifdef USE_CAN                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
000722   ec4b     CALL      0x96,0x0       		canISR();                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
000724   f000                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000726   50f2     MOVF      0xf2,0x0,0x0   	if (INTCONbits.INT0IE && INTCONbits.INT0IF)                                     F:\MCP\projects\CAN\canNode\Source\Main.c
000728   0b10     ANDLW     0x10                                                                                            
00072a   e101     BNZ       0x72e                                                                                           
00072c   d082     BRA       0x832                                                                                           
00072e   50f2     MOVF      0xf2,0x0,0x0                                                                                    
000730   0b02     ANDLW     0x2                                                                                             
000732   e101     BNZ       0x736                                                                                           
000734   d07e     BRA       0x832                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		static TICK t = 0;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		CAN_MESSAGE cm;                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000736   ec30     CALL      0xa60,0x0      		if ((tickGet()-t)>TICK_SECOND/2)                                               F:\MCP\projects\CAN\canNode\Source\Main.c
000738   f005                                                                                                               
00073a   0100     MOVLB     0x0                                                                                             
00073c   5170     MOVF      0x70,0x0,0x1                                                                                    
00073e   5c18     SUBWF     0x18,0x0,0x0                                                                                    
000740   6e1f     MOVWF     0x1f,0x0                                                                                        
000742   5171     MOVF      0x71,0x0,0x1                                                                                    
000744   5819     SUBWFB    0x19,0x0,0x0                                                                                    
000746   6e20     MOVWF     0x20,0x0                                                                                        
000748   5172     MOVF      0x72,0x0,0x1                                                                                    
00074a   581a     SUBWFB    0x1a,0x0,0x0                                                                                    
00074c   6e21     MOVWF     0x21,0x0                                                                                        
00074e   5173     MOVF      0x73,0x0,0x1                                                                                    
000750   581b     SUBWFB    0x1b,0x0,0x0                                                                                    
000752   6e22     MOVWF     0x22,0x0                                                                                        
000754   80d8     BSF       0xd8,0x0,0x0                                                                                    
000756   0e32     MOVLW     0x32                                                                                            
000758   541f     SUBFWB    0x1f,0x0,0x0                                                                                    
00075a   0e00     MOVLW     0x0                                                                                             
00075c   5420     SUBFWB    0x20,0x0,0x0                                                                                    
00075e   0e00     MOVLW     0x0                                                                                             
000760   5421     SUBFWB    0x21,0x0,0x0                                                                                    
000762   0e00     MOVLW     0x0                                                                                             
000764   5422     SUBFWB    0x22,0x0,0x0                                                                                    
000766   e264     BC        0x830                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000768   7282     BTG       0x82,0x1,0x0   			LED0_IO=~LED0_IO;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			// Send heartbeat                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
00076a   0e91     MOVLW     0x91           			cm.ident=0x1F910091;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
00076c   6ede     MOVWF     0xde,0x0                                                                                        
00076e   6ade     CLRF      0xde,0x0                                                                                        
000770   6ede     MOVWF     0xde,0x0                                                                                        
000772   0e1f     MOVLW     0x1f                                                                                            
000774   6edd     MOVWF     0xdd,0x0                                                                                        
000776   52dd     MOVF      0xdd,0x1,0x0                                                                                    
000778   52dd     MOVF      0xdd,0x1,0x0                                                                                    
00077a   0e01     MOVLW     0x1            			cm.extended=TRUE;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
00077c   6ef3     MOVWF     0xf3,0x0                                                                                        
00077e   0e04     MOVLW     0x4                                                                                             
000780   cff3     MOVFF     0xff3,0xfdb                                                                                     
000782   ffdb                                                                                                               
000784   0e01     MOVLW     0x1            			cm.remote_request=TRUE;                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
000786   6ef3     MOVWF     0xf3,0x0                                                                                        
000788   0e05     MOVLW     0x5                                                                                             
00078a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00078c   ffdb                                                                                                               
00078e   0e01     MOVLW     0x1            			cm.data_length=1;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
000790   6ef3     MOVWF     0xf3,0x0                                                                                        
000792   0e06     MOVLW     0x6                                                                                             
000794   cff3     MOVFF     0xff3,0xfdb                                                                                     
000796   ffdb                                                                                                               
000798   0e01     MOVLW     0x1            			cm.data[0]=0x01;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
00079a   6ef3     MOVWF     0xf3,0x0                                                                                        
00079c   0e07     MOVLW     0x7                                                                                             
00079e   cff3     MOVFF     0xff3,0xfdb                                                                                     
0007a0   ffdb                                                                                                               
0007a2   6ef3     MOVWF     0xf3,0x0       			cm.data[1]=0x07;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0007a4   0e08     MOVLW     0x8                                                                                             
0007a6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0007a8   ffdb                                                                                                               
0007aa   0e09     MOVLW     0x9            			cm.data[2]=0x09;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0007ac   6ef3     MOVWF     0xf3,0x0                                                                                        
0007ae   6edb     MOVWF     0xdb,0x0                                                                                        
0007b0   0e08     MOVLW     0x8            			cm.data[3]=0x08;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0007b2   6ef3     MOVWF     0xf3,0x0                                                                                        
0007b4   0e0a     MOVLW     0xa                                                                                             
0007b6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0007b8   ffdb                                                                                                               
0007ba   0e03     MOVLW     0x3            			cm.data[4]=0x03;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0007bc   6ef3     MOVWF     0xf3,0x0                                                                                        
0007be   0e0b     MOVLW     0xb                                                                                             
0007c0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0007c2   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0007c4   0e01     MOVLW     0x1            			while(!canSendMessage(cm,PRIO_LOW));                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0007c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0007c8   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
0007ca   ffe9                                                                                                               
0007cc   cfda     MOVFF     0xfda,0xfea                                                                                     
0007ce   ffea                                                                                                               
0007d0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007d2   ffe6                                                                                                               
0007d4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007d6   ffe6                                                                                                               
0007d8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007da   ffe6                                                                                                               
0007dc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007de   ffe6                                                                                                               
0007e0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007e2   ffe6                                                                                                               
0007e4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007e6   ffe6                                                                                                               
0007e8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007ea   ffe6                                                                                                               
0007ec   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007ee   ffe6                                                                                                               
0007f0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007f2   ffe6                                                                                                               
0007f4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007f6   ffe6                                                                                                               
0007f8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007fa   ffe6                                                                                                               
0007fc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0007fe   ffe6                                                                                                               
000800   cfee     MOVFF     0xfee,0xfe6                                                                                     
000802   ffe6                                                                                                               
000804   cfee     MOVFF     0xfee,0xfe6                                                                                     
000806   ffe6                                                                                                               
000808   cfee     MOVFF     0xfee,0xfe6                                                                                     
00080a   ffe6                                                                                                               
00080c   ecab     CALL      0x356,0x0                                                                                       
00080e   f001                                                                                                               
000810   6e1f     MOVWF     0x1f,0x0                                                                                        
000812   0e10     MOVLW     0x10                                                                                            
000814   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
000816   501f     MOVF      0x1f,0x0,0x0                                                                                    
000818   0900     IORLW     0x0                                                                                             
00081a   e0d4     BZ        0x7c4                                                                                           
                                           			                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
00081c   ec30     CALL      0xa60,0x0      			t=tickGet();                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
00081e   f005                                                                                                               
000820   c018     MOVFF     0x18,0x70                                                                                       
000822   f070                                                                                                               
000824   c019     MOVFF     0x19,0x71                                                                                       
000826   f071                                                                                                               
000828   c01a     MOVFF     0x1a,0x72                                                                                       
00082a   f072                                                                                                               
00082c   c01b     MOVFF     0x1b,0x73                                                                                       
00082e   f073                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000830   92f2     BCF       0xf2,0x1,0x0   		INTCONbits.INT0IF=0;                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000832   ec39     CALL      0xa72,0x0      	tickUpdate();                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
000834   f005                                                                                                               
000836   0e0f     MOVLW     0xf            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
000838   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00083a   e202     BC        0x840                                                                                           
00083c   6ae1     CLRF      0xe1,0x0                                                                                        
00083e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000840   6ee1     MOVWF     0xe1,0x0                                                                                        
000842   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000844   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000846   ffd9                                                                                                               
000848   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00084a   ee00     LFSR      0x0,0x13                                                                                        
00084c   f013                                                                                                               
00084e   0e14     MOVLW     0x14                                                                                            
000850   04e8     DECF      0xe8,0x0,0x0                                                                                    
000852   e303     BNC       0x85a                                                                                           
000854   cfe5     MOVFF     0xfe5,0xfed                                                                                     
000856   ffed                                                                                                               
000858   d7fb     BRA       0x850                                                                                           
00085a   ee00     LFSR      0x0,0x1e                                                                                        
00085c   f01e                                                                                                               
00085e   0e0b     MOVLW     0xb                                                                                             
000860   04e8     DECF      0xe8,0x0,0x0                                                                                    
000862   e303     BNC       0x86a                                                                                           
000864   cfe5     MOVFF     0xfe5,0xfed                                                                                     
000866   ffed                                                                                                               
000868   d7fb     BRA       0x860                                                                                           
00086a   cfe5     MOVFF     0xfe5,0xffa                                                                                     
00086c   fffa                                                                                                               
00086e   cfe5     MOVFF     0xfe5,0xff4                                                                                     
000870   fff4                                                                                                               
000872   cfe5     MOVFF     0xfe5,0xff3                                                                                     
000874   fff3                                                                                                               
000876   cfe5     MOVFF     0xfe5,0xff5                                                                                     
000878   fff5                                                                                                               
00087a   cfe5     MOVFF     0xfe5,0xff7                                                                                     
00087c   fff7                                                                                                               
00087e   cfe5     MOVFF     0xfe5,0xff6                                                                                     
000880   fff6                                                                                                               
000882   cfe5     MOVFF     0xfe5,0xfea                                                                                     
000884   ffea                                                                                                               
000886   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
000888   ffe9                                                                                                               
00088a   cfe5     MOVFF     0xfe5,0xfda                                                                                     
00088c   ffda                                                                                                               
00088e   50e5     MOVF      0xe5,0x0,0x0                                                                                    
000890   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
000892   ffe0                                                                                                               
000894   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
000896   ffd8                                                                                                               
000898   0010     RETFIE    0x0                                                                                             
                                           #pragma code highVector=0x08                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
                                           void HighVector (void)                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
000008   ef61     GOTO      0x6c2              _asm goto HighISR _endasm                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
00000a   f003                                                                                                               
00000c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma code // Return to default code section                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma interruptlow LowISR                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
00089a   cfd8     MOVFF     0xfd8,0xfe4    void LowISR(void)                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
00089c   ffe4                                                                                                               
00089e   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
0008a0   ffe4                                                                                                               
0008a2   6ee4     MOVWF     0xe4,0x0                                                                                        
0008a4   cfda     MOVFF     0xfda,0xfe4                                                                                     
0008a6   ffe4                                                                                                               
0008a8   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0008aa   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0008ac   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0008ae   ffda                                                                                                               
0008b0   50e5     MOVF      0xe5,0x0,0x0                                                                                    
0008b2   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
0008b4   ffe0                                                                                                               
0008b6   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
0008b8   ffd8                                                                                                               
0008ba   0010     RETFIE    0x0                                                                                             
                                           #pragma code lowVector=0x18                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                           void LowVector (void)                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
000018   ef4d     GOTO      0x89a              _asm goto LowISR _endasm                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
00001a   f004                                                                                                               
00001c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma code // Return to default code section                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Function: mainInit                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Affects: Se code                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           void mainInit()                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0008bc   9294     BCF       0x94,0x1,0x0   	LED0_TRIS=0;	                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                               // Enable internal PORTB pull-ups                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0008be   9ef1     BCF       0xf1,0x7,0x0       INTCON2bits.RBPU = 0;                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// Enable Interrupts                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0008c0   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
0008c2   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// RB0 interrupt                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0008c4   8cf1     BSF       0xf1,0x6,0x0   	INTCON2bits.INTEDG0 = 1; //rising edge                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0008c6   88f2     BSF       0xf2,0x4,0x0   	INTCONbits.INT0IE = 1;	                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// Enable interrupt prirority                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0008c8   8ed0     BSF       0xd0,0x7,0x0   	RCONbits.IPEN=1;                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0008ca   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Function: canParse                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Input:	Received can message                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Pre-conditions: canInit and received packet.                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Affects: Sensors/actuators/etc. See code.                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0008cc   cfd9     MOVFF     0xfd9,0xfe6    void canParse(CAN_MESSAGE cm)                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
0008ce   ffe6                                                                                                               
0008d0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0008d2   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0008d4   50e1     MOVF      0xe1,0x0,0x0   		if (cm.ident==0x00000304)                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
0008d6   0ff0     ADDLW     0xf0                                                                                            
0008d8   6ee9     MOVWF     0xe9,0x0                                                                                        
0008da   0eff     MOVLW     0xff                                                                                            
0008dc   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0008de   6eea     MOVWF     0xea,0x0                                                                                        
0008e0   0e04     MOVLW     0x4                                                                                             
0008e2   18ee     XORWF     0xee,0x0,0x0                                                                                    
0008e4   e160     BNZ       0x9a6                                                                                           
0008e6   0e03     MOVLW     0x3                                                                                             
0008e8   18ee     XORWF     0xee,0x0,0x0                                                                                    
0008ea   e15d     BNZ       0x9a6                                                                                           
0008ec   50ee     MOVF      0xee,0x0,0x0                                                                                    
0008ee   e15b     BNZ       0x9a6                                                                                           
0008f0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0008f2   e159     BNZ       0x9a6                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0008f4   0ef7     MOVLW     0xf7           			if (cm.data[0]==0x20) LED0_IO=1;                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0008f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0008f8   0820     SUBLW     0x20                                                                                            
0008fa   e101     BNZ       0x8fe                                                                                           
0008fc   8282     BSF       0x82,0x1,0x0                                                                                    
0008fe   0ef7     MOVLW     0xf7           			if (cm.data[0]==0x40) LED0_IO=0;                                              F:\MCP\projects\CAN\canNode\Source\Main.c
000900   50db     MOVF      0xdb,0x0,0x0                                                                                    
000902   0840     SUBLW     0x40                                                                                            
000904   e101     BNZ       0x908                                                                                           
000906   9282     BCF       0x82,0x1,0x0                                                                                    
000908   0ef7     MOVLW     0xf7           			if (cm.data[0]==0x80)                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
00090a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00090c   0880     SUBLW     0x80                                                                                            
00090e   e14b     BNZ       0x9a6                                                                                           
                                           			{                                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
000910   0e03     MOVLW     0x3            				cm.ident=0x00000303;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
000912   6ef3     MOVWF     0xf3,0x0                                                                                        
000914   0ef0     MOVLW     0xf0                                                                                            
000916   cff3     MOVFF     0xff3,0xfdb                                                                                     
000918   ffdb                                                                                                               
00091a   0e03     MOVLW     0x3                                                                                             
00091c   6ef3     MOVWF     0xf3,0x0                                                                                        
00091e   0ef1     MOVLW     0xf1                                                                                            
000920   cff3     MOVFF     0xff3,0xfdb                                                                                     
000922   ffdb                                                                                                               
000924   0ef2     MOVLW     0xf2                                                                                            
000926   6adb     CLRF      0xdb,0x0                                                                                        
000928   0ef3     MOVLW     0xf3                                                                                            
00092a   6adb     CLRF      0xdb,0x0                                                                                        
00092c   0ef4     MOVLW     0xf4           				cm.extended=FALSE;                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
00092e   6adb     CLRF      0xdb,0x0                                                                                        
000930   0e01     MOVLW     0x1            				cm.data_length=1;                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000932   6ef3     MOVWF     0xf3,0x0                                                                                        
000934   0ef6     MOVLW     0xf6                                                                                            
000936   cff3     MOVFF     0xff3,0xfdb                                                                                     
000938   ffdb                                                                                                               
00093a   5082     MOVF      0x82,0x0,0x0   				cm.data[0]=LED0_IO;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
00093c   0b02     ANDLW     0x2                                                                                             
00093e   e001     BZ        0x942                                                                                           
000940   0e01     MOVLW     0x1                                                                                             
000942   6ee7     MOVWF     0xe7,0x0                                                                                        
000944   0ef7     MOVLW     0xf7                                                                                            
000946   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
000948   ffdb                                                                                                               
00094a   0e01     MOVLW     0x1            				while(!canSendMessage(cm,PRIO_LOW));	                                        F:\MCP\projects\CAN\canNode\Source\Main.c
00094c   6ee6     MOVWF     0xe6,0x0                                                                                        
00094e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
000950   0ff0     ADDLW     0xf0                                                                                            
000952   6ee9     MOVWF     0xe9,0x0                                                                                        
000954   0eff     MOVLW     0xff                                                                                            
000956   20da     ADDWFC    0xda,0x0,0x0                                                                                    
000958   6eea     MOVWF     0xea,0x0                                                                                        
00095a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00095c   ffe6                                                                                                               
00095e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000960   ffe6                                                                                                               
000962   cfee     MOVFF     0xfee,0xfe6                                                                                     
000964   ffe6                                                                                                               
000966   cfee     MOVFF     0xfee,0xfe6                                                                                     
000968   ffe6                                                                                                               
00096a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00096c   ffe6                                                                                                               
00096e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000970   ffe6                                                                                                               
000972   cfee     MOVFF     0xfee,0xfe6                                                                                     
000974   ffe6                                                                                                               
000976   cfee     MOVFF     0xfee,0xfe6                                                                                     
000978   ffe6                                                                                                               
00097a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00097c   ffe6                                                                                                               
00097e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000980   ffe6                                                                                                               
000982   cfee     MOVFF     0xfee,0xfe6                                                                                     
000984   ffe6                                                                                                               
000986   cfee     MOVFF     0xfee,0xfe6                                                                                     
000988   ffe6                                                                                                               
00098a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00098c   ffe6                                                                                                               
00098e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000990   ffe6                                                                                                               
000992   cfee     MOVFF     0xfee,0xfe6                                                                                     
000994   ffe6                                                                                                               
000996   ecab     CALL      0x356,0x0                                                                                       
000998   f001                                                                                                               
00099a   6e00     MOVWF     0x0,0x0                                                                                         
00099c   0e10     MOVLW     0x10                                                                                            
00099e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0009a0   5000     MOVF      0x0,0x0,0x0                                                                                     
0009a2   0900     IORLW     0x0                                                                                             
0009a4   e0d2     BZ        0x94a                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			}                                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0009a6   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0009a8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0009aa   ffd9                                                                                                               
0009ac   0012     RETURN    0x0                                                                                             
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
