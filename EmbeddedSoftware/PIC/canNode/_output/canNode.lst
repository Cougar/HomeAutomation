MP2COD 4.02, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Sun Oct 29 21:11:04 2006


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                  Ticker service                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            * FileName:        Tick.c                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_INCLUDE                                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #include <Compiler.h>                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_TEMP_VALUE_1 ((INSTR_FREQ) / (TICKS_PER_SECOND * TICK_PRESCALE_VALUE)) F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #if TICK_TEMP_VALUE_1 > 60000                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #error TICK_PER_SECOND value cannot be programmed with current CLOCK_FREQ        F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #error Either lower TICK_PER_SECOND or manually configure the Timer              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_TEMP_VALUE         (65535 - TICK_TEMP_VALUE_1)                      F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_COUNTER_HIGH       ((TICK_TEMP_VALUE >> 8) & 0xff)                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_COUNTER_LOW        (TICK_TEMP_VALUE & 0xff)                         F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #if (TICK_PRESCALE_VALUE == 2)                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (0)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 4 )                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (1)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 8 )                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (2)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 16 )                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (3)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 32 )                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (4)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 64 )                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (5)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 128 )                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (6)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 256 )                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (7)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #else                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #error Invalid TICK_PRESCALE_VALUE specified.                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           TICK TickCount = 0;	// 10ms/unit                                                 F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Function: TickInit                                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Output: Tick manager is initialized.                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define PERIOD (INSTR_FREQ/256/1000)*TICK_PERIOD_MS                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           void tickInit(void)                                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canNode\Source\Tick.c
002a4c   0e79     MOVLW     0x79               TMR0L = TICK_COUNTER_LOW;                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
002a4e   6ed6     MOVWF     0xd6,0x0                                                                                        
002a50   0efe     MOVLW     0xfe               TMR0H = TICK_COUNTER_HIGH;                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
002a52   6ed7     MOVWF     0xd7,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               // 16-BIT, internal timer, PSA set to 1:256                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
002a54   0e07     MOVLW     0x7                T0CON = 0b00000000 | TIMER_PRESCALE;                                         F:\MCP\projects\CAN\canNode\Source\Tick.c
002a56   6ed5     MOVWF     0xd5,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canNode\Source\Tick.c
002a58   8ed5     BSF       0xd5,0x7,0x0       T0CONbits.TMR0ON = 1;                                                        F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
002a5a   84f2     BSF       0xf2,0x2,0x0       INTCONbits.TMR0IF = 1;                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
002a5c   8af2     BSF       0xf2,0x5,0x0       INTCONbits.TMR0IE = 1;                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
002a5e   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Function: TickGet                                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Output: Current tick value is given, 1 tick represents approximately 10ms      F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           TICK tickGet(void)                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
002a60   c074     MOVFF     0x74,0x18          return TickCount;                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
002a62   f018                                                                                                               
002a64   c075     MOVFF     0x75,0x19                                                                                       
002a66   f019                                                                                                               
002a68   c076     MOVFF     0x76,0x1a                                                                                       
002a6a   f01a                                                                                                               
002a6c   c077     MOVFF     0x77,0x1b                                                                                       
002a6e   f01b                                                                                                               
002a70   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Function: tickUpdate                                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           void tickUpdate(void)                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
002a72   a4f2     BTFSS     0xf2,0x2,0x0       if(INTCONbits.TMR0IF)                                                        F:\MCP\projects\CAN\canNode\Source\Tick.c
002a74   d00b     BRA       0x2a8c                                                                                          
                                               {                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
002a76   0efe     MOVLW     0xfe                   TMR0H = TICK_COUNTER_HIGH;                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
002a78   6ed7     MOVWF     0xd7,0x0                                                                                        
002a7a   0e79     MOVLW     0x79                   TMR0L = TICK_COUNTER_LOW;                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
002a7c   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
002a7e   0100     MOVLB     0x0                    TickCount++;                                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
002a80   2b74     INCF      0x74,0x1,0x1                                                                                    
002a82   0e00     MOVLW     0x0                                                                                             
002a84   2375     ADDWFC    0x75,0x1,0x1                                                                                    
002a86   2376     ADDWFC    0x76,0x1,0x1                                                                                    
002a88   2377     ADDWFC    0x77,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
002a8a   94f2     BCF       0xf2,0x2,0x0           INTCONbits.TMR0IF = 0;                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               }                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
002a8c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                  CAN driver                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            * FileName:        CAN.c                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include <CANdefs.h>                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           static void canGetPacket(void);                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canInit                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: Changes can registers.                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           void canInit()                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
002044   0e80     MOVLW     0x80           	CANCON = 0x80; //request config mode                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
002046   6e6f     MOVWF     0x6f,0x0                                                                                        
002048   0ee0     MOVLW     0xe0           	while ((CANSTAT & 0xE0) != 0x80 ); //wait for config mode request               F:\MCP\projects\CAN\canNode\Source\CAN.c
00204a   146e     ANDWF     0x6e,0x0,0x0                                                                                    
00204c   0880     SUBLW     0x80                                                                                            
00204e   e1fc     BNZ       0x2048                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// BAUD AND TQS                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
002050   6a70     CLRF      0x70,0x0       	BRGCON1=0;                                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Sync_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
002052   9e70     BCF       0x70,0x7,0x0   	BRGCON1bits.SJW1=0;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
002054   8c70     BSF       0x70,0x6,0x0   	BRGCON1bits.SJW0=1;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Setting BRP.                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
002056   0e04     MOVLW     0x4            	BRGCON1=BRGCON1|CAN_BRP;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
002058   1070     IORWF     0x70,0x0,0x0                                                                                    
00205a   6e70     MOVWF     0x70,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Maximum PHEG1                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
00205c   8e71     BSF       0x71,0x7,0x0   	BRGCON2bits.SEG2PHTS = 1;                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Phase_Seg1 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
00205e   9a71     BCF       0x71,0x5,0x0   	BRGCON2bits.SEG1PH2 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
002060   9871     BCF       0x71,0x4,0x0   	BRGCON2bits.SEG1PH1 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
002062   8671     BSF       0x71,0x3,0x0   	BRGCON2bits.SEG1PH0 = 1;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Prop_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
002064   9471     BCF       0x71,0x2,0x0   	BRGCON2bits.PRSEG2 = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
002066   9271     BCF       0x71,0x1,0x0   	BRGCON2bits.PRSEG1 = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
002068   8071     BSF       0x71,0x0,0x0   	BRGCON2bits.PRSEG0 = 1;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	//  Enableing bus wake-up                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
00206a   9e72     BCF       0x72,0x7,0x0   	BRGCON3bits.WAKDIS = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Dont use filter when wakeup                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
00206c   9c72     BCF       0x72,0x6,0x0   	BRGCON3bits.WAKFIL = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Phase_Seg2 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
00206e   9472     BCF       0x72,0x2,0x0   	BRGCON3bits.SEG2PH2 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
002070   9272     BCF       0x72,0x1,0x0   	BRGCON3bits.SEG2PH1 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
002072   8072     BSF       0x72,0x0,0x0   	BRGCON3bits.SEG2PH0 = 1;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
002074   6a77     CLRF      0x77,0x0       	ECANCON=0;                                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
002076   9e77     BCF       0x77,0x7,0x0   	ECANCONbits.MDSEL1 = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
002078   8c77     BSF       0x77,0x6,0x0   	ECANCONbits.MDSEL0 = 1;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// FILTERS AND MASKS                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00207a   8c60     BSF       0x60,0x6,0x0   	RXB0CONbits.RXM1=1;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
00207c   9a60     BCF       0x60,0x5,0x0   	RXB0CONbits.RXM0=0;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// INTERRUPTS                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Diable transmit interrupt                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
00207e   010d     MOVLB     0xd            	TXBIE = 0;                                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
002080   6bfc     CLRF      0xfc,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	//rx any interrupt                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
002082   6aa4     CLRF      0xa4,0x0       	PIR3 = 0;                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
002084   0e03     MOVLW     0x3            	PIE3 = 0b00000011;                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
002086   6ea3     MOVWF     0xa3,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// High interrupt                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
002088   6ea5     MOVWF     0xa5,0x0       	IPR3 =0b00000011;                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Programmable buffers interrupt                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
00208a   69fa     SETF      0xfa,0x1       	BIE0  = 0xFF;	                                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	//loopback mode or not                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	#ifdef CAN_LOOPBACK_MODE                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		CANCON = 0x40;//request loopback mode                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		while ((CANSTAT & 0xE0) != 0x40 );//wait for loopback mode                     F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	#else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
00208c   6a6f     CLRF      0x6f,0x0       		CANCON = 0x00;//request normal mode                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00208e   0ee0     MOVLW     0xe0           		while ((CANSTAT & 0xE0) != 0x00 );//wait for normal mode                       F:\MCP\projects\CAN\canNode\Source\CAN.c
002090   146e     ANDWF     0x6e,0x0,0x0                                                                                    
002092   e1fd     BNZ       0x208e                                                                                          
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
002094   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canISR                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: a call to canInit()                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: interrupt registers and receive data buffers                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           void canISR()                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
002096   50a4     MOVF      0xa4,0x0,0x0   	if (PIR3bits.RXBnIF || PIR3bits.RXB1IF || PIR3bits.RXB0IF)                      F:\MCP\projects\CAN\canNode\Source\CAN.c
002098   0b02     ANDLW     0x2                                                                                             
00209a   e106     BNZ       0x20a8                                                                                          
00209c   50a4     MOVF      0xa4,0x0,0x0                                                                                    
00209e   0b02     ANDLW     0x2                                                                                             
0020a0   e103     BNZ       0x20a8                                                                                          
0020a2   50a4     MOVF      0xa4,0x0,0x0                                                                                    
0020a4   0b01     ANDLW     0x1                                                                                             
0020a6   e03a     BZ        0x211c                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Get which buffer that is ful.                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
0020a8   ae60     BTFSS     0x60,0x7,0x0   			 if (RXB0CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10000; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0020aa   d004     BRA       0x20b4                                                                                          
0020ac   0e00     MOVLW     0x0                                                                                             
0020ae   1477     ANDWF     0x77,0x0,0x0                                                                                    
0020b0   0910     IORLW     0x10                                                                                            
0020b2   d02b     BRA       0x210a         		else if (RXB1CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10001; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0020b4   010f     MOVLB     0xf                                                                                             
0020b6   af50     BTFSS     0x50,0x7,0x1                                                                                    
0020b8   d004     BRA       0x20c2                                                                                          
0020ba   0e00     MOVLW     0x0                                                                                             
0020bc   1477     ANDWF     0x77,0x0,0x0                                                                                    
0020be   0911     IORLW     0x11                                                                                            
0020c0   d024     BRA       0x210a         		else if (B0CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10010; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0020c2   010e     MOVLB     0xe                                                                                             
0020c4   af20     BTFSS     0x20,0x7,0x1                                                                                    
0020c6   d004     BRA       0x20d0                                                                                          
0020c8   0e00     MOVLW     0x0                                                                                             
0020ca   1477     ANDWF     0x77,0x0,0x0                                                                                    
0020cc   0912     IORLW     0x12                                                                                            
0020ce   d01d     BRA       0x210a         		else if (B1CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10011; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0020d0   af30     BTFSS     0x30,0x7,0x1                                                                                    
0020d2   d004     BRA       0x20dc                                                                                          
0020d4   0e00     MOVLW     0x0                                                                                             
0020d6   1477     ANDWF     0x77,0x0,0x0                                                                                    
0020d8   0913     IORLW     0x13                                                                                            
0020da   d017     BRA       0x210a         		else if (B2CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10100; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0020dc   af40     BTFSS     0x40,0x7,0x1                                                                                    
0020de   d004     BRA       0x20e8                                                                                          
0020e0   0e00     MOVLW     0x0                                                                                             
0020e2   1477     ANDWF     0x77,0x0,0x0                                                                                    
0020e4   0914     IORLW     0x14                                                                                            
0020e6   d011     BRA       0x210a         		else if (B3CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10101; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0020e8   af50     BTFSS     0x50,0x7,0x1                                                                                    
0020ea   d004     BRA       0x20f4                                                                                          
0020ec   0e00     MOVLW     0x0                                                                                             
0020ee   1477     ANDWF     0x77,0x0,0x0                                                                                    
0020f0   0915     IORLW     0x15                                                                                            
0020f2   d00b     BRA       0x210a         		else if (B4CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10110; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0020f4   af60     BTFSS     0x60,0x7,0x1                                                                                    
0020f6   d004     BRA       0x2100                                                                                          
0020f8   0e00     MOVLW     0x0                                                                                             
0020fa   1477     ANDWF     0x77,0x0,0x0                                                                                    
0020fc   0916     IORLW     0x16                                                                                            
0020fe   d005     BRA       0x210a         		else if (B5CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10111; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
002100   af70     BTFSS     0x70,0x7,0x1                                                                                    
002102   d005     BRA       0x210e                                                                                          
002104   0e00     MOVLW     0x0                                                                                             
002106   1477     ANDWF     0x77,0x0,0x0                                                                                    
002108   0917     IORLW     0x17                                                                                            
00210a   6e77     MOVWF     0x77,0x0                                                                                        
00210c   d808     RCALL     0x211e                                                                                          
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
00210e   a2a4     BTFSS     0xa4,0x1,0x0   		if (PIR3bits.RXBnIF) {PIR3bits.RXBnIF = 0;}                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
002110   d003     BRA       0x2118                                                                                          
002112   92a4     BCF       0xa4,0x1,0x0                                                                                    
002114   b2a4     BTFSC     0xa4,0x1,0x0   		if (PIR3bits.RXB1IF) {PIR3bits.RXB1IF = 0;}                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
002116   92a4     BCF       0xa4,0x1,0x0                                                                                    
002118   b0a4     BTFSC     0xa4,0x0,0x0   		if (PIR3bits.RXB0IF) {PIR3bits.RXB0IF = 0;}                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
00211a   90a4     BCF       0xa4,0x0,0x0                                                                                    
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
00211c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canGetPacket                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: a call to canISR and an packet is available and banked to RXB0 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: Calls canParse() function in main for parsing received packet.        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
00211e   cfd9     MOVFF     0xfd9,0xfe6    void canGetPacket()                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
002120   ffe6                                                                                                               
002122   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
002124   ffd9                                                                                                               
002126   0e0f     MOVLW     0xf                                                                                             
002128   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		CAN_MESSAGE cm;                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Set extended mode or not.                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
00212a   5062     MOVF      0x62,0x0,0x0   		cm.extended=(RXB0SIDLbits.EXID==0?FALSE:TRUE);                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
00212c   0b08     ANDLW     0x8                                                                                             
00212e   e102     BNZ       0x2134                                                                                          
002130   0e00     MOVLW     0x0                                                                                             
002132   d001     BRA       0x2136                                                                                          
002134   0e01     MOVLW     0x1                                                                                             
002136   6ee7     MOVWF     0xe7,0x0                                                                                        
002138   0e04     MOVLW     0x4                                                                                             
00213a   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00213c   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Clear                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
00213e   6ade     CLRF      0xde,0x0       		cm.ident=0;                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
002140   6ade     CLRF      0xde,0x0                                                                                        
002142   6ade     CLRF      0xde,0x0                                                                                        
002144   6add     CLRF      0xdd,0x0                                                                                        
002146   52dd     MOVF      0xdd,0x1,0x0                                                                                    
002148   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00214a   04db     DECF      0xdb,0x0,0x0   		if (cm.extended==TRUE)                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
00214c   e163     BNZ       0x2214                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Read extended ident.                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx 28 27 26 25 24   23 22 21 20 19 18 17 16   15 14 13 12 11 10 09 08   07 06 05 04 03 02 01 00 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 28 27 26 25 24 23 22 21                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 20 19 18 xx xx xx 17 16                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDH 15 14 13 12 11 10 09 08                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDL 07 06 05 04 03 02 01 00                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00214e   5061     MOVF      0x61,0x0,0x0           	cm.ident = (((DWORD)RXB0SIDH)<<21) + (((DWORD)(RXB0SIDL & 0xE0))<<13) + (((DWORD)(RXB0SIDL & 0x03))<<16) + (((DWORD)RXB0EIDH)<<8) + (BYTE)RXB0EIDL; F:\MCP\projects\CAN\canNode\Source\CAN.c
002150   6e00     MOVWF     0x0,0x0                                                                                         
002152   6a01     CLRF      0x1,0x0                                                                                         
002154   6a02     CLRF      0x2,0x0                                                                                         
002156   6a03     CLRF      0x3,0x0                                                                                         
002158   0e15     MOVLW     0x15                                                                                            
00215a   0b1f     ANDLW     0x1f                                                                                            
00215c   e007     BZ        0x216c                                                                                          
00215e   90d8     BCF       0xd8,0x0,0x0                                                                                    
002160   3600     RLCF      0x0,0x1,0x0                                                                                     
002162   3601     RLCF      0x1,0x1,0x0                                                                                     
002164   3602     RLCF      0x2,0x1,0x0                                                                                     
002166   3603     RLCF      0x3,0x1,0x0                                                                                     
002168   06e8     DECF      0xe8,0x1,0x0                                                                                    
00216a   e1f9     BNZ       0x215e                                                                                          
00216c   0ee0     MOVLW     0xe0                                                                                            
00216e   1462     ANDWF     0x62,0x0,0x0                                                                                    
002170   6e04     MOVWF     0x4,0x0                                                                                         
002172   6a05     CLRF      0x5,0x0                                                                                         
002174   6a06     CLRF      0x6,0x0                                                                                         
002176   6a07     CLRF      0x7,0x0                                                                                         
002178   0e0d     MOVLW     0xd                                                                                             
00217a   0b1f     ANDLW     0x1f                                                                                            
00217c   e007     BZ        0x218c                                                                                          
00217e   90d8     BCF       0xd8,0x0,0x0                                                                                    
002180   3604     RLCF      0x4,0x1,0x0                                                                                     
002182   3605     RLCF      0x5,0x1,0x0                                                                                     
002184   3606     RLCF      0x6,0x1,0x0                                                                                     
002186   3607     RLCF      0x7,0x1,0x0                                                                                     
002188   06e8     DECF      0xe8,0x1,0x0                                                                                    
00218a   e1f9     BNZ       0x217e                                                                                          
00218c   5004     MOVF      0x4,0x0,0x0                                                                                     
00218e   2600     ADDWF     0x0,0x1,0x0                                                                                     
002190   5005     MOVF      0x5,0x0,0x0                                                                                     
002192   2201     ADDWFC    0x1,0x1,0x0                                                                                     
002194   5006     MOVF      0x6,0x0,0x0                                                                                     
002196   2202     ADDWFC    0x2,0x1,0x0                                                                                     
002198   5007     MOVF      0x7,0x0,0x0                                                                                     
00219a   2203     ADDWFC    0x3,0x1,0x0                                                                                     
00219c   0e03     MOVLW     0x3                                                                                             
00219e   1462     ANDWF     0x62,0x0,0x0                                                                                    
0021a0   6e08     MOVWF     0x8,0x0                                                                                         
0021a2   6a09     CLRF      0x9,0x0                                                                                         
0021a4   6a0a     CLRF      0xa,0x0                                                                                         
0021a6   6a0b     CLRF      0xb,0x0                                                                                         
0021a8   0e10     MOVLW     0x10                                                                                            
0021aa   0b1f     ANDLW     0x1f                                                                                            
0021ac   e007     BZ        0x21bc                                                                                          
0021ae   90d8     BCF       0xd8,0x0,0x0                                                                                    
0021b0   3608     RLCF      0x8,0x1,0x0                                                                                     
0021b2   3609     RLCF      0x9,0x1,0x0                                                                                     
0021b4   360a     RLCF      0xa,0x1,0x0                                                                                     
0021b6   360b     RLCF      0xb,0x1,0x0                                                                                     
0021b8   06e8     DECF      0xe8,0x1,0x0                                                                                    
0021ba   e1f9     BNZ       0x21ae                                                                                          
0021bc   5008     MOVF      0x8,0x0,0x0                                                                                     
0021be   2600     ADDWF     0x0,0x1,0x0                                                                                     
0021c0   5009     MOVF      0x9,0x0,0x0                                                                                     
0021c2   2201     ADDWFC    0x1,0x1,0x0                                                                                     
0021c4   500a     MOVF      0xa,0x0,0x0                                                                                     
0021c6   2202     ADDWFC    0x2,0x1,0x0                                                                                     
0021c8   500b     MOVF      0xb,0x0,0x0                                                                                     
0021ca   2203     ADDWFC    0x3,0x1,0x0                                                                                     
0021cc   5063     MOVF      0x63,0x0,0x0                                                                                    
0021ce   6e0c     MOVWF     0xc,0x0                                                                                         
0021d0   6a0d     CLRF      0xd,0x0                                                                                         
0021d2   6a0e     CLRF      0xe,0x0                                                                                         
0021d4   6a0f     CLRF      0xf,0x0                                                                                         
0021d6   0e08     MOVLW     0x8                                                                                             
0021d8   0b1f     ANDLW     0x1f                                                                                            
0021da   e007     BZ        0x21ea                                                                                          
0021dc   90d8     BCF       0xd8,0x0,0x0                                                                                    
0021de   360c     RLCF      0xc,0x1,0x0                                                                                     
0021e0   360d     RLCF      0xd,0x1,0x0                                                                                     
0021e2   360e     RLCF      0xe,0x1,0x0                                                                                     
0021e4   360f     RLCF      0xf,0x1,0x0                                                                                     
0021e6   06e8     DECF      0xe8,0x1,0x0                                                                                    
0021e8   e1f9     BNZ       0x21dc                                                                                          
0021ea   500c     MOVF      0xc,0x0,0x0                                                                                     
0021ec   2600     ADDWF     0x0,0x1,0x0                                                                                     
0021ee   500d     MOVF      0xd,0x0,0x0                                                                                     
0021f0   2201     ADDWFC    0x1,0x1,0x0                                                                                     
0021f2   500e     MOVF      0xe,0x0,0x0                                                                                     
0021f4   2202     ADDWFC    0x2,0x1,0x0                                                                                     
0021f6   500f     MOVF      0xf,0x0,0x0                                                                                     
0021f8   2203     ADDWFC    0x3,0x1,0x0                                                                                     
0021fa   5064     MOVF      0x64,0x0,0x0                                                                                    
0021fc   6e10     MOVWF     0x10,0x0                                                                                        
0021fe   6a11     CLRF      0x11,0x0                                                                                        
002200   6a12     CLRF      0x12,0x0                                                                                        
002202   6a13     CLRF      0x13,0x0                                                                                        
002204   50e8     MOVF      0xe8,0x0,0x0                                                                                    
002206   2600     ADDWF     0x0,0x1,0x0                                                                                     
002208   5011     MOVF      0x11,0x0,0x0                                                                                    
00220a   2201     ADDWFC    0x1,0x1,0x0                                                                                     
00220c   5012     MOVF      0x12,0x0,0x0                                                                                    
00220e   2202     ADDWFC    0x2,0x1,0x0                                                                                     
002210   5013     MOVF      0x13,0x0,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
002212   d023     BRA       0x225a         		else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Read standard ident.                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx xx xx 10 09 08   07 06 05 04 03 02 01 00                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 10 09 08 07 06 05 04 03                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 02 01 00 xx xx xx xx xx                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
002214   5061     MOVF      0x61,0x0,0x0   			cm.ident = (((DWORD)RXB0SIDH)<<3) + (((DWORD)RXB0SIDL)>>5);                   F:\MCP\projects\CAN\canNode\Source\CAN.c
002216   6e00     MOVWF     0x0,0x0                                                                                         
002218   6a01     CLRF      0x1,0x0                                                                                         
00221a   6a02     CLRF      0x2,0x0                                                                                         
00221c   6a03     CLRF      0x3,0x0                                                                                         
00221e   0e03     MOVLW     0x3                                                                                             
002220   0b1f     ANDLW     0x1f                                                                                            
002222   e007     BZ        0x2232                                                                                          
002224   90d8     BCF       0xd8,0x0,0x0                                                                                    
002226   3600     RLCF      0x0,0x1,0x0                                                                                     
002228   3601     RLCF      0x1,0x1,0x0                                                                                     
00222a   3602     RLCF      0x2,0x1,0x0                                                                                     
00222c   3603     RLCF      0x3,0x1,0x0                                                                                     
00222e   06e8     DECF      0xe8,0x1,0x0                                                                                    
002230   e1f9     BNZ       0x2224                                                                                          
002232   5062     MOVF      0x62,0x0,0x0                                                                                    
002234   6e04     MOVWF     0x4,0x0                                                                                         
002236   6a05     CLRF      0x5,0x0                                                                                         
002238   6a06     CLRF      0x6,0x0                                                                                         
00223a   6a07     CLRF      0x7,0x0                                                                                         
00223c   0e05     MOVLW     0x5                                                                                             
00223e   90d8     BCF       0xd8,0x0,0x0                                                                                    
002240   3207     RRCF      0x7,0x1,0x0                                                                                     
002242   3206     RRCF      0x6,0x1,0x0                                                                                     
002244   3205     RRCF      0x5,0x1,0x0                                                                                     
002246   3204     RRCF      0x4,0x1,0x0                                                                                     
002248   06e8     DECF      0xe8,0x1,0x0                                                                                    
00224a   e1f9     BNZ       0x223e                                                                                          
00224c   5004     MOVF      0x4,0x0,0x0                                                                                     
00224e   2600     ADDWF     0x0,0x1,0x0                                                                                     
002250   5005     MOVF      0x5,0x0,0x0                                                                                     
002252   2201     ADDWFC    0x1,0x1,0x0                                                                                     
002254   5006     MOVF      0x6,0x0,0x0                                                                                     
002256   2202     ADDWFC    0x2,0x1,0x0                                                                                     
002258   5007     MOVF      0x7,0x0,0x0                                                                                     
00225a   2203     ADDWFC    0x3,0x1,0x0                                                                                     
00225c   c000     MOVFF     0x0,0xfdf                                                                                       
00225e   ffdf                                                                                                               
002260   0e01     MOVLW     0x1                                                                                             
002262   c001     MOVFF     0x1,0xfdb                                                                                       
002264   ffdb                                                                                                               
002266   0e02     MOVLW     0x2                                                                                             
002268   c002     MOVFF     0x2,0xfdb                                                                                       
00226a   ffdb                                                                                                               
00226c   0e03     MOVLW     0x3                                                                                             
00226e   c003     MOVFF     0x3,0xfdb                                                                                       
002270   ffdb                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
002272   5065     MOVF      0x65,0x0,0x0   		cm.data_length=(RXB0DLCbits.DLC3<<3)+(RXB0DLCbits.DLC2<<2)+(RXB0DLCbits.DLC1<<1)+RXB0DLCbits.DLC0; F:\MCP\projects\CAN\canNode\Source\CAN.c
002274   0b01     ANDLW     0x1                                                                                             
002276   6e02     MOVWF     0x2,0x0                                                                                         
002278   5065     MOVF      0x65,0x0,0x0                                                                                    
00227a   0b02     ANDLW     0x2                                                                                             
00227c   e001     BZ        0x2280                                                                                          
00227e   0e01     MOVLW     0x1                                                                                             
002280   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
002282   6e01     MOVWF     0x1,0x0                                                                                         
002284   5065     MOVF      0x65,0x0,0x0                                                                                    
002286   0b04     ANDLW     0x4                                                                                             
002288   e001     BZ        0x228c                                                                                          
00228a   0e01     MOVLW     0x1                                                                                             
00228c   0d04     MULLW     0x4                                                                                             
00228e   cff3     MOVFF     0xff3,0x0                                                                                       
002290   f000                                                                                                               
002292   5065     MOVF      0x65,0x0,0x0                                                                                    
002294   0b08     ANDLW     0x8                                                                                             
002296   e001     BZ        0x229a                                                                                          
002298   0e01     MOVLW     0x1                                                                                             
00229a   0d08     MULLW     0x8                                                                                             
00229c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00229e   2400     ADDWF     0x0,0x0,0x0                                                                                     
0022a0   2401     ADDWF     0x1,0x0,0x0                                                                                     
0022a2   2402     ADDWF     0x2,0x0,0x0                                                                                     
0022a4   6ee7     MOVWF     0xe7,0x0                                                                                        
0022a6   0e06     MOVLW     0x6                                                                                             
0022a8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0022aa   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Remote request                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
0022ac   5065     MOVF      0x65,0x0,0x0   		cm.remote_request=(RXB0DLCbits.RXRTR==0?FALSE:TRUE);                           F:\MCP\projects\CAN\canNode\Source\CAN.c
0022ae   0b40     ANDLW     0x40                                                                                            
0022b0   e102     BNZ       0x22b6                                                                                          
0022b2   0e00     MOVLW     0x0                                                                                             
0022b4   d001     BRA       0x22b8                                                                                          
0022b6   0e01     MOVLW     0x1                                                                                             
0022b8   6ee7     MOVWF     0xe7,0x0                                                                                        
0022ba   0e05     MOVLW     0x5                                                                                             
0022bc   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0022be   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
0022c0   0e07     MOVLW     0x7            		cm.data[0]=RXB0D0;	cm.data[1]=RXB0D1;                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
0022c2   cf66     MOVFF     0xf66,0xfdb                                                                                     
0022c4   ffdb                                                                                                               
0022c6   0e08     MOVLW     0x8                                                                                             
0022c8   cf67     MOVFF     0xf67,0xfdb                                                                                     
0022ca   ffdb                                                                                                               
0022cc   0e09     MOVLW     0x9            		cm.data[2]=RXB0D2; 	cm.data[3]=RXB0D3;                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0022ce   cf68     MOVFF     0xf68,0xfdb                                                                                     
0022d0   ffdb                                                                                                               
0022d2   0e0a     MOVLW     0xa                                                                                             
0022d4   cf69     MOVFF     0xf69,0xfdb                                                                                     
0022d6   ffdb                                                                                                               
0022d8   0e0b     MOVLW     0xb            		cm.data[4]=RXB0D4; 	cm.data[5]=RXB0D5;                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0022da   cf6a     MOVFF     0xf6a,0xfdb                                                                                     
0022dc   ffdb                                                                                                               
0022de   0e0c     MOVLW     0xc                                                                                             
0022e0   cf6b     MOVFF     0xf6b,0xfdb                                                                                     
0022e2   ffdb                                                                                                               
0022e4   0e0d     MOVLW     0xd            		cm.data[6]=RXB0D6; 	cm.data[7]=RXB0D7;                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0022e6   cf6c     MOVFF     0xf6c,0xfdb                                                                                     
0022e8   ffdb                                                                                                               
0022ea   0e0e     MOVLW     0xe                                                                                             
0022ec   cf6d     MOVFF     0xf6d,0xfdb                                                                                     
0022ee   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Clear ful status                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
0022f0   9e60     BCF       0x60,0x7,0x0   		RXB0CONbits.RXFUL=0;                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		//Call main parser                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
0022f2   cfd9     MOVFF     0xfd9,0xfe9    		canParse(cm);                                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
0022f4   ffe9                                                                                                               
0022f6   cfda     MOVFF     0xfda,0xfea                                                                                     
0022f8   ffea                                                                                                               
0022fa   cfee     MOVFF     0xfee,0xfe6                                                                                     
0022fc   ffe6                                                                                                               
0022fe   cfee     MOVFF     0xfee,0xfe6                                                                                     
002300   ffe6                                                                                                               
002302   cfee     MOVFF     0xfee,0xfe6                                                                                     
002304   ffe6                                                                                                               
002306   cfee     MOVFF     0xfee,0xfe6                                                                                     
002308   ffe6                                                                                                               
00230a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00230c   ffe6                                                                                                               
00230e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002310   ffe6                                                                                                               
002312   cfee     MOVFF     0xfee,0xfe6                                                                                     
002314   ffe6                                                                                                               
002316   cfee     MOVFF     0xfee,0xfe6                                                                                     
002318   ffe6                                                                                                               
00231a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00231c   ffe6                                                                                                               
00231e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002320   ffe6                                                                                                               
002322   cfee     MOVFF     0xfee,0xfe6                                                                                     
002324   ffe6                                                                                                               
002326   cfee     MOVFF     0xfee,0xfe6                                                                                     
002328   ffe6                                                                                                               
00232a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00232c   ffe6                                                                                                               
00232e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002330   ffe6                                                                                                               
002332   cfee     MOVFF     0xfee,0xfe6                                                                                     
002334   ffe6                                                                                                               
002336   ec66     CALL      0x28cc,0x0                                                                                      
002338   f014                                                                                                               
00233a   6e00     MOVWF     0x0,0x0                                                                                         
00233c   0e0f     MOVLW     0xf                                                                                             
00233e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
002340   5000     MOVF      0x0,0x0,0x0                                                                                     
002342   0e0f     MOVLW     0xf            }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
002344   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002346   e202     BC        0x234c                                                                                          
002348   6ae1     CLRF      0xe1,0x0                                                                                        
00234a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00234c   6ee1     MOVWF     0xe1,0x0                                                                                        
00234e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002350   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
002352   ffd9                                                                                                               
002354   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canSendMessage                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	CAN_MESSAGE to send                                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: True if packet scheduled sucess, false otherwise.                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: canInit                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: ..                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
002356   cfd9     MOVFF     0xfd9,0xfe6    BOOL canSendMessage(CAN_MESSAGE cm,CAN_PRIORITY prio)                            F:\MCP\projects\CAN\canNode\Source\CAN.c
002358   ffe6                                                                                                               
00235a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00235c   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
00235e   010f     MOVLB     0xf            	if ( TXB0CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00011; }           F:\MCP\projects\CAN\canNode\Source\CAN.c
002360   b740     BTFSC     0x40,0x3,0x1                                                                                    
002362   d004     BRA       0x236c                                                                                          
002364   0e00     MOVLW     0x0                                                                                             
002366   1477     ANDWF     0x77,0x0,0x0                                                                                    
002368   0903     IORLW     0x3                                                                                             
00236a   6e77     MOVWF     0x77,0x0                                                                                        
00236c   010f     MOVLB     0xf            	if ( TXB1CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00100; }           F:\MCP\projects\CAN\canNode\Source\CAN.c
00236e   b730     BTFSC     0x30,0x3,0x1                                                                                    
002370   d004     BRA       0x237a                                                                                          
002372   0e00     MOVLW     0x0                                                                                             
002374   1477     ANDWF     0x77,0x0,0x0                                                                                    
002376   0904     IORLW     0x4                                                                                             
002378   6e77     MOVWF     0x77,0x0                                                                                        
00237a   010f     MOVLB     0xf            	if ( TXB2CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00101; }           F:\MCP\projects\CAN\canNode\Source\CAN.c
00237c   b720     BTFSC     0x20,0x3,0x1                                                                                    
00237e   d005     BRA       0x238a                                                                                          
002380   0e00     MOVLW     0x0                                                                                             
002382   1477     ANDWF     0x77,0x0,0x0                                                                                    
002384   0905     IORLW     0x5                                                                                             
002386   6e77     MOVWF     0x77,0x0                                                                                        
                                           	// None of the transmit buffers were empty.                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
002388   d002     BRA       0x238e         	else { return FALSE;}                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
00238a   0e00     MOVLW     0x0                                                                                             
00238c   d0e4     BRA       0x2556                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00238e   0eef     MOVLW     0xef           	if (prio<0 || prio>3) prio = 0;                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
002390   cfdb     MOVFF     0xfdb,0x0                                                                                       
002392   f000                                                                                                               
002394   3400     RLCF      0x0,0x0,0x0                                                                                     
002396   e20e     BC        0x23b4                                                                                          
002398   0eef     MOVLW     0xef                                                                                            
00239a   cfdb     MOVFF     0xfdb,0x1                                                                                       
00239c   f001                                                                                                               
00239e   0e03     MOVLW     0x3                                                                                             
0023a0   6ee7     MOVWF     0xe7,0x0                                                                                        
0023a2   1801     XORWF     0x1,0x0,0x0                                                                                     
0023a4   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0023a6   d002     BRA       0x23ac                                                                                          
0023a8   3401     RLCF      0x1,0x0,0x0                                                                                     
0023aa   d003     BRA       0x23b2                                                                                          
0023ac   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0023ae   80d8     BSF       0xd8,0x0,0x0                                                                                    
0023b0   5401     SUBFWB    0x1,0x0,0x0                                                                                     
0023b2   e202     BC        0x23b8                                                                                          
0023b4   0eef     MOVLW     0xef                                                                                            
0023b6   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
0023b8   0ef4     MOVLW     0xf4           		if (cm.extended==TRUE)                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0023ba   04db     DECF      0xdb,0x0,0x0                                                                                    
0023bc   e15f     BNZ       0x247c                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Write extended ident.                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx 28 27 26 25 24   23 22 21 20 19 18 17 16   15 14 13 12 11 10 09 08   07 06 05 04 03 02 01 00 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 28 27 26 25 24 23 22 21                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 20 19 18 xx xx xx 17 16                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDH 15 14 13 12 11 10 09 08                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDL 07 06 05 04 03 02 01 00                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
0023be   0ef0     MOVLW     0xf0                   	RXB0SIDH =  (BYTE)((cm.ident>>21));                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
0023c0   cfdb     MOVFF     0xfdb,0x0                                                                                       
0023c2   f000                                                                                                               
0023c4   0ef1     MOVLW     0xf1                                                                                            
0023c6   cfdb     MOVFF     0xfdb,0x1                                                                                       
0023c8   f001                                                                                                               
0023ca   0ef2     MOVLW     0xf2                                                                                            
0023cc   cfdb     MOVFF     0xfdb,0x2                                                                                       
0023ce   f002                                                                                                               
0023d0   0ef3     MOVLW     0xf3                                                                                            
0023d2   cfdb     MOVFF     0xfdb,0x3                                                                                       
0023d4   f003                                                                                                               
0023d6   0e15     MOVLW     0x15                                                                                            
0023d8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0023da   3203     RRCF      0x3,0x1,0x0                                                                                     
0023dc   3202     RRCF      0x2,0x1,0x0                                                                                     
0023de   3201     RRCF      0x1,0x1,0x0                                                                                     
0023e0   3200     RRCF      0x0,0x1,0x0                                                                                     
0023e2   06e8     DECF      0xe8,0x1,0x0                                                                                    
0023e4   e1f9     BNZ       0x23d8                                                                                          
0023e6   5000     MOVF      0x0,0x0,0x0                                                                                     
0023e8   6e61     MOVWF     0x61,0x0                                                                                        
0023ea   0ef0     MOVLW     0xf0                   	RXB0SIDL = ((BYTE)(cm.ident>>16) & 0x03) + ((BYTE)(cm.ident>>13) & 0xE0); F:\MCP\projects\CAN\canNode\Source\CAN.c
0023ec   cfdb     MOVFF     0xfdb,0x5                                                                                       
0023ee   f005                                                                                                               
0023f0   0ef1     MOVLW     0xf1                                                                                            
0023f2   cfdb     MOVFF     0xfdb,0x6                                                                                       
0023f4   f006                                                                                                               
0023f6   0ef2     MOVLW     0xf2                                                                                            
0023f8   cfdb     MOVFF     0xfdb,0x7                                                                                       
0023fa   f007                                                                                                               
0023fc   0ef3     MOVLW     0xf3                                                                                            
0023fe   cfdb     MOVFF     0xfdb,0x8                                                                                       
002400   f008                                                                                                               
002402   0e0d     MOVLW     0xd                                                                                             
002404   90d8     BCF       0xd8,0x0,0x0                                                                                    
002406   3208     RRCF      0x8,0x1,0x0                                                                                     
002408   3207     RRCF      0x7,0x1,0x0                                                                                     
00240a   3206     RRCF      0x6,0x1,0x0                                                                                     
00240c   3205     RRCF      0x5,0x1,0x0                                                                                     
00240e   06e8     DECF      0xe8,0x1,0x0                                                                                    
002410   e1f9     BNZ       0x2404                                                                                          
002412   0ee0     MOVLW     0xe0                                                                                            
002414   1405     ANDWF     0x5,0x0,0x0                                                                                     
002416   6e04     MOVWF     0x4,0x0                                                                                         
002418   0ef0     MOVLW     0xf0                                                                                            
00241a   cfdb     MOVFF     0xfdb,0x0                                                                                       
00241c   f000                                                                                                               
00241e   0ef1     MOVLW     0xf1                                                                                            
002420   cfdb     MOVFF     0xfdb,0x1                                                                                       
002422   f001                                                                                                               
002424   0ef2     MOVLW     0xf2                                                                                            
002426   cfdb     MOVFF     0xfdb,0x2                                                                                       
002428   f002                                                                                                               
00242a   0ef3     MOVLW     0xf3                                                                                            
00242c   cfdb     MOVFF     0xfdb,0x3                                                                                       
00242e   f003                                                                                                               
002430   0e10     MOVLW     0x10                                                                                            
002432   90d8     BCF       0xd8,0x0,0x0                                                                                    
002434   3203     RRCF      0x3,0x1,0x0                                                                                     
002436   3202     RRCF      0x2,0x1,0x0                                                                                     
002438   3201     RRCF      0x1,0x1,0x0                                                                                     
00243a   3200     RRCF      0x0,0x1,0x0                                                                                     
00243c   06e8     DECF      0xe8,0x1,0x0                                                                                    
00243e   e1f9     BNZ       0x2432                                                                                          
002440   0e03     MOVLW     0x3                                                                                             
002442   1400     ANDWF     0x0,0x0,0x0                                                                                     
002444   2404     ADDWF     0x4,0x0,0x0                                                                                     
002446   6e62     MOVWF     0x62,0x0                                                                                        
002448   0ef0     MOVLW     0xf0                   	RXB0EIDH =  (BYTE)(cm.ident>>8);                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
00244a   cfdb     MOVFF     0xfdb,0x0                                                                                       
00244c   f000                                                                                                               
00244e   0ef1     MOVLW     0xf1                                                                                            
002450   cfdb     MOVFF     0xfdb,0x1                                                                                       
002452   f001                                                                                                               
002454   0ef2     MOVLW     0xf2                                                                                            
002456   cfdb     MOVFF     0xfdb,0x2                                                                                       
002458   f002                                                                                                               
00245a   0ef3     MOVLW     0xf3                                                                                            
00245c   cfdb     MOVFF     0xfdb,0x3                                                                                       
00245e   f003                                                                                                               
002460   0e08     MOVLW     0x8                                                                                             
002462   90d8     BCF       0xd8,0x0,0x0                                                                                    
002464   3203     RRCF      0x3,0x1,0x0                                                                                     
002466   3202     RRCF      0x2,0x1,0x0                                                                                     
002468   3201     RRCF      0x1,0x1,0x0                                                                                     
00246a   3200     RRCF      0x0,0x1,0x0                                                                                     
00246c   06e8     DECF      0xe8,0x1,0x0                                                                                    
00246e   e1f9     BNZ       0x2462                                                                                          
002470   5000     MOVF      0x0,0x0,0x0                                                                                     
002472   6e63     MOVWF     0x63,0x0                                                                                        
002474   0ef0     MOVLW     0xf0                   	RXB0EIDL =  (BYTE)cm.ident;                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
002476   50db     MOVF      0xdb,0x0,0x0                                                                                    
002478   6e64     MOVWF     0x64,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
00247a   d02f     BRA       0x24da         		else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Write standard ident.                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx xx xx 10 09 08   07 06 05 04 03 02 01 00                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 10 09 08 07 06 05 04 03                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 02 01 00 xx xx xx xx xx                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00247c   0ef0     MOVLW     0xf0                  		RXB0SIDH=  (BYTE)(cm.ident>>3);                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
00247e   cfdb     MOVFF     0xfdb,0x0                                                                                       
002480   f000                                                                                                               
002482   0ef1     MOVLW     0xf1                                                                                            
002484   cfdb     MOVFF     0xfdb,0x1                                                                                       
002486   f001                                                                                                               
002488   0ef2     MOVLW     0xf2                                                                                            
00248a   cfdb     MOVFF     0xfdb,0x2                                                                                       
00248c   f002                                                                                                               
00248e   0ef3     MOVLW     0xf3                                                                                            
002490   cfdb     MOVFF     0xfdb,0x3                                                                                       
002492   f003                                                                                                               
002494   0e03     MOVLW     0x3                                                                                             
002496   90d8     BCF       0xd8,0x0,0x0                                                                                    
002498   3203     RRCF      0x3,0x1,0x0                                                                                     
00249a   3202     RRCF      0x2,0x1,0x0                                                                                     
00249c   3201     RRCF      0x1,0x1,0x0                                                                                     
00249e   3200     RRCF      0x0,0x1,0x0                                                                                     
0024a0   06e8     DECF      0xe8,0x1,0x0                                                                                    
0024a2   e1f9     BNZ       0x2496                                                                                          
0024a4   5000     MOVF      0x0,0x0,0x0                                                                                     
0024a6   6e61     MOVWF     0x61,0x0                                                                                        
0024a8   0ef0     MOVLW     0xf0                   	RXB0SIDL= ((BYTE)(cm.ident<<5) & 0xE0);                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
0024aa   cfdb     MOVFF     0xfdb,0x0                                                                                       
0024ac   f000                                                                                                               
0024ae   0ef1     MOVLW     0xf1                                                                                            
0024b0   cfdb     MOVFF     0xfdb,0x1                                                                                       
0024b2   f001                                                                                                               
0024b4   0ef2     MOVLW     0xf2                                                                                            
0024b6   cfdb     MOVFF     0xfdb,0x2                                                                                       
0024b8   f002                                                                                                               
0024ba   0ef3     MOVLW     0xf3                                                                                            
0024bc   cfdb     MOVFF     0xfdb,0x3                                                                                       
0024be   f003                                                                                                               
0024c0   0e05     MOVLW     0x5                                                                                             
0024c2   0b1f     ANDLW     0x1f                                                                                            
0024c4   e007     BZ        0x24d4                                                                                          
0024c6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0024c8   3600     RLCF      0x0,0x1,0x0                                                                                     
0024ca   3601     RLCF      0x1,0x1,0x0                                                                                     
0024cc   3602     RLCF      0x2,0x1,0x0                                                                                     
0024ce   3603     RLCF      0x3,0x1,0x0                                                                                     
0024d0   06e8     DECF      0xe8,0x1,0x0                                                                                    
0024d2   e1f9     BNZ       0x24c6                                                                                          
0024d4   0ee0     MOVLW     0xe0                                                                                            
0024d6   1400     ANDWF     0x0,0x0,0x0                                                                                     
0024d8   6e62     MOVWF     0x62,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
0024da   6a65     CLRF      0x65,0x0       		RXB0DLC = 0;                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
0024dc   0ef6     MOVLW     0xf6           		if (cm.data_length>8) RXB0DLC=8; else RXB0DLC=cm.data_length;                  F:\MCP\projects\CAN\canNode\Source\CAN.c
0024de   50db     MOVF      0xdb,0x0,0x0                                                                                    
0024e0   0808     SUBLW     0x8                                                                                             
0024e2   e203     BC        0x24ea                                                                                          
0024e4   0e08     MOVLW     0x8                                                                                             
0024e6   6e65     MOVWF     0x65,0x0                                                                                        
0024e8   d003     BRA       0x24f0                                                                                          
0024ea   0ef6     MOVLW     0xf6                                                                                            
0024ec   50db     MOVF      0xdb,0x0,0x0                                                                                    
0024ee   6e65     MOVWF     0x65,0x0                                                                                        
                                           		                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Remote request                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
0024f0   0ef5     MOVLW     0xf5           		if (cm.remote_request==TRUE)                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
0024f2   04db     DECF      0xdb,0x0,0x0                                                                                    
0024f4   e102     BNZ       0x24fa                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			_asm                                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
0024f6   8c65     BSF       0x65,0x6,0x0   				bsf RXB0DLC, 6, 0                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			_endasm                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
0024f8   d001     BRA       0x24fc         		else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			_asm                                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
0024fa   9c65     BCF       0x65,0x6,0x0   				bcf RXB0DLC, 6, 0                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			_endasm                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
0024fc   0ef7     MOVLW     0xf7           		RXB0D0=cm.data[0];	RXB0D1=cm.data[1];                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
0024fe   50db     MOVF      0xdb,0x0,0x0                                                                                    
002500   6e66     MOVWF     0x66,0x0                                                                                        
002502   0ef8     MOVLW     0xf8                                                                                            
002504   50db     MOVF      0xdb,0x0,0x0                                                                                    
002506   6e67     MOVWF     0x67,0x0                                                                                        
002508   0ef9     MOVLW     0xf9           		RXB0D2=cm.data[2]; 	RXB0D3=cm.data[3];                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
00250a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00250c   6e68     MOVWF     0x68,0x0                                                                                        
00250e   0efa     MOVLW     0xfa                                                                                            
002510   50db     MOVF      0xdb,0x0,0x0                                                                                    
002512   6e69     MOVWF     0x69,0x0                                                                                        
002514   0efb     MOVLW     0xfb           		RXB0D4=cm.data[4]; 	RXB0D5=cm.data[5];                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
002516   50db     MOVF      0xdb,0x0,0x0                                                                                    
002518   6e6a     MOVWF     0x6a,0x0                                                                                        
00251a   0efc     MOVLW     0xfc                                                                                            
00251c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00251e   6e6b     MOVWF     0x6b,0x0                                                                                        
002520   0efd     MOVLW     0xfd           		RXB0D6=cm.data[6]; 	RXB0D7=cm.data[7];                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
002522   50db     MOVF      0xdb,0x0,0x0                                                                                    
002524   6e6c     MOVWF     0x6c,0x0                                                                                        
002526   0efe     MOVLW     0xfe                                                                                            
002528   50db     MOVF      0xdb,0x0,0x0                                                                                    
00252a   6e6d     MOVWF     0x6d,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// set extended or not                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
00252c   0ef4     MOVLW     0xf4           		RXB0SIDLbits.EXID=(cm.extended==TRUE?1:0);                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
00252e   04db     DECF      0xdb,0x0,0x0                                                                                    
002530   e102     BNZ       0x2536                                                                                          
002532   0e01     MOVLW     0x1                                                                                             
002534   d001     BRA       0x2538                                                                                          
002536   0e00     MOVLW     0x0                                                                                             
002538   b0e8     BTFSC     0xe8,0x0,0x0                                                                                    
00253a   8662     BSF       0x62,0x3,0x0                                                                                    
00253c   a0e8     BTFSS     0xe8,0x0,0x0                                                                                    
00253e   9662     BCF       0x62,0x3,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Priority                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
002540   0eef     MOVLW     0xef           		RXB0CON = (RXB0CON & 0b11111100) | prio;                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
002542   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002544   ffe6                                                                                                               
002546   0efc     MOVLW     0xfc                                                                                            
002548   1460     ANDWF     0x60,0x0,0x0                                                                                    
00254a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00254c   10e7     IORWF     0xe7,0x0,0x0                                                                                    
00254e   6e60     MOVWF     0x60,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// mark as redy to transmit                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		_asm                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
002550   8660     BSF       0x60,0x3,0x0   			bsf RXB0CON, 3, 0                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		_endasm                                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
002552   0e01     MOVLW     0x1            		return TRUE;                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
002554   d000     BRA       0x2556                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
002556   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
002558   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00255a   ffd9                                                                                                               
00255c   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #endif //USE_CAN                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                  Main application                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\Main.c
                                            * FileName:        Main.c                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\Main.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #include <compiler.h>                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#include <CAN.h>                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           static void mainInit(void);                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           unsigned int heartcnt=0;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00255e   cfd9     MOVFF     0xfd9,0xfe6    void main()                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
002560   ffe6                                                                                                               
002562   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
002564   ffd9                                                                                                               
002566   0e0f     MOVLW     0xf                                                                                             
002568   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	static TICK t = 0;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// Inits                                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00256a   d9a8     RCALL     0x28bc         	mainInit();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#ifdef USE_CAN                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
00256c   ec22     CALL      0x2044,0x0     		canInit();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
00256e   f010                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
002570   ec26     CALL      0x2a4c,0x0     	tickInit();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
002572   f015                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	while(1)                                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		#ifdef USE_CAN                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
002574   ec30     CALL      0x2a60,0x0     		if ((tickGet()-t)>=5*TICK_SECOND)                                              F:\MCP\projects\CAN\canNode\Source\Main.c
002576   f015                                                                                                               
002578   0100     MOVLB     0x0                                                                                             
00257a   516c     MOVF      0x6c,0x0,0x1                                                                                    
00257c   5c18     SUBWF     0x18,0x0,0x0                                                                                    
00257e   6e00     MOVWF     0x0,0x0                                                                                         
002580   516d     MOVF      0x6d,0x0,0x1                                                                                    
002582   5819     SUBWFB    0x19,0x0,0x0                                                                                    
002584   6e01     MOVWF     0x1,0x0                                                                                         
002586   516e     MOVF      0x6e,0x0,0x1                                                                                    
002588   581a     SUBWFB    0x1a,0x0,0x0                                                                                    
00258a   6e02     MOVWF     0x2,0x0                                                                                         
00258c   516f     MOVF      0x6f,0x0,0x1                                                                                    
00258e   581b     SUBWFB    0x1b,0x0,0x0                                                                                    
002590   6e03     MOVWF     0x3,0x0                                                                                         
002592   0ef4     MOVLW     0xf4                                                                                            
002594   5c00     SUBWF     0x0,0x0,0x0                                                                                     
002596   0e01     MOVLW     0x1                                                                                             
002598   5801     SUBWFB    0x1,0x0,0x0                                                                                     
00259a   0e00     MOVLW     0x0                                                                                             
00259c   5802     SUBWFB    0x2,0x0,0x0                                                                                     
00259e   0e00     MOVLW     0x0                                                                                             
0025a0   5803     SUBWFB    0x3,0x0,0x0                                                                                     
0025a2   e3e8     BNC       0x2574                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			CAN_MESSAGE cm;                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0025a4   ec30     CALL      0x2a60,0x0     			t = tickGet();                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0025a6   f015                                                                                                               
0025a8   c018     MOVFF     0x18,0x6c                                                                                       
0025aa   f06c                                                                                                               
0025ac   c019     MOVFF     0x19,0x6d                                                                                       
0025ae   f06d                                                                                                               
0025b0   c01a     MOVFF     0x1a,0x6e                                                                                       
0025b2   f06e                                                                                                               
0025b4   c01b     MOVFF     0x1b,0x6f                                                                                       
0025b6   f06f                                                                                                               
                                           		                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			// Send heartbeat                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0025b8   0e66     MOVLW     0x66           			cm.ident=0x00000666;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0025ba   6ede     MOVWF     0xde,0x0                                                                                        
0025bc   0e06     MOVLW     0x6                                                                                             
0025be   6ede     MOVWF     0xde,0x0                                                                                        
0025c0   6ade     CLRF      0xde,0x0                                                                                        
0025c2   6add     CLRF      0xdd,0x0                                                                                        
0025c4   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0025c6   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0025c8   0e04     MOVLW     0x4            			cm.extended=FALSE;                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0025ca   6adb     CLRF      0xdb,0x0                                                                                        
0025cc   0e05     MOVLW     0x5            			cm.data_length=5;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0025ce   6ef3     MOVWF     0xf3,0x0                                                                                        
0025d0   0e06     MOVLW     0x6                                                                                             
0025d2   cff3     MOVFF     0xff3,0xfdb                                                                                     
0025d4   ffdb                                                                                                               
0025d6   0e48     MOVLW     0x48           			cm.data[0]='H';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0025d8   6ef3     MOVWF     0xf3,0x0                                                                                        
0025da   0e07     MOVLW     0x7                                                                                             
0025dc   cff3     MOVFF     0xff3,0xfdb                                                                                     
0025de   ffdb                                                                                                               
0025e0   0100     MOVLB     0x0            			cm.data[1]=(BYTE)((heartcnt & 0x000000FF));                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0025e2   516a     MOVF      0x6a,0x0,0x1                                                                                    
0025e4   6ee7     MOVWF     0xe7,0x0                                                                                        
0025e6   0e08     MOVLW     0x8                                                                                             
0025e8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0025ea   ffdb                                                                                                               
0025ec   0e00     MOVLW     0x0            			cm.data[2]=(BYTE)((heartcnt & 0x0000FF00)>>1);                                F:\MCP\projects\CAN\canNode\Source\Main.c
0025ee   156a     ANDWF     0x6a,0x0,0x1                                                                                    
0025f0   6e00     MOVWF     0x0,0x0                                                                                         
0025f2   0eff     MOVLW     0xff                                                                                            
0025f4   156b     ANDWF     0x6b,0x0,0x1                                                                                    
0025f6   6e01     MOVWF     0x1,0x0                                                                                         
0025f8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0025fa   3201     RRCF      0x1,0x1,0x0                                                                                     
0025fc   3200     RRCF      0x0,0x1,0x0                                                                                     
0025fe   0e09     MOVLW     0x9                                                                                             
002600   c000     MOVFF     0x0,0xfdb                                                                                       
002602   ffdb                                                                                                               
002604   c06a     MOVFF     0x6a,0x3       			cm.data[3]=(BYTE)((heartcnt & 0x00FF0000)>>2);                                F:\MCP\projects\CAN\canNode\Source\Main.c
002606   f003                                                                                                               
002608   c06b     MOVFF     0x6b,0x4                                                                                        
00260a   f004                                                                                                               
00260c   6a05     CLRF      0x5,0x0                                                                                         
00260e   6a03     CLRF      0x3,0x0                                                                                         
002610   6a04     CLRF      0x4,0x0                                                                                         
002612   0e02     MOVLW     0x2                                                                                             
002614   0b1f     ANDLW     0x1f                                                                                            
002616   c003     MOVFF     0x3,0x0                                                                                         
002618   f000                                                                                                               
00261a   c004     MOVFF     0x4,0x1                                                                                         
00261c   f001                                                                                                               
00261e   c005     MOVFF     0x5,0x2                                                                                         
002620   f002                                                                                                               
002622   e006     BZ        0x2630                                                                                          
002624   90d8     BCF       0xd8,0x0,0x0                                                                                    
002626   3202     RRCF      0x2,0x1,0x0                                                                                     
002628   3201     RRCF      0x1,0x1,0x0                                                                                     
00262a   3200     RRCF      0x0,0x1,0x0                                                                                     
00262c   06e8     DECF      0xe8,0x1,0x0                                                                                    
00262e   e1fa     BNZ       0x2624                                                                                          
002630   0e0a     MOVLW     0xa                                                                                             
002632   c000     MOVFF     0x0,0xfdb                                                                                       
002634   ffdb                                                                                                               
002636   c06a     MOVFF     0x6a,0x0       			cm.data[4]=(BYTE)((heartcnt & 0xFF000000)>>3);                                F:\MCP\projects\CAN\canNode\Source\Main.c
002638   f000                                                                                                               
00263a   c06b     MOVFF     0x6b,0x1                                                                                        
00263c   f001                                                                                                               
00263e   6a02     CLRF      0x2,0x0                                                                                         
002640   6a03     CLRF      0x3,0x0                                                                                         
002642   6a00     CLRF      0x0,0x0                                                                                         
002644   6a01     CLRF      0x1,0x0                                                                                         
002646   6a02     CLRF      0x2,0x0                                                                                         
002648   0e03     MOVLW     0x3                                                                                             
00264a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00264c   3203     RRCF      0x3,0x1,0x0                                                                                     
00264e   3202     RRCF      0x2,0x1,0x0                                                                                     
002650   3201     RRCF      0x1,0x1,0x0                                                                                     
002652   3200     RRCF      0x0,0x1,0x0                                                                                     
002654   06e8     DECF      0xe8,0x1,0x0                                                                                    
002656   e1f9     BNZ       0x264a                                                                                          
002658   0e0b     MOVLW     0xb                                                                                             
00265a   c000     MOVFF     0x0,0xfdb                                                                                       
00265c   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00265e   0100     MOVLB     0x0            			heartcnt++;                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
002660   2b6a     INCF      0x6a,0x1,0x1                                                                                    
002662   0e00     MOVLW     0x0                                                                                             
002664   236b     ADDWFC    0x6b,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
002666   0e01     MOVLW     0x1            			while(!canSendMessage(cm,PRIO_LOW));	                                         F:\MCP\projects\CAN\canNode\Source\Main.c
002668   6ee6     MOVWF     0xe6,0x0                                                                                        
00266a   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
00266c   ffe9                                                                                                               
00266e   cfda     MOVFF     0xfda,0xfea                                                                                     
002670   ffea                                                                                                               
002672   cfee     MOVFF     0xfee,0xfe6                                                                                     
002674   ffe6                                                                                                               
002676   cfee     MOVFF     0xfee,0xfe6                                                                                     
002678   ffe6                                                                                                               
00267a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00267c   ffe6                                                                                                               
00267e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002680   ffe6                                                                                                               
002682   cfee     MOVFF     0xfee,0xfe6                                                                                     
002684   ffe6                                                                                                               
002686   cfee     MOVFF     0xfee,0xfe6                                                                                     
002688   ffe6                                                                                                               
00268a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00268c   ffe6                                                                                                               
00268e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002690   ffe6                                                                                                               
002692   cfee     MOVFF     0xfee,0xfe6                                                                                     
002694   ffe6                                                                                                               
002696   cfee     MOVFF     0xfee,0xfe6                                                                                     
002698   ffe6                                                                                                               
00269a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00269c   ffe6                                                                                                               
00269e   cfee     MOVFF     0xfee,0xfe6                                                                                     
0026a0   ffe6                                                                                                               
0026a2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0026a4   ffe6                                                                                                               
0026a6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0026a8   ffe6                                                                                                               
0026aa   cfee     MOVFF     0xfee,0xfe6                                                                                     
0026ac   ffe6                                                                                                               
0026ae   ecab     CALL      0x2356,0x0                                                                                      
0026b0   f011                                                                                                               
0026b2   6e00     MOVWF     0x0,0x0                                                                                         
0026b4   0e10     MOVLW     0x10                                                                                            
0026b6   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0026b8   5000     MOVF      0x0,0x0,0x0                                                                                     
0026ba   0900     IORLW     0x0                                                                                             
0026bc   e001     BZ        0x26c0                                                                                          
0026be   d75a     BRA       0x2574                                                                                          
0026c0   d7d2     BRA       0x2666                                                                                          
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		#endif                                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma interruptlow HighISR                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
0026c2   cfd8     MOVFF     0xfd8,0xfe4    void HighISR(void)                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0026c4   ffe4                                                                                                               
0026c6   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
0026c8   ffe4                                                                                                               
0026ca   6ee4     MOVWF     0xe4,0x0                                                                                        
0026cc   cfda     MOVFF     0xfda,0xfe4                                                                                     
0026ce   ffe4                                                                                                               
0026d0   cfe2     MOVFF     0xfe2,0xfda                                                                                     
0026d2   ffda                                                                                                               
0026d4   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
0026d6   ffe4                                                                                                               
0026d8   cfea     MOVFF     0xfea,0xfe4                                                                                     
0026da   ffe4                                                                                                               
0026dc   cff6     MOVFF     0xff6,0xfe4                                                                                     
0026de   ffe4                                                                                                               
0026e0   cff7     MOVFF     0xff7,0xfe4                                                                                     
0026e2   ffe4                                                                                                               
0026e4   cff5     MOVFF     0xff5,0xfe4                                                                                     
0026e6   ffe4                                                                                                               
0026e8   cff3     MOVFF     0xff3,0xfe4                                                                                     
0026ea   ffe4                                                                                                               
0026ec   cff4     MOVFF     0xff4,0xfe4                                                                                     
0026ee   ffe4                                                                                                               
0026f0   cffa     MOVFF     0xffa,0xfe4                                                                                     
0026f2   ffe4                                                                                                               
0026f4   ee00     LFSR      0x0,0x14                                                                                        
0026f6   f014                                                                                                               
0026f8   0e0b     MOVLW     0xb                                                                                             
0026fa   04e8     DECF      0xe8,0x0,0x0                                                                                    
0026fc   e303     BNC       0x2704                                                                                          
0026fe   cfee     MOVFF     0xfee,0xfe4                                                                                     
002700   ffe4                                                                                                               
002702   d7fb     BRA       0x26fa                                                                                          
002704   ee00     LFSR      0x0,0x0                                                                                         
002706   f000                                                                                                               
002708   0e14     MOVLW     0x14                                                                                            
00270a   04e8     DECF      0xe8,0x0,0x0                                                                                    
00270c   e303     BNC       0x2714                                                                                          
00270e   cfee     MOVFF     0xfee,0xfe4                                                                                     
002710   ffe4                                                                                                               
002712   d7fb     BRA       0x270a                                                                                          
002714   52e6     MOVF      0xe6,0x1,0x0                                                                                    
002716   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
002718   ffe6                                                                                                               
00271a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00271c   ffd9                                                                                                               
00271e   0e0f     MOVLW     0xf                                                                                             
002720   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#ifdef USE_CAN                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
002722   ec4b     CALL      0x2096,0x0     		canISR();                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
002724   f010                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
002726   50f2     MOVF      0xf2,0x0,0x0   	if (INTCONbits.INT0IE && INTCONbits.INT0IF)                                     F:\MCP\projects\CAN\canNode\Source\Main.c
002728   0b10     ANDLW     0x10                                                                                            
00272a   e101     BNZ       0x272e                                                                                          
00272c   d082     BRA       0x2832                                                                                          
00272e   50f2     MOVF      0xf2,0x0,0x0                                                                                    
002730   0b02     ANDLW     0x2                                                                                             
002732   e101     BNZ       0x2736                                                                                          
002734   d07e     BRA       0x2832                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		static TICK t = 0;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		CAN_MESSAGE cm;                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
002736   ec30     CALL      0x2a60,0x0     		if ((tickGet()-t)>TICK_SECOND/2)                                               F:\MCP\projects\CAN\canNode\Source\Main.c
002738   f015                                                                                                               
00273a   0100     MOVLB     0x0                                                                                             
00273c   5170     MOVF      0x70,0x0,0x1                                                                                    
00273e   5c18     SUBWF     0x18,0x0,0x0                                                                                    
002740   6e1f     MOVWF     0x1f,0x0                                                                                        
002742   5171     MOVF      0x71,0x0,0x1                                                                                    
002744   5819     SUBWFB    0x19,0x0,0x0                                                                                    
002746   6e20     MOVWF     0x20,0x0                                                                                        
002748   5172     MOVF      0x72,0x0,0x1                                                                                    
00274a   581a     SUBWFB    0x1a,0x0,0x0                                                                                    
00274c   6e21     MOVWF     0x21,0x0                                                                                        
00274e   5173     MOVF      0x73,0x0,0x1                                                                                    
002750   581b     SUBWFB    0x1b,0x0,0x0                                                                                    
002752   6e22     MOVWF     0x22,0x0                                                                                        
002754   80d8     BSF       0xd8,0x0,0x0                                                                                    
002756   0e32     MOVLW     0x32                                                                                            
002758   541f     SUBFWB    0x1f,0x0,0x0                                                                                    
00275a   0e00     MOVLW     0x0                                                                                             
00275c   5420     SUBFWB    0x20,0x0,0x0                                                                                    
00275e   0e00     MOVLW     0x0                                                                                             
002760   5421     SUBFWB    0x21,0x0,0x0                                                                                    
002762   0e00     MOVLW     0x0                                                                                             
002764   5422     SUBFWB    0x22,0x0,0x0                                                                                    
002766   e264     BC        0x2830                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
002768   7282     BTG       0x82,0x1,0x0   			LED0_IO=~LED0_IO;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			// Send heartbeat                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
00276a   0e91     MOVLW     0x91           			cm.ident=0x1F910091;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
00276c   6ede     MOVWF     0xde,0x0                                                                                        
00276e   6ade     CLRF      0xde,0x0                                                                                        
002770   6ede     MOVWF     0xde,0x0                                                                                        
002772   0e1f     MOVLW     0x1f                                                                                            
002774   6edd     MOVWF     0xdd,0x0                                                                                        
002776   52dd     MOVF      0xdd,0x1,0x0                                                                                    
002778   52dd     MOVF      0xdd,0x1,0x0                                                                                    
00277a   0e01     MOVLW     0x1            			cm.extended=TRUE;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
00277c   6ef3     MOVWF     0xf3,0x0                                                                                        
00277e   0e04     MOVLW     0x4                                                                                             
002780   cff3     MOVFF     0xff3,0xfdb                                                                                     
002782   ffdb                                                                                                               
002784   0e01     MOVLW     0x1            			cm.remote_request=TRUE;                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
002786   6ef3     MOVWF     0xf3,0x0                                                                                        
002788   0e05     MOVLW     0x5                                                                                             
00278a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00278c   ffdb                                                                                                               
00278e   0e01     MOVLW     0x1            			cm.data_length=1;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
002790   6ef3     MOVWF     0xf3,0x0                                                                                        
002792   0e06     MOVLW     0x6                                                                                             
002794   cff3     MOVFF     0xff3,0xfdb                                                                                     
002796   ffdb                                                                                                               
002798   0e01     MOVLW     0x1            			cm.data[0]=0x01;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
00279a   6ef3     MOVWF     0xf3,0x0                                                                                        
00279c   0e07     MOVLW     0x7                                                                                             
00279e   cff3     MOVFF     0xff3,0xfdb                                                                                     
0027a0   ffdb                                                                                                               
0027a2   6ef3     MOVWF     0xf3,0x0       			cm.data[1]=0x07;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0027a4   0e08     MOVLW     0x8                                                                                             
0027a6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0027a8   ffdb                                                                                                               
0027aa   0e09     MOVLW     0x9            			cm.data[2]=0x09;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0027ac   6ef3     MOVWF     0xf3,0x0                                                                                        
0027ae   6edb     MOVWF     0xdb,0x0                                                                                        
0027b0   0e08     MOVLW     0x8            			cm.data[3]=0x08;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0027b2   6ef3     MOVWF     0xf3,0x0                                                                                        
0027b4   0e0a     MOVLW     0xa                                                                                             
0027b6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0027b8   ffdb                                                                                                               
0027ba   0e03     MOVLW     0x3            			cm.data[4]=0x03;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0027bc   6ef3     MOVWF     0xf3,0x0                                                                                        
0027be   0e0b     MOVLW     0xb                                                                                             
0027c0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0027c2   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0027c4   0e01     MOVLW     0x1            			while(!canSendMessage(cm,PRIO_LOW));                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0027c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0027c8   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
0027ca   ffe9                                                                                                               
0027cc   cfda     MOVFF     0xfda,0xfea                                                                                     
0027ce   ffea                                                                                                               
0027d0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027d2   ffe6                                                                                                               
0027d4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027d6   ffe6                                                                                                               
0027d8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027da   ffe6                                                                                                               
0027dc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027de   ffe6                                                                                                               
0027e0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027e2   ffe6                                                                                                               
0027e4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027e6   ffe6                                                                                                               
0027e8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027ea   ffe6                                                                                                               
0027ec   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027ee   ffe6                                                                                                               
0027f0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027f2   ffe6                                                                                                               
0027f4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027f6   ffe6                                                                                                               
0027f8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027fa   ffe6                                                                                                               
0027fc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0027fe   ffe6                                                                                                               
002800   cfee     MOVFF     0xfee,0xfe6                                                                                     
002802   ffe6                                                                                                               
002804   cfee     MOVFF     0xfee,0xfe6                                                                                     
002806   ffe6                                                                                                               
002808   cfee     MOVFF     0xfee,0xfe6                                                                                     
00280a   ffe6                                                                                                               
00280c   ecab     CALL      0x2356,0x0                                                                                      
00280e   f011                                                                                                               
002810   6e1f     MOVWF     0x1f,0x0                                                                                        
002812   0e10     MOVLW     0x10                                                                                            
002814   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
002816   501f     MOVF      0x1f,0x0,0x0                                                                                    
002818   0900     IORLW     0x0                                                                                             
00281a   e0d4     BZ        0x27c4                                                                                          
                                           			                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
00281c   ec30     CALL      0x2a60,0x0     			t=tickGet();                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
00281e   f015                                                                                                               
002820   c018     MOVFF     0x18,0x70                                                                                       
002822   f070                                                                                                               
002824   c019     MOVFF     0x19,0x71                                                                                       
002826   f071                                                                                                               
002828   c01a     MOVFF     0x1a,0x72                                                                                       
00282a   f072                                                                                                               
00282c   c01b     MOVFF     0x1b,0x73                                                                                       
00282e   f073                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
002830   92f2     BCF       0xf2,0x1,0x0   		INTCONbits.INT0IF=0;                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
002832   ec39     CALL      0x2a72,0x0     	tickUpdate();                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
002834   f015                                                                                                               
002836   0e0f     MOVLW     0xf            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
002838   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00283a   e202     BC        0x2840                                                                                          
00283c   6ae1     CLRF      0xe1,0x0                                                                                        
00283e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002840   6ee1     MOVWF     0xe1,0x0                                                                                        
002842   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002844   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
002846   ffd9                                                                                                               
002848   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00284a   ee00     LFSR      0x0,0x13                                                                                        
00284c   f013                                                                                                               
00284e   0e14     MOVLW     0x14                                                                                            
002850   04e8     DECF      0xe8,0x0,0x0                                                                                    
002852   e303     BNC       0x285a                                                                                          
002854   cfe5     MOVFF     0xfe5,0xfed                                                                                     
002856   ffed                                                                                                               
002858   d7fb     BRA       0x2850                                                                                          
00285a   ee00     LFSR      0x0,0x1e                                                                                        
00285c   f01e                                                                                                               
00285e   0e0b     MOVLW     0xb                                                                                             
002860   04e8     DECF      0xe8,0x0,0x0                                                                                    
002862   e303     BNC       0x286a                                                                                          
002864   cfe5     MOVFF     0xfe5,0xfed                                                                                     
002866   ffed                                                                                                               
002868   d7fb     BRA       0x2860                                                                                          
00286a   cfe5     MOVFF     0xfe5,0xffa                                                                                     
00286c   fffa                                                                                                               
00286e   cfe5     MOVFF     0xfe5,0xff4                                                                                     
002870   fff4                                                                                                               
002872   cfe5     MOVFF     0xfe5,0xff3                                                                                     
002874   fff3                                                                                                               
002876   cfe5     MOVFF     0xfe5,0xff5                                                                                     
002878   fff5                                                                                                               
00287a   cfe5     MOVFF     0xfe5,0xff7                                                                                     
00287c   fff7                                                                                                               
00287e   cfe5     MOVFF     0xfe5,0xff6                                                                                     
002880   fff6                                                                                                               
002882   cfe5     MOVFF     0xfe5,0xfea                                                                                     
002884   ffea                                                                                                               
002886   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
002888   ffe9                                                                                                               
00288a   cfe5     MOVFF     0xfe5,0xfda                                                                                     
00288c   ffda                                                                                                               
00288e   50e5     MOVF      0xe5,0x0,0x0                                                                                    
002890   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
002892   ffe0                                                                                                               
002894   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
002896   ffd8                                                                                                               
002898   0010     RETFIE    0x0                                                                                             
                                           #pragma code highVector=0x2008                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           void HighVector (void)                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
002008   ef61     GOTO      0x26c2             _asm goto HighISR _endasm                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
00200a   f013                                                                                                               
00200c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma code // Return to default code section                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma interruptlow LowISR                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
00289a   cfd8     MOVFF     0xfd8,0xfe4    void LowISR(void)                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
00289c   ffe4                                                                                                               
00289e   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
0028a0   ffe4                                                                                                               
0028a2   6ee4     MOVWF     0xe4,0x0                                                                                        
0028a4   cfda     MOVFF     0xfda,0xfe4                                                                                     
0028a6   ffe4                                                                                                               
0028a8   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0028aa   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0028ac   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0028ae   ffda                                                                                                               
0028b0   50e5     MOVF      0xe5,0x0,0x0                                                                                    
0028b2   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
0028b4   ffe0                                                                                                               
0028b6   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
0028b8   ffd8                                                                                                               
0028ba   0010     RETFIE    0x0                                                                                             
                                           #pragma code lowVector=0x2018                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
                                           void LowVector (void)                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
002018   ef4d     GOTO      0x289a             _asm goto LowISR _endasm                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
00201a   f014                                                                                                               
00201c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma code // Return to default code section                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Function: mainInit                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Affects: Se code                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           void mainInit()                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0028bc   9294     BCF       0x94,0x1,0x0   	LED0_TRIS=0;	                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                               // Enable internal PORTB pull-ups                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0028be   9ef1     BCF       0xf1,0x7,0x0       INTCON2bits.RBPU = 0;                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// Enable Interrupts                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0028c0   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
0028c2   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// RB0 interrupt                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0028c4   8cf1     BSF       0xf1,0x6,0x0   	INTCON2bits.INTEDG0 = 1; //rising edge                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0028c6   88f2     BSF       0xf2,0x4,0x0   	INTCONbits.INT0IE = 1;	                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// Enable interrupt prirority                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0028c8   8ed0     BSF       0xd0,0x7,0x0   	RCONbits.IPEN=1;                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0028ca   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Function: canParse                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Input:	Received can message                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Pre-conditions: canInit and received packet.                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Affects: Sensors/actuators/etc. See code.                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0028cc   cfd9     MOVFF     0xfd9,0xfe6    void canParse(CAN_MESSAGE cm)                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
0028ce   ffe6                                                                                                               
0028d0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0028d2   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0028d4   50e1     MOVF      0xe1,0x0,0x0   		if (cm.ident==0x00000304)                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
0028d6   0ff0     ADDLW     0xf0                                                                                            
0028d8   6ee9     MOVWF     0xe9,0x0                                                                                        
0028da   0eff     MOVLW     0xff                                                                                            
0028dc   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0028de   6eea     MOVWF     0xea,0x0                                                                                        
0028e0   0e04     MOVLW     0x4                                                                                             
0028e2   18ee     XORWF     0xee,0x0,0x0                                                                                    
0028e4   e160     BNZ       0x29a6                                                                                          
0028e6   0e03     MOVLW     0x3                                                                                             
0028e8   18ee     XORWF     0xee,0x0,0x0                                                                                    
0028ea   e15d     BNZ       0x29a6                                                                                          
0028ec   50ee     MOVF      0xee,0x0,0x0                                                                                    
0028ee   e15b     BNZ       0x29a6                                                                                          
0028f0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0028f2   e159     BNZ       0x29a6                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0028f4   0ef7     MOVLW     0xf7           			if (cm.data[0]==0x20) LED0_IO=1;                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0028f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0028f8   0820     SUBLW     0x20                                                                                            
0028fa   e101     BNZ       0x28fe                                                                                          
0028fc   8282     BSF       0x82,0x1,0x0                                                                                    
0028fe   0ef7     MOVLW     0xf7           			if (cm.data[0]==0x40) LED0_IO=0;                                              F:\MCP\projects\CAN\canNode\Source\Main.c
002900   50db     MOVF      0xdb,0x0,0x0                                                                                    
002902   0840     SUBLW     0x40                                                                                            
002904   e101     BNZ       0x2908                                                                                          
002906   9282     BCF       0x82,0x1,0x0                                                                                    
002908   0ef7     MOVLW     0xf7           			if (cm.data[0]==0x80)                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
00290a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00290c   0880     SUBLW     0x80                                                                                            
00290e   e14b     BNZ       0x29a6                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
002910   0e03     MOVLW     0x3            				cm.ident=0x00000303;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
002912   6ef3     MOVWF     0xf3,0x0                                                                                        
002914   0ef0     MOVLW     0xf0                                                                                            
002916   cff3     MOVFF     0xff3,0xfdb                                                                                     
002918   ffdb                                                                                                               
00291a   0e03     MOVLW     0x3                                                                                             
00291c   6ef3     MOVWF     0xf3,0x0                                                                                        
00291e   0ef1     MOVLW     0xf1                                                                                            
002920   cff3     MOVFF     0xff3,0xfdb                                                                                     
002922   ffdb                                                                                                               
002924   0ef2     MOVLW     0xf2                                                                                            
002926   6adb     CLRF      0xdb,0x0                                                                                        
002928   0ef3     MOVLW     0xf3                                                                                            
00292a   6adb     CLRF      0xdb,0x0                                                                                        
00292c   0ef4     MOVLW     0xf4           				cm.extended=FALSE;                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
00292e   6adb     CLRF      0xdb,0x0                                                                                        
002930   0e01     MOVLW     0x1            				cm.data_length=1;                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
002932   6ef3     MOVWF     0xf3,0x0                                                                                        
002934   0ef6     MOVLW     0xf6                                                                                            
002936   cff3     MOVFF     0xff3,0xfdb                                                                                     
002938   ffdb                                                                                                               
00293a   5082     MOVF      0x82,0x0,0x0   				cm.data[0]=LED0_IO;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
00293c   0b02     ANDLW     0x2                                                                                             
00293e   e001     BZ        0x2942                                                                                          
002940   0e01     MOVLW     0x1                                                                                             
002942   6ee7     MOVWF     0xe7,0x0                                                                                        
002944   0ef7     MOVLW     0xf7                                                                                            
002946   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002948   ffdb                                                                                                               
00294a   0e01     MOVLW     0x1            				while(!canSendMessage(cm,PRIO_LOW));	                                        F:\MCP\projects\CAN\canNode\Source\Main.c
00294c   6ee6     MOVWF     0xe6,0x0                                                                                        
00294e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002950   0ff0     ADDLW     0xf0                                                                                            
002952   6ee9     MOVWF     0xe9,0x0                                                                                        
002954   0eff     MOVLW     0xff                                                                                            
002956   20da     ADDWFC    0xda,0x0,0x0                                                                                    
002958   6eea     MOVWF     0xea,0x0                                                                                        
00295a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00295c   ffe6                                                                                                               
00295e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002960   ffe6                                                                                                               
002962   cfee     MOVFF     0xfee,0xfe6                                                                                     
002964   ffe6                                                                                                               
002966   cfee     MOVFF     0xfee,0xfe6                                                                                     
002968   ffe6                                                                                                               
00296a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00296c   ffe6                                                                                                               
00296e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002970   ffe6                                                                                                               
002972   cfee     MOVFF     0xfee,0xfe6                                                                                     
002974   ffe6                                                                                                               
002976   cfee     MOVFF     0xfee,0xfe6                                                                                     
002978   ffe6                                                                                                               
00297a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00297c   ffe6                                                                                                               
00297e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002980   ffe6                                                                                                               
002982   cfee     MOVFF     0xfee,0xfe6                                                                                     
002984   ffe6                                                                                                               
002986   cfee     MOVFF     0xfee,0xfe6                                                                                     
002988   ffe6                                                                                                               
00298a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00298c   ffe6                                                                                                               
00298e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002990   ffe6                                                                                                               
002992   cfee     MOVFF     0xfee,0xfe6                                                                                     
002994   ffe6                                                                                                               
002996   ecab     CALL      0x2356,0x0                                                                                      
002998   f011                                                                                                               
00299a   6e00     MOVWF     0x0,0x0                                                                                         
00299c   0e10     MOVLW     0x10                                                                                            
00299e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0029a0   5000     MOVF      0x0,0x0,0x0                                                                                     
0029a2   0900     IORLW     0x0                                                                                             
0029a4   e0d2     BZ        0x294a                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			}                                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0029a6   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0029a8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0029aa   ffd9                                                                                                               
0029ac   0012     RETURN    0x0                                                                                             
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
