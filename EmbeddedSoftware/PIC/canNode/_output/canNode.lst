MP2COD 4.02, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Sun Oct 22 08:29:11 2006


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                  Main application                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\Main.c
                                            * FileName:        Main.c                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\Main.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #include "../Include/compiler.h"                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #include "../Include/stackTasks.h"                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #include "../Include/Tick.h"                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#include "../Include/CAN.h"                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #ifdef USE_UART                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#include "../Include/uart.h"                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           static void mainInit(void);                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           static BOOL heartBeatEnabled = FALSE;                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000044   cfd9     MOVFF     0xfd9,0xfe6    void main()                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
000046   ffe6                                                                                                               
000048   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00004a   ffd9                                                                                                               
00004c   0e0e     MOVLW     0xe                                                                                             
00004e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	static TICK t = 0;                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// Inits                                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000050   d8d1     RCALL     0x1f4          	mainInit();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#ifdef USE_CAN                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
000052   eca9     CALL      0x752,0x0      		canInit();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
000054   f003                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#ifdef USE_UART                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
000056   ecee     CALL      0xbdc,0x0      		uartInit();                                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
000058   f005                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00005a   ecb7     CALL      0xd6e,0x0      	tickInit();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
00005c   f006                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	while(1)                                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
00005e   ecc1     CALL      0xd82,0x0      		if ((tickGet()-t)>=5*TICK_SECOND && heartBeatEnabled==TRUE)                    F:\MCP\projects\CAN\canNode\Source\Main.c
000060   f006                                                                                                               
000062   0100     MOVLB     0x0                                                                                             
000064   5161     MOVF      0x61,0x0,0x1                                                                                    
000066   5c18     SUBWF     0x18,0x0,0x0                                                                                    
000068   6e00     MOVWF     0x0,0x0                                                                                         
00006a   5162     MOVF      0x62,0x0,0x1                                                                                    
00006c   5819     SUBWFB    0x19,0x0,0x0                                                                                    
00006e   6e01     MOVWF     0x1,0x0                                                                                         
000070   5163     MOVF      0x63,0x0,0x1                                                                                    
000072   581a     SUBWFB    0x1a,0x0,0x0                                                                                    
000074   6e02     MOVWF     0x2,0x0                                                                                         
000076   5164     MOVF      0x64,0x0,0x1                                                                                    
000078   581b     SUBWFB    0x1b,0x0,0x0                                                                                    
00007a   6e03     MOVWF     0x3,0x0                                                                                         
00007c   0ef4     MOVLW     0xf4                                                                                            
00007e   5c00     SUBWF     0x0,0x0,0x0                                                                                     
000080   0e01     MOVLW     0x1                                                                                             
000082   5801     SUBWFB    0x1,0x0,0x0                                                                                     
000084   0e00     MOVLW     0x0                                                                                             
000086   5802     SUBWFB    0x2,0x0,0x0                                                                                     
000088   0e00     MOVLW     0x0                                                                                             
00008a   5803     SUBWFB    0x3,0x0,0x0                                                                                     
00008c   e3e8     BNC       0x5e                                                                                            
00008e   0560     DECF      0x60,0x0,0x1                                                                                    
000090   e1e6     BNZ       0x5e                                                                                            
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			CAN_MESSAGE cm;                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000092   ecc1     CALL      0xd82,0x0      			t = tickGet();                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
000094   f006                                                                                                               
000096   c018     MOVFF     0x18,0x61                                                                                       
000098   f061                                                                                                               
00009a   c019     MOVFF     0x19,0x62                                                                                       
00009c   f062                                                                                                               
00009e   c01a     MOVFF     0x1a,0x63                                                                                       
0000a0   f063                                                                                                               
0000a2   c01b     MOVFF     0x1b,0x64                                                                                       
0000a4   f064                                                                                                               
                                           		                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			// Send heartbeat                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0000a6   0e66     MOVLW     0x66           			cm.ident=0x00000666;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0000a8   6ede     MOVWF     0xde,0x0                                                                                        
0000aa   0e06     MOVLW     0x6                                                                                             
0000ac   6ede     MOVWF     0xde,0x0                                                                                        
0000ae   6ade     CLRF      0xde,0x0                                                                                        
0000b0   6add     CLRF      0xdd,0x0                                                                                        
0000b2   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0000b4   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0000b6   0e04     MOVLW     0x4            			cm.extended=FALSE;                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0000b8   6adb     CLRF      0xdb,0x0                                                                                        
0000ba   0e01     MOVLW     0x1            			cm.data_length=1;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0000bc   6ef3     MOVWF     0xf3,0x0                                                                                        
0000be   0e05     MOVLW     0x5                                                                                             
0000c0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0000c2   ffdb                                                                                                               
0000c4   0e48     MOVLW     0x48           			cm.data[0]='H';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0000c6   6ef3     MOVWF     0xf3,0x0                                                                                        
0000c8   0e06     MOVLW     0x6                                                                                             
0000ca   cff3     MOVFF     0xff3,0xfdb                                                                                     
0000cc   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0000ce   cfd9     MOVFF     0xfd9,0xfe9    			while(!canSendMessage(cm));                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0000d0   ffe9                                                                                                               
0000d2   cfda     MOVFF     0xfda,0xfea                                                                                     
0000d4   ffea                                                                                                               
0000d6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000d8   ffe6                                                                                                               
0000da   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000dc   ffe6                                                                                                               
0000de   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000e0   ffe6                                                                                                               
0000e2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000e4   ffe6                                                                                                               
0000e6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000e8   ffe6                                                                                                               
0000ea   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000ec   ffe6                                                                                                               
0000ee   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000f0   ffe6                                                                                                               
0000f2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000f4   ffe6                                                                                                               
0000f6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000f8   ffe6                                                                                                               
0000fa   cfee     MOVFF     0xfee,0xfe6                                                                                     
0000fc   ffe6                                                                                                               
0000fe   cfee     MOVFF     0xfee,0xfe6                                                                                     
000100   ffe6                                                                                                               
000102   cfee     MOVFF     0xfee,0xfe6                                                                                     
000104   ffe6                                                                                                               
000106   cfee     MOVFF     0xfee,0xfe6                                                                                     
000108   ffe6                                                                                                               
00010a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00010c   ffe6                                                                                                               
00010e   ec0e     CALL      0xa1c,0x0                                                                                       
000110   f005                                                                                                               
000112   6e00     MOVWF     0x0,0x0                                                                                         
000114   0e0e     MOVLW     0xe                                                                                             
000116   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
000118   5000     MOVF      0x0,0x0,0x0                                                                                     
00011a   0900     IORLW     0x0                                                                                             
00011c   e1a0     BNZ       0x5e                                                                                            
00011e   d7d7     BRA       0xce                                                                                            
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           			                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma interruptlow HighISR                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
000120   cfd8     MOVFF     0xfd8,0xfe4    void HighISR(void)                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
000122   ffe4                                                                                                               
000124   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
000126   ffe4                                                                                                               
000128   6ee4     MOVWF     0xe4,0x0                                                                                        
00012a   cfda     MOVFF     0xfda,0xfe4                                                                                     
00012c   ffe4                                                                                                               
00012e   cfe2     MOVFF     0xfe2,0xfda                                                                                     
000130   ffda                                                                                                               
000132   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
000134   ffe4                                                                                                               
000136   cfea     MOVFF     0xfea,0xfe4                                                                                     
000138   ffe4                                                                                                               
00013a   cff6     MOVFF     0xff6,0xfe4                                                                                     
00013c   ffe4                                                                                                               
00013e   cff7     MOVFF     0xff7,0xfe4                                                                                     
000140   ffe4                                                                                                               
000142   cff5     MOVFF     0xff5,0xfe4                                                                                     
000144   ffe4                                                                                                               
000146   cff3     MOVFF     0xff3,0xfe4                                                                                     
000148   ffe4                                                                                                               
00014a   cff4     MOVFF     0xff4,0xfe4                                                                                     
00014c   ffe4                                                                                                               
00014e   cffa     MOVFF     0xffa,0xfe4                                                                                     
000150   ffe4                                                                                                               
000152   ee00     LFSR      0x0,0x14                                                                                        
000154   f014                                                                                                               
000156   0e0b     MOVLW     0xb                                                                                             
000158   04e8     DECF      0xe8,0x0,0x0                                                                                    
00015a   e303     BNC       0x162                                                                                           
00015c   cfee     MOVFF     0xfee,0xfe4                                                                                     
00015e   ffe4                                                                                                               
000160   d7fb     BRA       0x158                                                                                           
000162   ee00     LFSR      0x0,0x0                                                                                         
000164   f000                                                                                                               
000166   0e14     MOVLW     0x14                                                                                            
000168   04e8     DECF      0xe8,0x0,0x0                                                                                    
00016a   e303     BNC       0x172                                                                                           
00016c   cfee     MOVFF     0xfee,0xfe4                                                                                     
00016e   ffe4                                                                                                               
000170   d7fb     BRA       0x168                                                                                           
000172   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#ifdef USE_CAN                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
000174   ecd4     CALL      0x7a8,0x0      		canISR();                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
000176   f003                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	#ifdef USE_UART                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
000178   ec52     CALL      0xca4,0x0      		uartISR();                                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
00017a   f006                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00017c   ecca     CALL      0xd94,0x0      	tickUpdate();                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
00017e   f006                                                                                                               
000180   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
000182   ee00     LFSR      0x0,0x13                                                                                        
000184   f013                                                                                                               
000186   0e14     MOVLW     0x14                                                                                            
000188   04e8     DECF      0xe8,0x0,0x0                                                                                    
00018a   e303     BNC       0x192                                                                                           
00018c   cfe5     MOVFF     0xfe5,0xfed                                                                                     
00018e   ffed                                                                                                               
000190   d7fb     BRA       0x188                                                                                           
000192   ee00     LFSR      0x0,0x1e                                                                                        
000194   f01e                                                                                                               
000196   0e0b     MOVLW     0xb                                                                                             
000198   04e8     DECF      0xe8,0x0,0x0                                                                                    
00019a   e303     BNC       0x1a2                                                                                           
00019c   cfe5     MOVFF     0xfe5,0xfed                                                                                     
00019e   ffed                                                                                                               
0001a0   d7fb     BRA       0x198                                                                                           
0001a2   cfe5     MOVFF     0xfe5,0xffa                                                                                     
0001a4   fffa                                                                                                               
0001a6   cfe5     MOVFF     0xfe5,0xff4                                                                                     
0001a8   fff4                                                                                                               
0001aa   cfe5     MOVFF     0xfe5,0xff3                                                                                     
0001ac   fff3                                                                                                               
0001ae   cfe5     MOVFF     0xfe5,0xff5                                                                                     
0001b0   fff5                                                                                                               
0001b2   cfe5     MOVFF     0xfe5,0xff7                                                                                     
0001b4   fff7                                                                                                               
0001b6   cfe5     MOVFF     0xfe5,0xff6                                                                                     
0001b8   fff6                                                                                                               
0001ba   cfe5     MOVFF     0xfe5,0xfea                                                                                     
0001bc   ffea                                                                                                               
0001be   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
0001c0   ffe9                                                                                                               
0001c2   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0001c4   ffda                                                                                                               
0001c6   50e5     MOVF      0xe5,0x0,0x0                                                                                    
0001c8   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
0001ca   ffe0                                                                                                               
0001cc   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
0001ce   ffd8                                                                                                               
0001d0   0010     RETFIE    0x0                                                                                             
                                           #pragma code highVector=0x08                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
                                           void HighVector (void)                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
000008   ef90     GOTO      0x120              _asm goto HighISR _endasm                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
00000a   f000                                                                                                               
00000c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma code // Return to default code section                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma interruptlow LowISR                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
0001d2   cfd8     MOVFF     0xfd8,0xfe4    void LowISR(void)                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0001d4   ffe4                                                                                                               
0001d6   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
0001d8   ffe4                                                                                                               
0001da   6ee4     MOVWF     0xe4,0x0                                                                                        
0001dc   cfda     MOVFF     0xfda,0xfe4                                                                                     
0001de   ffe4                                                                                                               
0001e0   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0001e2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0001e4   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0001e6   ffda                                                                                                               
0001e8   50e5     MOVF      0xe5,0x0,0x0                                                                                    
0001ea   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
0001ec   ffe0                                                                                                               
0001ee   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
0001f0   ffd8                                                                                                               
0001f2   0010     RETFIE    0x0                                                                                             
                                           #pragma code lowVector=0x18                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                           void LowVector (void)                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
000018   efe9     GOTO      0x1d2              _asm goto LowISR _endasm                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
00001a   f000                                                                                                               
00001c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #pragma code // Return to default code section                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Function: mainInit                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Affects: Se code                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           void mainInit()                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
0001f4   9294     BCF       0x94,0x1,0x0   	LED0_TRIS=0;	                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                               // Enable internal PORTB pull-ups                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0001f6   9ef1     BCF       0xf1,0x7,0x0       INTCON2bits.RBPU = 0;                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	// Enable Interrupts                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0001f8   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
0001fa   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0001fc   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Function: canParse                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Input:	Received can message                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Pre-conditions: canInit and received packet.                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Affects: Sensors/actuators/etc. See code.                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0001fe   cfd9     MOVFF     0xfd9,0xfe6    void canParse(CAN_MESSAGE cm)                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
000200   ffe6                                                                                                               
000202   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000204   ffd9                                                                                                               
000206   0e02     MOVLW     0x2                                                                                             
000208   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
00020a   6ade     CLRF      0xde,0x0       	int i=0;                                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
00020c   6add     CLRF      0xdd,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
00020e   0efd     MOVLW     0xfd           	uartPutc(UART_START_BYTE);                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
000210   6ee6     MOVWF     0xe6,0x0                                                                                        
000212   ecfa     CALL      0xbf4,0x0                                                                                       
000214   f005                                                                                                               
000216   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000218   0ef1     MOVLW     0xf1           	uartPutc((BYTE)(cm.ident));                                                     F:\MCP\projects\CAN\canNode\Source\Main.c
00021a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00021c   ffe6                                                                                                               
00021e   ecfa     CALL      0xbf4,0x0                                                                                       
000220   f005                                                                                                               
000222   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000224   0ef1     MOVLW     0xf1           	uartPutc((BYTE)(cm.ident>>8));                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
000226   cfdb     MOVFF     0xfdb,0x0                                                                                       
000228   f000                                                                                                               
00022a   0ef2     MOVLW     0xf2                                                                                            
00022c   cfdb     MOVFF     0xfdb,0x1                                                                                       
00022e   f001                                                                                                               
000230   0ef3     MOVLW     0xf3                                                                                            
000232   cfdb     MOVFF     0xfdb,0x2                                                                                       
000234   f002                                                                                                               
000236   0ef4     MOVLW     0xf4                                                                                            
000238   cfdb     MOVFF     0xfdb,0x3                                                                                       
00023a   f003                                                                                                               
00023c   0e08     MOVLW     0x8                                                                                             
00023e   90d8     BCF       0xd8,0x0,0x0                                                                                    
000240   3203     RRCF      0x3,0x1,0x0                                                                                     
000242   3202     RRCF      0x2,0x1,0x0                                                                                     
000244   3201     RRCF      0x1,0x1,0x0                                                                                     
000246   3200     RRCF      0x0,0x1,0x0                                                                                     
000248   06e8     DECF      0xe8,0x1,0x0                                                                                    
00024a   e1f9     BNZ       0x23e                                                                                           
00024c   5000     MOVF      0x0,0x0,0x0                                                                                     
00024e   6ee6     MOVWF     0xe6,0x0                                                                                        
000250   ecfa     CALL      0xbf4,0x0                                                                                       
000252   f005                                                                                                               
000254   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000256   0ef1     MOVLW     0xf1           	uartPutc((BYTE)(cm.ident>>16));                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
000258   cfdb     MOVFF     0xfdb,0x0                                                                                       
00025a   f000                                                                                                               
00025c   0ef2     MOVLW     0xf2                                                                                            
00025e   cfdb     MOVFF     0xfdb,0x1                                                                                       
000260   f001                                                                                                               
000262   0ef3     MOVLW     0xf3                                                                                            
000264   cfdb     MOVFF     0xfdb,0x2                                                                                       
000266   f002                                                                                                               
000268   0ef4     MOVLW     0xf4                                                                                            
00026a   cfdb     MOVFF     0xfdb,0x3                                                                                       
00026c   f003                                                                                                               
00026e   0e10     MOVLW     0x10                                                                                            
000270   90d8     BCF       0xd8,0x0,0x0                                                                                    
000272   3203     RRCF      0x3,0x1,0x0                                                                                     
000274   3202     RRCF      0x2,0x1,0x0                                                                                     
000276   3201     RRCF      0x1,0x1,0x0                                                                                     
000278   3200     RRCF      0x0,0x1,0x0                                                                                     
00027a   06e8     DECF      0xe8,0x1,0x0                                                                                    
00027c   e1f9     BNZ       0x270                                                                                           
00027e   5000     MOVF      0x0,0x0,0x0                                                                                     
000280   6ee6     MOVWF     0xe6,0x0                                                                                        
000282   ecfa     CALL      0xbf4,0x0                                                                                       
000284   f005                                                                                                               
000286   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000288   0ef1     MOVLW     0xf1           	uartPutc((BYTE)(cm.ident>>24));                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
00028a   cfdb     MOVFF     0xfdb,0x0                                                                                       
00028c   f000                                                                                                               
00028e   0ef2     MOVLW     0xf2                                                                                            
000290   cfdb     MOVFF     0xfdb,0x1                                                                                       
000292   f001                                                                                                               
000294   0ef3     MOVLW     0xf3                                                                                            
000296   cfdb     MOVFF     0xfdb,0x2                                                                                       
000298   f002                                                                                                               
00029a   0ef4     MOVLW     0xf4                                                                                            
00029c   cfdb     MOVFF     0xfdb,0x3                                                                                       
00029e   f003                                                                                                               
0002a0   0e18     MOVLW     0x18                                                                                            
0002a2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0002a4   3203     RRCF      0x3,0x1,0x0                                                                                     
0002a6   3202     RRCF      0x2,0x1,0x0                                                                                     
0002a8   3201     RRCF      0x1,0x1,0x0                                                                                     
0002aa   3200     RRCF      0x0,0x1,0x0                                                                                     
0002ac   06e8     DECF      0xe8,0x1,0x0                                                                                    
0002ae   e1f9     BNZ       0x2a2                                                                                           
0002b0   5000     MOVF      0x0,0x0,0x0                                                                                     
0002b2   6ee6     MOVWF     0xe6,0x0                                                                                        
0002b4   ecfa     CALL      0xbf4,0x0                                                                                       
0002b6   f005                                                                                                               
0002b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0002ba   0ef5     MOVLW     0xf5           	uartPutc(cm.extended);                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0002bc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0002be   ffe6                                                                                                               
0002c0   ecfa     CALL      0xbf4,0x0                                                                                       
0002c2   f005                                                                                                               
0002c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0002c6   0ef6     MOVLW     0xf6           	uartPutc(cm.data_length);                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
0002c8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0002ca   ffe6                                                                                                               
0002cc   ecfa     CALL      0xbf4,0x0                                                                                       
0002ce   f005                                                                                                               
0002d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0002d2   6ade     CLRF      0xde,0x0       	for(i=0;i<8;i++) uartPutc(cm.data[i]);                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0002d4   6add     CLRF      0xdd,0x0                                                                                        
0002d6   cfde     MOVFF     0xfde,0x0                                                                                       
0002d8   f000                                                                                                               
0002da   cfdd     MOVFF     0xfdd,0x1                                                                                       
0002dc   f001                                                                                                               
0002de   90d8     BCF       0xd8,0x0,0x0                                                                                    
0002e0   5001     MOVF      0x1,0x0,0x0                                                                                     
0002e2   e604     BN        0x2ec                                                                                           
0002e4   0e08     MOVLW     0x8                                                                                             
0002e6   5c00     SUBWF     0x0,0x0,0x0                                                                                     
0002e8   0e00     MOVLW     0x0                                                                                             
0002ea   5801     SUBWFB    0x1,0x0,0x0                                                                                     
0002ec   e216     BC        0x31a                                                                                           
0002ee   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0002f0   0ff7     ADDLW     0xf7                                                                                            
0002f2   6e00     MOVWF     0x0,0x0                                                                                         
0002f4   0eff     MOVLW     0xff                                                                                            
0002f6   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0002f8   6e01     MOVWF     0x1,0x0                                                                                         
0002fa   50de     MOVF      0xde,0x0,0x0                                                                                    
0002fc   2400     ADDWF     0x0,0x0,0x0                                                                                     
0002fe   6ee9     MOVWF     0xe9,0x0                                                                                        
000300   50dd     MOVF      0xdd,0x0,0x0                                                                                    
000302   2001     ADDWFC    0x1,0x0,0x0                                                                                     
000304   6eea     MOVWF     0xea,0x0                                                                                        
000306   50ef     MOVF      0xef,0x0,0x0                                                                                    
000308   6ee6     MOVWF     0xe6,0x0                                                                                        
00030a   ecfa     CALL      0xbf4,0x0                                                                                       
00030c   f005                                                                                                               
00030e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000310   2adf     INCF      0xdf,0x1,0x0                                                                                    
000312   0e01     MOVLW     0x1                                                                                             
000314   e3e0     BNC       0x2d6                                                                                           
000316   2adb     INCF      0xdb,0x1,0x0                                                                                    
000318   d7de     BRA       0x2d6                                                                                           
00031a   0efa     MOVLW     0xfa           	uartPutc(UART_END_BYTE);                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
00031c   6ee6     MOVWF     0xe6,0x0                                                                                        
00031e   ecfa     CALL      0xbf4,0x0                                                                                       
000320   f005                                                                                                               
000322   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000324   0e02     MOVLW     0x2            }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
000326   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000328   e202     BC        0x32e                                                                                           
00032a   6ae1     CLRF      0xe1,0x0                                                                                        
00032c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00032e   6ee1     MOVWF     0xe1,0x0                                                                                        
000330   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000332   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000334   ffd9                                                                                                               
000336   0012     RETURN    0x0                                                                                             
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Function: uartParse                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Input:	Received uart message                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Pre-conditions: uartInit and received byte.                                    F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Affects: Sensors/actuators/etc. See code.                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           #ifdef USE_UART                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
000338   cfd9     MOVFF     0xfd9,0xfe6    void uartParse(BYTE c)                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
00033a   ffe6                                                                                                               
00033c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00033e   ffd9                                                                                                               
000340   0e11     MOVLW     0x11                                                                                            
000342   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	BYTE i;                                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
000344   0e01     MOVLW     0x1            	unsigned int wait = 0;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
000346   6adb     CLRF      0xdb,0x0                                                                                        
000348   0e02     MOVLW     0x2                                                                                             
00034a   6adb     CLRF      0xdb,0x0                                                                                        
                                           	CAN_MESSAGE cm;	                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	static BOOL waitingMessage = FALSE;                                             F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	static TICK timeout=0;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	static BYTE count=0;                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00034c   0100     MOVLB     0x0            	if (waitingMessage==TRUE && (tickGet()-timeout)>TICK_SECOND/20)                 F:\MCP\projects\CAN\canNode\Source\Main.c
00034e   0565     DECF      0x65,0x0,0x1                                                                                    
000350   e11a     BNZ       0x386                                                                                           
000352   ecc1     CALL      0xd82,0x0                                                                                       
000354   f006                                                                                                               
000356   0100     MOVLB     0x0                                                                                             
000358   5166     MOVF      0x66,0x0,0x1                                                                                    
00035a   5c18     SUBWF     0x18,0x0,0x0                                                                                    
00035c   6e00     MOVWF     0x0,0x0                                                                                         
00035e   5167     MOVF      0x67,0x0,0x1                                                                                    
000360   5819     SUBWFB    0x19,0x0,0x0                                                                                    
000362   6e01     MOVWF     0x1,0x0                                                                                         
000364   5168     MOVF      0x68,0x0,0x1                                                                                    
000366   581a     SUBWFB    0x1a,0x0,0x0                                                                                    
000368   6e02     MOVWF     0x2,0x0                                                                                         
00036a   5169     MOVF      0x69,0x0,0x1                                                                                    
00036c   581b     SUBWFB    0x1b,0x0,0x0                                                                                    
00036e   6e03     MOVWF     0x3,0x0                                                                                         
000370   80d8     BSF       0xd8,0x0,0x0                                                                                    
000372   0e05     MOVLW     0x5                                                                                             
000374   5400     SUBFWB    0x0,0x0,0x0                                                                                     
000376   0e00     MOVLW     0x0                                                                                             
000378   5401     SUBFWB    0x1,0x0,0x0                                                                                     
00037a   0e00     MOVLW     0x0                                                                                             
00037c   5402     SUBFWB    0x2,0x0,0x0                                                                                     
00037e   0e00     MOVLW     0x0                                                                                             
000380   5403     SUBFWB    0x3,0x0,0x0                                                                                     
000382   e201     BC        0x386                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
000384   6b65     CLRF      0x65,0x1       		waitingMessage=FALSE;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000386   0565     DECF      0x65,0x0,0x1   	if (waitingMessage==TRUE)                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
000388   e001     BZ        0x38c                                                                                           
00038a   d08c     BRA       0x4a4                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
00038c   ecc1     CALL      0xd82,0x0      		timeout=tickGet();                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
00038e   f006                                                                                                               
000390   c018     MOVFF     0x18,0x66                                                                                       
000392   f066                                                                                                               
000394   c019     MOVFF     0x19,0x67                                                                                       
000396   f067                                                                                                               
000398   c01a     MOVFF     0x1a,0x68                                                                                       
00039a   f068                                                                                                               
00039c   c01b     MOVFF     0x1b,0x69                                                                                       
00039e   f069                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		// UART END                                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
0003a0   0e0e     MOVLW     0xe            		if(count>=14)                                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
0003a2   0100     MOVLB     0x0                                                                                             
0003a4   5d6a     SUBWF     0x6a,0x0,0x1                                                                                    
0003a6   e335     BNC       0x412                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0003a8   0efe     MOVLW     0xfe           			if (c==UART_END_BYTE)                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
0003aa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0003ac   6e00     MOVWF     0x0,0x0                                                                                         
0003ae   6a01     CLRF      0x1,0x0                                                                                         
0003b0   0efa     MOVLW     0xfa                                                                                            
0003b2   1800     XORWF     0x0,0x0,0x0                                                                                     
0003b4   e12b     BNZ       0x40c                                                                                           
0003b6   5001     MOVF      0x1,0x0,0x0                                                                                     
0003b8   e129     BNZ       0x40c                                                                                           
                                           			{                                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0003ba   50d9     MOVF      0xd9,0x0,0x0   				while(!canSendMessage(cm));                                                  F:\MCP\projects\CAN\canNode\Source\Main.c
0003bc   0f03     ADDLW     0x3                                                                                             
0003be   6ee9     MOVWF     0xe9,0x0                                                                                        
0003c0   cfda     MOVFF     0xfda,0xfea                                                                                     
0003c2   ffea                                                                                                               
0003c4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003c6   ffe6                                                                                                               
0003c8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003ca   ffe6                                                                                                               
0003cc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003ce   ffe6                                                                                                               
0003d0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003d2   ffe6                                                                                                               
0003d4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003d6   ffe6                                                                                                               
0003d8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003da   ffe6                                                                                                               
0003dc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003de   ffe6                                                                                                               
0003e0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003e2   ffe6                                                                                                               
0003e4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003e6   ffe6                                                                                                               
0003e8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003ea   ffe6                                                                                                               
0003ec   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003ee   ffe6                                                                                                               
0003f0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003f2   ffe6                                                                                                               
0003f4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003f6   ffe6                                                                                                               
0003f8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0003fa   ffe6                                                                                                               
0003fc   ec0e     CALL      0xa1c,0x0                                                                                       
0003fe   f005                                                                                                               
000400   6e00     MOVWF     0x0,0x0                                                                                         
000402   0e0e     MOVLW     0xe                                                                                             
000404   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
000406   5000     MOVF      0x0,0x0,0x0                                                                                     
000408   0900     IORLW     0x0                                                                                             
00040a   e0d7     BZ        0x3ba                                                                                           
                                           			}                                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
00040c   0100     MOVLB     0x0            			waitingMessage=FALSE;                                                         F:\MCP\projects\CAN\canNode\Source\Main.c
00040e   6b65     CLRF      0x65,0x1                                                                                        
000410   d196     BRA       0x73e          			return;                                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		// data                                                                        F:\MCP\projects\CAN\canNode\Source\Main.c
000412   0e06     MOVLW     0x6            		if(count>=6)                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
000414   5d6a     SUBWF     0x6a,0x0,0x1                                                                                    
000416   e30f     BNC       0x436                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
000418   50d9     MOVF      0xd9,0x0,0x0   			cm.data[count-6]=c;                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
00041a   0f09     ADDLW     0x9                                                                                             
00041c   6e00     MOVWF     0x0,0x0                                                                                         
00041e   0e06     MOVLW     0x6                                                                                             
000420   5d6a     SUBWF     0x6a,0x0,0x1                                                                                    
000422   010f     MOVLB     0xf                                                                                             
000424   2400     ADDWF     0x0,0x0,0x0                                                                                     
000426   6ee9     MOVWF     0xe9,0x0                                                                                        
000428   0e00     MOVLW     0x0                                                                                             
00042a   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00042c   6eea     MOVWF     0xea,0x0                                                                                        
00042e   0efe     MOVLW     0xfe                                                                                            
000430   cfdb     MOVFF     0xfdb,0xfef                                                                                     
000432   ffef                                                                                                               
                                           			count++;                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
000434   d034     BRA       0x49e          			return;                                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		// data length                                                                 F:\MCP\projects\CAN\canNode\Source\Main.c
000436   0e05     MOVLW     0x5            		if(count>=5)                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
000438   5d6a     SUBWF     0x6a,0x0,0x1                                                                                    
00043a   e305     BNC       0x446                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
00043c   0efe     MOVLW     0xfe           			cm.data_length=c;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
00043e   50db     MOVF      0xdb,0x0,0x0                                                                                    
000440   6ee7     MOVWF     0xe7,0x0                                                                                        
000442   0e08     MOVLW     0x8                                                                                             
                                           			count++;                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
000444   d007     BRA       0x454          			return;                                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		// extended                                                                    F:\MCP\projects\CAN\canNode\Source\Main.c
000446   0e04     MOVLW     0x4            		if(count>=4)                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
000448   5d6a     SUBWF     0x6a,0x0,0x1                                                                                    
00044a   e307     BNC       0x45a                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
00044c   0efe     MOVLW     0xfe           			cm.extended=c;                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
00044e   50db     MOVF      0xdb,0x0,0x0                                                                                    
000450   6ee7     MOVWF     0xe7,0x0                                                                                        
000452   0e07     MOVLW     0x7                                                                                             
000454   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
000456   ffdb                                                                                                               
                                           			count++;                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
000458   d023     BRA       0x4a0          			return;                                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		// ident                                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
00045a   0e00     MOVLW     0x0            		if(count>=0)                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
00045c   5d6a     SUBWF     0x6a,0x0,0x1                                                                                    
00045e   e322     BNC       0x4a4                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
000460   0efe     MOVLW     0xfe           			cm.ident+=((DWORD)c<<(count*8));                                              F:\MCP\projects\CAN\canNode\Source\Main.c
000462   cfdb     MOVFF     0xfdb,0x0                                                                                       
000464   f000                                                                                                               
000466   6a01     CLRF      0x1,0x0                                                                                         
000468   6a02     CLRF      0x2,0x0                                                                                         
00046a   6a03     CLRF      0x3,0x0                                                                                         
00046c   0e08     MOVLW     0x8                                                                                             
00046e   036a     MULWF     0x6a,0x1                                                                                        
000470   50f3     MOVF      0xf3,0x0,0x0                                                                                    
000472   0b1f     ANDLW     0x1f                                                                                            
000474   e007     BZ        0x484                                                                                           
000476   90d8     BCF       0xd8,0x0,0x0                                                                                    
000478   3600     RLCF      0x0,0x1,0x0                                                                                     
00047a   3601     RLCF      0x1,0x1,0x0                                                                                     
00047c   3602     RLCF      0x2,0x1,0x0                                                                                     
00047e   3603     RLCF      0x3,0x1,0x0                                                                                     
000480   06e8     DECF      0xe8,0x1,0x0                                                                                    
000482   e1f9     BNZ       0x476                                                                                           
000484   50d9     MOVF      0xd9,0x0,0x0                                                                                    
000486   0f03     ADDLW     0x3                                                                                             
000488   6ee9     MOVWF     0xe9,0x0                                                                                        
00048a   cfda     MOVFF     0xfda,0xfea                                                                                     
00048c   ffea                                                                                                               
00048e   5000     MOVF      0x0,0x0,0x0                                                                                     
000490   26ee     ADDWF     0xee,0x1,0x0                                                                                    
000492   5001     MOVF      0x1,0x0,0x0                                                                                     
000494   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
000496   5002     MOVF      0x2,0x0,0x0                                                                                     
000498   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
00049a   5003     MOVF      0x3,0x0,0x0                                                                                     
00049c   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
00049e   0100     MOVLB     0x0            			count++;                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
0004a0   2b6a     INCF      0x6a,0x1,0x1                                                                                    
0004a2   d14d     BRA       0x73e          			return;                                                                       F:\MCP\projects\CAN\canNode\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0004a4   0efe     MOVLW     0xfe           	if (c==UART_START_BYTE && waitingMessage==FALSE)                                F:\MCP\projects\CAN\canNode\Source\Main.c
0004a6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004a8   6e00     MOVWF     0x0,0x0                                                                                         
0004aa   6a01     CLRF      0x1,0x0                                                                                         
0004ac   0efd     MOVLW     0xfd                                                                                            
0004ae   1800     XORWF     0x0,0x0,0x0                                                                                     
0004b0   e11b     BNZ       0x4e8                                                                                           
0004b2   5001     MOVF      0x1,0x0,0x0                                                                                     
0004b4   e119     BNZ       0x4e8                                                                                           
0004b6   5165     MOVF      0x65,0x0,0x1                                                                                    
0004b8   e117     BNZ       0x4e8                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0004ba   0e01     MOVLW     0x1            			waitingMessage=TRUE;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0004bc   6f65     MOVWF     0x65,0x1                                                                                        
0004be   ecc1     CALL      0xd82,0x0      			timeout=tickGet();                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0004c0   f006                                                                                                               
0004c2   c018     MOVFF     0x18,0x66                                                                                       
0004c4   f066                                                                                                               
0004c6   c019     MOVFF     0x19,0x67                                                                                       
0004c8   f067                                                                                                               
0004ca   c01a     MOVFF     0x1a,0x68                                                                                       
0004cc   f068                                                                                                               
0004ce   c01b     MOVFF     0x1b,0x69                                                                                       
0004d0   f069                                                                                                               
0004d2   0100     MOVLB     0x0            			count=0;                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
0004d4   6b6a     CLRF      0x6a,0x1                                                                                        
0004d6   0e03     MOVLW     0x3            			cm.ident=0;                                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0004d8   6adb     CLRF      0xdb,0x0                                                                                        
0004da   0e04     MOVLW     0x4                                                                                             
0004dc   6adb     CLRF      0xdb,0x0                                                                                        
0004de   0e05     MOVLW     0x5                                                                                             
0004e0   6adb     CLRF      0xdb,0x0                                                                                        
0004e2   0e06     MOVLW     0x6                                                                                             
0004e4   6adb     CLRF      0xdb,0x0                                                                                        
0004e6   d12b     BRA       0x73e          			return;	                                                                      F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0004e8   0efe     MOVLW     0xfe           	if(c=='1' && waitingMessage==FALSE)                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0004ea   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004ec   0831     SUBLW     0x31                                                                                            
0004ee   e154     BNZ       0x598                                                                                           
0004f0   5165     MOVF      0x65,0x0,0x1                                                                                    
0004f2   e152     BNZ       0x598                                                                                           
                                           	{	                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
0004f4   0e23     MOVLW     0x23           			cm.ident=0x00000123;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0004f6   6ef3     MOVWF     0xf3,0x0                                                                                        
0004f8   0e03     MOVLW     0x3                                                                                             
0004fa   cff3     MOVFF     0xff3,0xfdb                                                                                     
0004fc   ffdb                                                                                                               
0004fe   0e01     MOVLW     0x1                                                                                             
000500   6ef3     MOVWF     0xf3,0x0                                                                                        
000502   0e04     MOVLW     0x4                                                                                             
000504   cff3     MOVFF     0xff3,0xfdb                                                                                     
000506   ffdb                                                                                                               
000508   0e05     MOVLW     0x5                                                                                             
00050a   6adb     CLRF      0xdb,0x0                                                                                        
00050c   0e06     MOVLW     0x6                                                                                             
00050e   6adb     CLRF      0xdb,0x0                                                                                        
000510   0e07     MOVLW     0x7            			cm.extended=FALSE;                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000512   6adb     CLRF      0xdb,0x0                                                                                        
000514   0e04     MOVLW     0x4            			cm.data_length=4;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
000516   6ef3     MOVWF     0xf3,0x0                                                                                        
000518   0e08     MOVLW     0x8                                                                                             
00051a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00051c   ffdb                                                                                                               
00051e   0e48     MOVLW     0x48           			cm.data[3]='H';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
000520   6ef3     MOVWF     0xf3,0x0                                                                                        
000522   0e0c     MOVLW     0xc                                                                                             
000524   cff3     MOVFF     0xff3,0xfdb                                                                                     
000526   ffdb                                                                                                               
000528   0e65     MOVLW     0x65           			cm.data[2]='e';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
00052a   6ef3     MOVWF     0xf3,0x0                                                                                        
00052c   0e0b     MOVLW     0xb                                                                                             
00052e   cff3     MOVFF     0xff3,0xfdb                                                                                     
000530   ffdb                                                                                                               
000532   0e6a     MOVLW     0x6a           			cm.data[1]='j';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
000534   6ef3     MOVWF     0xf3,0x0                                                                                        
000536   0e0a     MOVLW     0xa                                                                                             
000538   cff3     MOVFF     0xff3,0xfdb                                                                                     
00053a   ffdb                                                                                                               
00053c   0e21     MOVLW     0x21           			cm.data[0]='!';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
00053e   6ef3     MOVWF     0xf3,0x0                                                                                        
000540   0e09     MOVLW     0x9                                                                                             
000542   cff3     MOVFF     0xff3,0xfdb                                                                                     
000544   ffdb                                                                                                               
                                           			                                                                              F:\MCP\projects\CAN\canNode\Source\Main.c
000546   50d9     MOVF      0xd9,0x0,0x0   			while(!canSendMessage(cm));                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
000548   0f03     ADDLW     0x3                                                                                             
00054a   6ee9     MOVWF     0xe9,0x0                                                                                        
00054c   cfda     MOVFF     0xfda,0xfea                                                                                     
00054e   ffea                                                                                                               
000550   cfee     MOVFF     0xfee,0xfe6                                                                                     
000552   ffe6                                                                                                               
000554   cfee     MOVFF     0xfee,0xfe6                                                                                     
000556   ffe6                                                                                                               
000558   cfee     MOVFF     0xfee,0xfe6                                                                                     
00055a   ffe6                                                                                                               
00055c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00055e   ffe6                                                                                                               
000560   cfee     MOVFF     0xfee,0xfe6                                                                                     
000562   ffe6                                                                                                               
000564   cfee     MOVFF     0xfee,0xfe6                                                                                     
000566   ffe6                                                                                                               
000568   cfee     MOVFF     0xfee,0xfe6                                                                                     
00056a   ffe6                                                                                                               
00056c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00056e   ffe6                                                                                                               
000570   cfee     MOVFF     0xfee,0xfe6                                                                                     
000572   ffe6                                                                                                               
000574   cfee     MOVFF     0xfee,0xfe6                                                                                     
000576   ffe6                                                                                                               
000578   cfee     MOVFF     0xfee,0xfe6                                                                                     
00057a   ffe6                                                                                                               
00057c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00057e   ffe6                                                                                                               
000580   cfee     MOVFF     0xfee,0xfe6                                                                                     
000582   ffe6                                                                                                               
000584   cfee     MOVFF     0xfee,0xfe6                                                                                     
000586   ffe6                                                                                                               
000588   ec0e     CALL      0xa1c,0x0                                                                                       
00058a   f005                                                                                                               
00058c   6e00     MOVWF     0x0,0x0                                                                                         
00058e   0e0e     MOVLW     0xe                                                                                             
000590   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
000592   5000     MOVF      0x0,0x0,0x0                                                                                     
000594   0900     IORLW     0x0                                                                                             
000596   e0d7     BZ        0x546                                                                                           
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
000598   0efe     MOVLW     0xfe           	if(c=='2' && waitingMessage==FALSE)                                             F:\MCP\projects\CAN\canNode\Source\Main.c
00059a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00059c   0832     SUBLW     0x32                                                                                            
00059e   e16f     BNZ       0x67e                                                                                           
0005a0   0100     MOVLB     0x0                                                                                             
0005a2   5165     MOVF      0x65,0x0,0x1                                                                                    
0005a4   e16c     BNZ       0x67e                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0005a6   0ef0     MOVLW     0xf0           			cm.ident=0x0ABCDEF0;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
0005a8   6ef3     MOVWF     0xf3,0x0                                                                                        
0005aa   0e03     MOVLW     0x3                                                                                             
0005ac   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005ae   ffdb                                                                                                               
0005b0   0ede     MOVLW     0xde                                                                                            
0005b2   6ef3     MOVWF     0xf3,0x0                                                                                        
0005b4   0e04     MOVLW     0x4                                                                                             
0005b6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005b8   ffdb                                                                                                               
0005ba   0ebc     MOVLW     0xbc                                                                                            
0005bc   6ef3     MOVWF     0xf3,0x0                                                                                        
0005be   0e05     MOVLW     0x5                                                                                             
0005c0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005c2   ffdb                                                                                                               
0005c4   0e0a     MOVLW     0xa                                                                                             
0005c6   6ef3     MOVWF     0xf3,0x0                                                                                        
0005c8   0e06     MOVLW     0x6                                                                                             
0005ca   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005cc   ffdb                                                                                                               
0005ce   0e01     MOVLW     0x1            			cm.extended=TRUE;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0005d0   6ef3     MOVWF     0xf3,0x0                                                                                        
0005d2   0e07     MOVLW     0x7                                                                                             
0005d4   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005d6   ffdb                                                                                                               
0005d8   0e08     MOVLW     0x8            			cm.data_length=8;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0005da   6edb     MOVWF     0xdb,0x0                                                                                        
0005dc   0e47     MOVLW     0x47           			cm.data[7]='G';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0005de   6ef3     MOVWF     0xf3,0x0                                                                                        
0005e0   0e10     MOVLW     0x10                                                                                            
0005e2   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005e4   ffdb                                                                                                               
0005e6   0e6f     MOVLW     0x6f           			cm.data[6]='o';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0005e8   6ef3     MOVWF     0xf3,0x0                                                                                        
0005ea   0e0f     MOVLW     0xf                                                                                             
0005ec   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005ee   ffdb                                                                                                               
0005f0   0e64     MOVLW     0x64           			cm.data[5]='d';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0005f2   6ef3     MOVWF     0xf3,0x0                                                                                        
0005f4   0e0e     MOVLW     0xe                                                                                             
0005f6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0005f8   ffdb                                                                                                               
0005fa   0e20     MOVLW     0x20           			cm.data[4]=' ';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0005fc   6ef3     MOVWF     0xf3,0x0                                                                                        
0005fe   0e0d     MOVLW     0xd                                                                                             
000600   cff3     MOVFF     0xff3,0xfdb                                                                                     
000602   ffdb                                                                                                               
000604   0e64     MOVLW     0x64           			cm.data[3]='d';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
000606   6ef3     MOVWF     0xf3,0x0                                                                                        
000608   0e0c     MOVLW     0xc                                                                                             
00060a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00060c   ffdb                                                                                                               
00060e   0e61     MOVLW     0x61           			cm.data[2]='a';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
000610   6ef3     MOVWF     0xf3,0x0                                                                                        
000612   0e0b     MOVLW     0xb                                                                                             
000614   cff3     MOVFF     0xff3,0xfdb                                                                                     
000616   ffdb                                                                                                               
000618   0e67     MOVLW     0x67           			cm.data[1]='g';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
00061a   6ef3     MOVWF     0xf3,0x0                                                                                        
00061c   0e0a     MOVLW     0xa                                                                                             
00061e   cff3     MOVFF     0xff3,0xfdb                                                                                     
000620   ffdb                                                                                                               
000622   0e21     MOVLW     0x21           			cm.data[0]='!';		                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
000624   6ef3     MOVWF     0xf3,0x0                                                                                        
000626   0e09     MOVLW     0x9                                                                                             
000628   cff3     MOVFF     0xff3,0xfdb                                                                                     
00062a   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00062c   50d9     MOVF      0xd9,0x0,0x0   			while(!canSendMessage(cm));                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
00062e   0f03     ADDLW     0x3                                                                                             
000630   6ee9     MOVWF     0xe9,0x0                                                                                        
000632   cfda     MOVFF     0xfda,0xfea                                                                                     
000634   ffea                                                                                                               
000636   cfee     MOVFF     0xfee,0xfe6                                                                                     
000638   ffe6                                                                                                               
00063a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00063c   ffe6                                                                                                               
00063e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000640   ffe6                                                                                                               
000642   cfee     MOVFF     0xfee,0xfe6                                                                                     
000644   ffe6                                                                                                               
000646   cfee     MOVFF     0xfee,0xfe6                                                                                     
000648   ffe6                                                                                                               
00064a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00064c   ffe6                                                                                                               
00064e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000650   ffe6                                                                                                               
000652   cfee     MOVFF     0xfee,0xfe6                                                                                     
000654   ffe6                                                                                                               
000656   cfee     MOVFF     0xfee,0xfe6                                                                                     
000658   ffe6                                                                                                               
00065a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00065c   ffe6                                                                                                               
00065e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000660   ffe6                                                                                                               
000662   cfee     MOVFF     0xfee,0xfe6                                                                                     
000664   ffe6                                                                                                               
000666   cfee     MOVFF     0xfee,0xfe6                                                                                     
000668   ffe6                                                                                                               
00066a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00066c   ffe6                                                                                                               
00066e   ec0e     CALL      0xa1c,0x0                                                                                       
000670   f005                                                                                                               
000672   6e00     MOVWF     0x0,0x0                                                                                         
000674   0e0e     MOVLW     0xe                                                                                             
000676   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
000678   5000     MOVF      0x0,0x0,0x0                                                                                     
00067a   0900     IORLW     0x0                                                                                             
00067c   e0d7     BZ        0x62c                                                                                           
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00067e   0efe     MOVLW     0xfe           	if(c=='3' && waitingMessage==FALSE)                                             F:\MCP\projects\CAN\canNode\Source\Main.c
000680   50db     MOVF      0xdb,0x0,0x0                                                                                    
000682   0833     SUBLW     0x33                                                                                            
000684   e15c     BNZ       0x73e                                                                                           
000686   0100     MOVLB     0x0                                                                                             
000688   5165     MOVF      0x65,0x0,0x1                                                                                    
00068a   e159     BNZ       0x73e                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
00068c   0e10     MOVLW     0x10           			cm.ident=0x00000010;                                                          F:\MCP\projects\CAN\canNode\Source\Main.c
00068e   6ef3     MOVWF     0xf3,0x0                                                                                        
000690   0e03     MOVLW     0x3                                                                                             
000692   cff3     MOVFF     0xff3,0xfdb                                                                                     
000694   ffdb                                                                                                               
000696   0e04     MOVLW     0x4                                                                                             
000698   6adb     CLRF      0xdb,0x0                                                                                        
00069a   0e05     MOVLW     0x5                                                                                             
00069c   6adb     CLRF      0xdb,0x0                                                                                        
00069e   0e06     MOVLW     0x6                                                                                             
0006a0   6adb     CLRF      0xdb,0x0                                                                                        
0006a2   0e07     MOVLW     0x7            			cm.extended=FALSE;                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0006a4   6adb     CLRF      0xdb,0x0                                                                                        
0006a6   0e06     MOVLW     0x6            			cm.data_length=6;                                                             F:\MCP\projects\CAN\canNode\Source\Main.c
0006a8   6ef3     MOVWF     0xf3,0x0                                                                                        
0006aa   0e08     MOVLW     0x8                                                                                             
0006ac   cff3     MOVFF     0xff3,0xfdb                                                                                     
0006ae   ffdb                                                                                                               
0006b0   0e35     MOVLW     0x35           			cm.data[5]='5';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0006b2   6ef3     MOVWF     0xf3,0x0                                                                                        
0006b4   0e0e     MOVLW     0xe                                                                                             
0006b6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0006b8   ffdb                                                                                                               
0006ba   0e34     MOVLW     0x34           			cm.data[4]='4';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0006bc   6ef3     MOVWF     0xf3,0x0                                                                                        
0006be   0e0d     MOVLW     0xd                                                                                             
0006c0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0006c2   ffdb                                                                                                               
0006c4   0e33     MOVLW     0x33           			cm.data[3]='3';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0006c6   6ef3     MOVWF     0xf3,0x0                                                                                        
0006c8   0e0c     MOVLW     0xc                                                                                             
0006ca   cff3     MOVFF     0xff3,0xfdb                                                                                     
0006cc   ffdb                                                                                                               
0006ce   0e32     MOVLW     0x32           			cm.data[2]='2';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0006d0   6ef3     MOVWF     0xf3,0x0                                                                                        
0006d2   0e0b     MOVLW     0xb                                                                                             
0006d4   cff3     MOVFF     0xff3,0xfdb                                                                                     
0006d6   ffdb                                                                                                               
0006d8   0e31     MOVLW     0x31           			cm.data[1]='1';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0006da   6ef3     MOVWF     0xf3,0x0                                                                                        
0006dc   0e0a     MOVLW     0xa                                                                                             
0006de   cff3     MOVFF     0xff3,0xfdb                                                                                     
0006e0   ffdb                                                                                                               
0006e2   0e30     MOVLW     0x30           			cm.data[0]='0';                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
0006e4   6ef3     MOVWF     0xf3,0x0                                                                                        
0006e6   0e09     MOVLW     0x9                                                                                             
0006e8   cff3     MOVFF     0xff3,0xfdb                                                                                     
0006ea   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
0006ec   50d9     MOVF      0xd9,0x0,0x0   			while(!canSendMessage(cm));                                                   F:\MCP\projects\CAN\canNode\Source\Main.c
0006ee   0f03     ADDLW     0x3                                                                                             
0006f0   6ee9     MOVWF     0xe9,0x0                                                                                        
0006f2   cfda     MOVFF     0xfda,0xfea                                                                                     
0006f4   ffea                                                                                                               
0006f6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0006f8   ffe6                                                                                                               
0006fa   cfee     MOVFF     0xfee,0xfe6                                                                                     
0006fc   ffe6                                                                                                               
0006fe   cfee     MOVFF     0xfee,0xfe6                                                                                     
000700   ffe6                                                                                                               
000702   cfee     MOVFF     0xfee,0xfe6                                                                                     
000704   ffe6                                                                                                               
000706   cfee     MOVFF     0xfee,0xfe6                                                                                     
000708   ffe6                                                                                                               
00070a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00070c   ffe6                                                                                                               
00070e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000710   ffe6                                                                                                               
000712   cfee     MOVFF     0xfee,0xfe6                                                                                     
000714   ffe6                                                                                                               
000716   cfee     MOVFF     0xfee,0xfe6                                                                                     
000718   ffe6                                                                                                               
00071a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00071c   ffe6                                                                                                               
00071e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000720   ffe6                                                                                                               
000722   cfee     MOVFF     0xfee,0xfe6                                                                                     
000724   ffe6                                                                                                               
000726   cfee     MOVFF     0xfee,0xfe6                                                                                     
000728   ffe6                                                                                                               
00072a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00072c   ffe6                                                                                                               
00072e   ec0e     CALL      0xa1c,0x0                                                                                       
000730   f005                                                                                                               
000732   6e00     MOVWF     0x0,0x0                                                                                         
000734   0e0e     MOVLW     0xe                                                                                             
000736   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
000738   5000     MOVF      0x0,0x0,0x0                                                                                     
00073a   0900     IORLW     0x0                                                                                             
00073c   e0d7     BZ        0x6ec                                                                                           
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Main.c
00073e   0e11     MOVLW     0x11           }                                                                                F:\MCP\projects\CAN\canNode\Source\Main.c
000740   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000742   e202     BC        0x748                                                                                           
000744   6ae1     CLRF      0xe1,0x0                                                                                        
000746   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000748   6ee1     MOVWF     0xe1,0x0                                                                                        
00074a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00074c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00074e   ffd9                                                                                                               
000750   0012     RETURN    0x0                                                                                             
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Main.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                  CAN driver                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            * FileName:        CAN.c                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include "../Include/CANdefs.h"                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include "../Include/stackTasks.h"                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include "../Include/CAN.h"                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #include "../Include/uart.h"                                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           static void canGetPacket(void);                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canInit                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: Changes can registers.                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           void canInit()                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
000752   0e80     MOVLW     0x80           	CANCON = 0x80; //request config mode                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000754   6e6f     MOVWF     0x6f,0x0                                                                                        
000756   0ee0     MOVLW     0xe0           	while ((CANSTAT & 0xE0) != 0x80 ); //wait for config mode request               F:\MCP\projects\CAN\canNode\Source\CAN.c
000758   146e     ANDWF     0x6e,0x0,0x0                                                                                    
00075a   0880     SUBLW     0x80                                                                                            
00075c   e1fc     BNZ       0x756                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// BAUD AND TQS                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00075e   6a70     CLRF      0x70,0x0       	BRGCON1=0;                                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Sync_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000760   9e70     BCF       0x70,0x7,0x0   	BRGCON1bits.SJW1=0;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
000762   8c70     BSF       0x70,0x6,0x0   	BRGCON1bits.SJW0=1;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Setting BRP.                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
000764   0e09     MOVLW     0x9            	BRGCON1=BRGCON1|CAN_BRP;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000766   1070     IORWF     0x70,0x0,0x0                                                                                    
000768   6e70     MOVWF     0x70,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Maximum PHEG1                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
00076a   8e71     BSF       0x71,0x7,0x0   	BRGCON2bits.SEG2PHTS = 1;                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Phase_Seg1 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
00076c   9a71     BCF       0x71,0x5,0x0   	BRGCON2bits.SEG1PH2 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
00076e   9871     BCF       0x71,0x4,0x0   	BRGCON2bits.SEG1PH1 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000770   8671     BSF       0x71,0x3,0x0   	BRGCON2bits.SEG1PH0 = 1;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Prop_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000772   9471     BCF       0x71,0x2,0x0   	BRGCON2bits.PRSEG2 = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000774   9271     BCF       0x71,0x1,0x0   	BRGCON2bits.PRSEG1 = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000776   8071     BSF       0x71,0x0,0x0   	BRGCON2bits.PRSEG0 = 1;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	//  Enableing bus wake-up                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
000778   9e72     BCF       0x72,0x7,0x0   	BRGCON3bits.WAKDIS = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Dont use filter when wakeup                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
00077a   9c72     BCF       0x72,0x6,0x0   	BRGCON3bits.WAKFIL = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Phase_Seg2 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
00077c   9472     BCF       0x72,0x2,0x0   	BRGCON3bits.SEG2PH2 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
00077e   9272     BCF       0x72,0x1,0x0   	BRGCON3bits.SEG2PH1 = 0;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000780   8072     BSF       0x72,0x0,0x0   	BRGCON3bits.SEG2PH0 = 1;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000782   6a77     CLRF      0x77,0x0       	ECANCON=0;                                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
000784   9e77     BCF       0x77,0x7,0x0   	ECANCONbits.MDSEL1 = 0;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000786   8c77     BSF       0x77,0x6,0x0   	ECANCONbits.MDSEL0 = 1;                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// FILTERS AND MASKS                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000788   8c60     BSF       0x60,0x6,0x0   	RXB0CONbits.RXM1=1;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
00078a   9a60     BCF       0x60,0x5,0x0   	RXB0CONbits.RXM0=0;                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// INTERRUPTS                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Diable transmit interrupt                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
00078c   010d     MOVLB     0xd            	TXBIE = 0;                                                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
00078e   6bfc     CLRF      0xfc,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	//rx any interrupt                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000790   6aa4     CLRF      0xa4,0x0       	PIR3 = 0;                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
000792   0e03     MOVLW     0x3            	PIE3 = 0b00000011;                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000794   6ea3     MOVWF     0xa3,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// High interrupt                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
000796   6ea5     MOVWF     0xa5,0x0       	IPR3 =0b00000011;                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	// Programmable buffers interrupt                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
000798   69fa     SETF      0xfa,0x1       	BIE0  = 0xFF;	                                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	//loopback mode or not                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	#ifdef CAN_LOOPBACK_MODE                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
00079a   0e40     MOVLW     0x40           		CANCON = 0x40;//request loopback mode                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
00079c   6e6f     MOVWF     0x6f,0x0                                                                                        
00079e   0ee0     MOVLW     0xe0           		while ((CANSTAT & 0xE0) != 0x40 );//wait for loopback mode                     F:\MCP\projects\CAN\canNode\Source\CAN.c
0007a0   146e     ANDWF     0x6e,0x0,0x0                                                                                    
0007a2   0840     SUBLW     0x40                                                                                            
0007a4   e1fc     BNZ       0x79e                                                                                           
                                           	#else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		CANCON = 0x00;//request normal mode                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		while ((CANSTAT & 0xE0) != 0x00 );//wait for normal mode                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	#endif                                                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
0007a6   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canISR                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: a call to canInit()                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: interrupt registers and receive data buffers                          F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           void canISR()                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
0007a8   50a4     MOVF      0xa4,0x0,0x0   	if (PIR3bits.RXBnIF || PIR3bits.RXB1IF || PIR3bits.RXB0IF)                      F:\MCP\projects\CAN\canNode\Source\CAN.c
0007aa   0b02     ANDLW     0x2                                                                                             
0007ac   e106     BNZ       0x7ba                                                                                           
0007ae   50a4     MOVF      0xa4,0x0,0x0                                                                                    
0007b0   0b02     ANDLW     0x2                                                                                             
0007b2   e103     BNZ       0x7ba                                                                                           
0007b4   50a4     MOVF      0xa4,0x0,0x0                                                                                    
0007b6   0b01     ANDLW     0x1                                                                                             
0007b8   e03a     BZ        0x82e                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Get which buffer that is ful.                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
0007ba   ae60     BTFSS     0x60,0x7,0x0   			 if (RXB0CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10000; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0007bc   d004     BRA       0x7c6                                                                                           
0007be   0e00     MOVLW     0x0                                                                                             
0007c0   1477     ANDWF     0x77,0x0,0x0                                                                                    
0007c2   0910     IORLW     0x10                                                                                            
0007c4   d02b     BRA       0x81c          		else if (RXB1CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10001; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0007c6   010f     MOVLB     0xf                                                                                             
0007c8   af50     BTFSS     0x50,0x7,0x1                                                                                    
0007ca   d004     BRA       0x7d4                                                                                           
0007cc   0e00     MOVLW     0x0                                                                                             
0007ce   1477     ANDWF     0x77,0x0,0x0                                                                                    
0007d0   0911     IORLW     0x11                                                                                            
0007d2   d024     BRA       0x81c          		else if (B0CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10010; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0007d4   010e     MOVLB     0xe                                                                                             
0007d6   af20     BTFSS     0x20,0x7,0x1                                                                                    
0007d8   d004     BRA       0x7e2                                                                                           
0007da   0e00     MOVLW     0x0                                                                                             
0007dc   1477     ANDWF     0x77,0x0,0x0                                                                                    
0007de   0912     IORLW     0x12                                                                                            
0007e0   d01d     BRA       0x81c          		else if (B1CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10011; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0007e2   af30     BTFSS     0x30,0x7,0x1                                                                                    
0007e4   d004     BRA       0x7ee                                                                                           
0007e6   0e00     MOVLW     0x0                                                                                             
0007e8   1477     ANDWF     0x77,0x0,0x0                                                                                    
0007ea   0913     IORLW     0x13                                                                                            
0007ec   d017     BRA       0x81c          		else if (B2CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10100; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0007ee   af40     BTFSS     0x40,0x7,0x1                                                                                    
0007f0   d004     BRA       0x7fa                                                                                           
0007f2   0e00     MOVLW     0x0                                                                                             
0007f4   1477     ANDWF     0x77,0x0,0x0                                                                                    
0007f6   0914     IORLW     0x14                                                                                            
0007f8   d011     BRA       0x81c          		else if (B3CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10101; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
0007fa   af50     BTFSS     0x50,0x7,0x1                                                                                    
0007fc   d004     BRA       0x806                                                                                           
0007fe   0e00     MOVLW     0x0                                                                                             
000800   1477     ANDWF     0x77,0x0,0x0                                                                                    
000802   0915     IORLW     0x15                                                                                            
000804   d00b     BRA       0x81c          		else if (B4CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10110; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
000806   af60     BTFSS     0x60,0x7,0x1                                                                                    
000808   d004     BRA       0x812                                                                                           
00080a   0e00     MOVLW     0x0                                                                                             
00080c   1477     ANDWF     0x77,0x0,0x0                                                                                    
00080e   0916     IORLW     0x16                                                                                            
000810   d005     BRA       0x81c          		else if (B5CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10111; canGetPacket(); } F:\MCP\projects\CAN\canNode\Source\CAN.c
000812   af70     BTFSS     0x70,0x7,0x1                                                                                    
000814   d005     BRA       0x820                                                                                           
000816   0e00     MOVLW     0x0                                                                                             
000818   1477     ANDWF     0x77,0x0,0x0                                                                                    
00081a   0917     IORLW     0x17                                                                                            
00081c   6e77     MOVWF     0x77,0x0                                                                                        
00081e   d808     RCALL     0x830                                                                                           
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
000820   a2a4     BTFSS     0xa4,0x1,0x0   		if (PIR3bits.RXBnIF) {PIR3bits.RXBnIF = 0;}                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
000822   d003     BRA       0x82a                                                                                           
000824   92a4     BCF       0xa4,0x1,0x0                                                                                    
000826   b2a4     BTFSC     0xa4,0x1,0x0   		if (PIR3bits.RXB1IF) {PIR3bits.RXB1IF = 0;}                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
000828   92a4     BCF       0xa4,0x1,0x0                                                                                    
00082a   b0a4     BTFSC     0xa4,0x0,0x0   		if (PIR3bits.RXB0IF) {PIR3bits.RXB0IF = 0;}                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
00082c   90a4     BCF       0xa4,0x0,0x0                                                                                    
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
00082e   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canGetPacket                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: a call to canISR and an packet is available and banked to RXB0 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: Calls canParse() function in main for parsing received packet.        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
000830   cfd9     MOVFF     0xfd9,0xfe6    void canGetPacket()                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000832   ffe6                                                                                                               
000834   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000836   ffd9                                                                                                               
000838   0e0e     MOVLW     0xe                                                                                             
00083a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		CAN_MESSAGE cm;                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Set extended mode or not.                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
00083c   5062     MOVF      0x62,0x0,0x0   		cm.extended=(RXB0SIDLbits.EXID==0?FALSE:TRUE);                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
00083e   0b08     ANDLW     0x8                                                                                             
000840   e102     BNZ       0x846                                                                                           
000842   0e00     MOVLW     0x0                                                                                             
000844   d001     BRA       0x848                                                                                           
000846   0e01     MOVLW     0x1                                                                                             
000848   6ee7     MOVWF     0xe7,0x0                                                                                        
00084a   0e04     MOVLW     0x4                                                                                             
00084c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00084e   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Clear                                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
000850   6ade     CLRF      0xde,0x0       		cm.ident=0;                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
000852   6ade     CLRF      0xde,0x0                                                                                        
000854   6ade     CLRF      0xde,0x0                                                                                        
000856   6add     CLRF      0xdd,0x0                                                                                        
000858   52dd     MOVF      0xdd,0x1,0x0                                                                                    
00085a   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
00085c   04db     DECF      0xdb,0x0,0x0   		if (cm.extended==TRUE)                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
00085e   e163     BNZ       0x926                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Read extended ident.                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx 28 27 26 25 24   23 22 21 20 19 18 17 16   15 14 13 12 11 10 09 08   07 06 05 04 03 02 01 00 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 28 27 26 25 24 23 22 21                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 20 19 18 xx xx xx 17 16                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDH 15 14 13 12 11 10 09 08                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDL 07 06 05 04 03 02 01 00                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000860   5061     MOVF      0x61,0x0,0x0           	cm.ident = (((DWORD)RXB0SIDH)<<21) + (((DWORD)(RXB0SIDL & 0xE0))<<13) + (((DWORD)(RXB0SIDL & 0x03))<<16) + (((DWORD)RXB0EIDH)<<8) + (BYTE)RXB0EIDL; F:\MCP\projects\CAN\canNode\Source\CAN.c
000862   6e00     MOVWF     0x0,0x0                                                                                         
000864   6a01     CLRF      0x1,0x0                                                                                         
000866   6a02     CLRF      0x2,0x0                                                                                         
000868   6a03     CLRF      0x3,0x0                                                                                         
00086a   0e15     MOVLW     0x15                                                                                            
00086c   0b1f     ANDLW     0x1f                                                                                            
00086e   e007     BZ        0x87e                                                                                           
000870   90d8     BCF       0xd8,0x0,0x0                                                                                    
000872   3600     RLCF      0x0,0x1,0x0                                                                                     
000874   3601     RLCF      0x1,0x1,0x0                                                                                     
000876   3602     RLCF      0x2,0x1,0x0                                                                                     
000878   3603     RLCF      0x3,0x1,0x0                                                                                     
00087a   06e8     DECF      0xe8,0x1,0x0                                                                                    
00087c   e1f9     BNZ       0x870                                                                                           
00087e   0ee0     MOVLW     0xe0                                                                                            
000880   1462     ANDWF     0x62,0x0,0x0                                                                                    
000882   6e04     MOVWF     0x4,0x0                                                                                         
000884   6a05     CLRF      0x5,0x0                                                                                         
000886   6a06     CLRF      0x6,0x0                                                                                         
000888   6a07     CLRF      0x7,0x0                                                                                         
00088a   0e0d     MOVLW     0xd                                                                                             
00088c   0b1f     ANDLW     0x1f                                                                                            
00088e   e007     BZ        0x89e                                                                                           
000890   90d8     BCF       0xd8,0x0,0x0                                                                                    
000892   3604     RLCF      0x4,0x1,0x0                                                                                     
000894   3605     RLCF      0x5,0x1,0x0                                                                                     
000896   3606     RLCF      0x6,0x1,0x0                                                                                     
000898   3607     RLCF      0x7,0x1,0x0                                                                                     
00089a   06e8     DECF      0xe8,0x1,0x0                                                                                    
00089c   e1f9     BNZ       0x890                                                                                           
00089e   5004     MOVF      0x4,0x0,0x0                                                                                     
0008a0   2600     ADDWF     0x0,0x1,0x0                                                                                     
0008a2   5005     MOVF      0x5,0x0,0x0                                                                                     
0008a4   2201     ADDWFC    0x1,0x1,0x0                                                                                     
0008a6   5006     MOVF      0x6,0x0,0x0                                                                                     
0008a8   2202     ADDWFC    0x2,0x1,0x0                                                                                     
0008aa   5007     MOVF      0x7,0x0,0x0                                                                                     
0008ac   2203     ADDWFC    0x3,0x1,0x0                                                                                     
0008ae   0e03     MOVLW     0x3                                                                                             
0008b0   1462     ANDWF     0x62,0x0,0x0                                                                                    
0008b2   6e08     MOVWF     0x8,0x0                                                                                         
0008b4   6a09     CLRF      0x9,0x0                                                                                         
0008b6   6a0a     CLRF      0xa,0x0                                                                                         
0008b8   6a0b     CLRF      0xb,0x0                                                                                         
0008ba   0e10     MOVLW     0x10                                                                                            
0008bc   0b1f     ANDLW     0x1f                                                                                            
0008be   e007     BZ        0x8ce                                                                                           
0008c0   90d8     BCF       0xd8,0x0,0x0                                                                                    
0008c2   3608     RLCF      0x8,0x1,0x0                                                                                     
0008c4   3609     RLCF      0x9,0x1,0x0                                                                                     
0008c6   360a     RLCF      0xa,0x1,0x0                                                                                     
0008c8   360b     RLCF      0xb,0x1,0x0                                                                                     
0008ca   06e8     DECF      0xe8,0x1,0x0                                                                                    
0008cc   e1f9     BNZ       0x8c0                                                                                           
0008ce   5008     MOVF      0x8,0x0,0x0                                                                                     
0008d0   2600     ADDWF     0x0,0x1,0x0                                                                                     
0008d2   5009     MOVF      0x9,0x0,0x0                                                                                     
0008d4   2201     ADDWFC    0x1,0x1,0x0                                                                                     
0008d6   500a     MOVF      0xa,0x0,0x0                                                                                     
0008d8   2202     ADDWFC    0x2,0x1,0x0                                                                                     
0008da   500b     MOVF      0xb,0x0,0x0                                                                                     
0008dc   2203     ADDWFC    0x3,0x1,0x0                                                                                     
0008de   5063     MOVF      0x63,0x0,0x0                                                                                    
0008e0   6e0c     MOVWF     0xc,0x0                                                                                         
0008e2   6a0d     CLRF      0xd,0x0                                                                                         
0008e4   6a0e     CLRF      0xe,0x0                                                                                         
0008e6   6a0f     CLRF      0xf,0x0                                                                                         
0008e8   0e08     MOVLW     0x8                                                                                             
0008ea   0b1f     ANDLW     0x1f                                                                                            
0008ec   e007     BZ        0x8fc                                                                                           
0008ee   90d8     BCF       0xd8,0x0,0x0                                                                                    
0008f0   360c     RLCF      0xc,0x1,0x0                                                                                     
0008f2   360d     RLCF      0xd,0x1,0x0                                                                                     
0008f4   360e     RLCF      0xe,0x1,0x0                                                                                     
0008f6   360f     RLCF      0xf,0x1,0x0                                                                                     
0008f8   06e8     DECF      0xe8,0x1,0x0                                                                                    
0008fa   e1f9     BNZ       0x8ee                                                                                           
0008fc   500c     MOVF      0xc,0x0,0x0                                                                                     
0008fe   2600     ADDWF     0x0,0x1,0x0                                                                                     
000900   500d     MOVF      0xd,0x0,0x0                                                                                     
000902   2201     ADDWFC    0x1,0x1,0x0                                                                                     
000904   500e     MOVF      0xe,0x0,0x0                                                                                     
000906   2202     ADDWFC    0x2,0x1,0x0                                                                                     
000908   500f     MOVF      0xf,0x0,0x0                                                                                     
00090a   2203     ADDWFC    0x3,0x1,0x0                                                                                     
00090c   5064     MOVF      0x64,0x0,0x0                                                                                    
00090e   6e10     MOVWF     0x10,0x0                                                                                        
000910   6a11     CLRF      0x11,0x0                                                                                        
000912   6a12     CLRF      0x12,0x0                                                                                        
000914   6a13     CLRF      0x13,0x0                                                                                        
000916   50e8     MOVF      0xe8,0x0,0x0                                                                                    
000918   2600     ADDWF     0x0,0x1,0x0                                                                                     
00091a   5011     MOVF      0x11,0x0,0x0                                                                                    
00091c   2201     ADDWFC    0x1,0x1,0x0                                                                                     
00091e   5012     MOVF      0x12,0x0,0x0                                                                                    
000920   2202     ADDWFC    0x2,0x1,0x0                                                                                     
000922   5013     MOVF      0x13,0x0,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000924   d023     BRA       0x96c          		else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Read standard ident.                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx xx xx 10 09 08   07 06 05 04 03 02 01 00                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 10 09 08 07 06 05 04 03                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 02 01 00 xx xx xx xx xx                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000926   5061     MOVF      0x61,0x0,0x0   			cm.ident = (((DWORD)RXB0SIDH)<<3) + (((DWORD)RXB0SIDL)>>5);                   F:\MCP\projects\CAN\canNode\Source\CAN.c
000928   6e00     MOVWF     0x0,0x0                                                                                         
00092a   6a01     CLRF      0x1,0x0                                                                                         
00092c   6a02     CLRF      0x2,0x0                                                                                         
00092e   6a03     CLRF      0x3,0x0                                                                                         
000930   0e03     MOVLW     0x3                                                                                             
000932   0b1f     ANDLW     0x1f                                                                                            
000934   e007     BZ        0x944                                                                                           
000936   90d8     BCF       0xd8,0x0,0x0                                                                                    
000938   3600     RLCF      0x0,0x1,0x0                                                                                     
00093a   3601     RLCF      0x1,0x1,0x0                                                                                     
00093c   3602     RLCF      0x2,0x1,0x0                                                                                     
00093e   3603     RLCF      0x3,0x1,0x0                                                                                     
000940   06e8     DECF      0xe8,0x1,0x0                                                                                    
000942   e1f9     BNZ       0x936                                                                                           
000944   5062     MOVF      0x62,0x0,0x0                                                                                    
000946   6e04     MOVWF     0x4,0x0                                                                                         
000948   6a05     CLRF      0x5,0x0                                                                                         
00094a   6a06     CLRF      0x6,0x0                                                                                         
00094c   6a07     CLRF      0x7,0x0                                                                                         
00094e   0e05     MOVLW     0x5                                                                                             
000950   90d8     BCF       0xd8,0x0,0x0                                                                                    
000952   3207     RRCF      0x7,0x1,0x0                                                                                     
000954   3206     RRCF      0x6,0x1,0x0                                                                                     
000956   3205     RRCF      0x5,0x1,0x0                                                                                     
000958   3204     RRCF      0x4,0x1,0x0                                                                                     
00095a   06e8     DECF      0xe8,0x1,0x0                                                                                    
00095c   e1f9     BNZ       0x950                                                                                           
00095e   5004     MOVF      0x4,0x0,0x0                                                                                     
000960   2600     ADDWF     0x0,0x1,0x0                                                                                     
000962   5005     MOVF      0x5,0x0,0x0                                                                                     
000964   2201     ADDWFC    0x1,0x1,0x0                                                                                     
000966   5006     MOVF      0x6,0x0,0x0                                                                                     
000968   2202     ADDWFC    0x2,0x1,0x0                                                                                     
00096a   5007     MOVF      0x7,0x0,0x0                                                                                     
00096c   2203     ADDWFC    0x3,0x1,0x0                                                                                     
00096e   c000     MOVFF     0x0,0xfdf                                                                                       
000970   ffdf                                                                                                               
000972   0e01     MOVLW     0x1                                                                                             
000974   c001     MOVFF     0x1,0xfdb                                                                                       
000976   ffdb                                                                                                               
000978   0e02     MOVLW     0x2                                                                                             
00097a   c002     MOVFF     0x2,0xfdb                                                                                       
00097c   ffdb                                                                                                               
00097e   0e03     MOVLW     0x3                                                                                             
000980   c003     MOVFF     0x3,0xfdb                                                                                       
000982   ffdb                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
000984   0e05     MOVLW     0x5            		cm.data_length=RXB0DLC;                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000986   cf65     MOVFF     0xf65,0xfdb                                                                                     
000988   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
00098a   0e06     MOVLW     0x6            		cm.data[0]=RXB0D0;	cm.data[1]=RXB0D1;                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
00098c   cf66     MOVFF     0xf66,0xfdb                                                                                     
00098e   ffdb                                                                                                               
000990   0e07     MOVLW     0x7                                                                                             
000992   cf67     MOVFF     0xf67,0xfdb                                                                                     
000994   ffdb                                                                                                               
000996   0e08     MOVLW     0x8            		cm.data[2]=RXB0D2; 	cm.data[3]=RXB0D3;                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000998   cf68     MOVFF     0xf68,0xfdb                                                                                     
00099a   ffdb                                                                                                               
00099c   0e09     MOVLW     0x9                                                                                             
00099e   cf69     MOVFF     0xf69,0xfdb                                                                                     
0009a0   ffdb                                                                                                               
0009a2   0e0a     MOVLW     0xa            		cm.data[4]=RXB0D4; 	cm.data[5]=RXB0D5;                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0009a4   cf6a     MOVFF     0xf6a,0xfdb                                                                                     
0009a6   ffdb                                                                                                               
0009a8   0e0b     MOVLW     0xb                                                                                             
0009aa   cf6b     MOVFF     0xf6b,0xfdb                                                                                     
0009ac   ffdb                                                                                                               
0009ae   0e0c     MOVLW     0xc            		cm.data[6]=RXB0D6; 	cm.data[7]=RXB0D7;                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
0009b0   cf6c     MOVFF     0xf6c,0xfdb                                                                                     
0009b2   ffdb                                                                                                               
0009b4   0e0d     MOVLW     0xd                                                                                             
0009b6   cf6d     MOVFF     0xf6d,0xfdb                                                                                     
0009b8   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Clear ful status                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
0009ba   9e60     BCF       0x60,0x7,0x0   		RXB0CONbits.RXFUL=0;                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		//Call main parser                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
0009bc   cfd9     MOVFF     0xfd9,0xfe9    		canParse(cm);                                                                  F:\MCP\projects\CAN\canNode\Source\CAN.c
0009be   ffe9                                                                                                               
0009c0   cfda     MOVFF     0xfda,0xfea                                                                                     
0009c2   ffea                                                                                                               
0009c4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009c6   ffe6                                                                                                               
0009c8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009ca   ffe6                                                                                                               
0009cc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009ce   ffe6                                                                                                               
0009d0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009d2   ffe6                                                                                                               
0009d4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009d6   ffe6                                                                                                               
0009d8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009da   ffe6                                                                                                               
0009dc   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009de   ffe6                                                                                                               
0009e0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009e2   ffe6                                                                                                               
0009e4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009e6   ffe6                                                                                                               
0009e8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009ea   ffe6                                                                                                               
0009ec   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009ee   ffe6                                                                                                               
0009f0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009f2   ffe6                                                                                                               
0009f4   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009f6   ffe6                                                                                                               
0009f8   cfee     MOVFF     0xfee,0xfe6                                                                                     
0009fa   ffe6                                                                                                               
0009fc   ecff     CALL      0x1fe,0x0                                                                                       
0009fe   f000                                                                                                               
000a00   6e00     MOVWF     0x0,0x0                                                                                         
000a02   0e0e     MOVLW     0xe                                                                                             
000a04   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
000a06   5000     MOVF      0x0,0x0,0x0                                                                                     
000a08   0e0e     MOVLW     0xe            }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
000a0a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000a0c   e202     BC        0xa12                                                                                           
000a0e   6ae1     CLRF      0xe1,0x0                                                                                        
000a10   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000a12   6ee1     MOVWF     0xe1,0x0                                                                                        
000a14   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000a16   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000a18   ffd9                                                                                                               
000a1a   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Function: canSendMessage                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Input:	CAN_MESSAGE to send                                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Output: True if packet scheduled sucess, false otherwise.                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Pre-conditions: canInit                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Affects: ..                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
000a1c   cfd9     MOVFF     0xfd9,0xfe6    BOOL canSendMessage(CAN_MESSAGE cm)                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000a1e   ffe6                                                                                                               
000a20   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000a22   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
000a24   010f     MOVLB     0xf            	if ( TXB0CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00011; }           F:\MCP\projects\CAN\canNode\Source\CAN.c
000a26   b740     BTFSC     0x40,0x3,0x1                                                                                    
000a28   d004     BRA       0xa32                                                                                           
000a2a   0e00     MOVLW     0x0                                                                                             
000a2c   1477     ANDWF     0x77,0x0,0x0                                                                                    
000a2e   0903     IORLW     0x3                                                                                             
000a30   6e77     MOVWF     0x77,0x0                                                                                        
000a32   010f     MOVLB     0xf            	if ( TXB1CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00100; }           F:\MCP\projects\CAN\canNode\Source\CAN.c
000a34   b730     BTFSC     0x30,0x3,0x1                                                                                    
000a36   d004     BRA       0xa40                                                                                           
000a38   0e00     MOVLW     0x0                                                                                             
000a3a   1477     ANDWF     0x77,0x0,0x0                                                                                    
000a3c   0904     IORLW     0x4                                                                                             
000a3e   6e77     MOVWF     0x77,0x0                                                                                        
000a40   010f     MOVLB     0xf            	if ( TXB2CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00101; }           F:\MCP\projects\CAN\canNode\Source\CAN.c
000a42   b720     BTFSC     0x20,0x3,0x1                                                                                    
000a44   d005     BRA       0xa50                                                                                           
000a46   0e00     MOVLW     0x0                                                                                             
000a48   1477     ANDWF     0x77,0x0,0x0                                                                                    
000a4a   0905     IORLW     0x5                                                                                             
000a4c   6e77     MOVWF     0x77,0x0                                                                                        
                                           	// None of the transmit buffers were empty.                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
000a4e   d002     BRA       0xa54          	else { return FALSE;}                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
000a50   0e00     MOVLW     0x0                                                                                             
000a52   d0c0     BRA       0xbd4                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000a54   0ef5     MOVLW     0xf5           		if (cm.extended==TRUE)                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000a56   04db     DECF      0xdb,0x0,0x0                                                                                    
000a58   e15f     BNZ       0xb18                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Write extended ident.                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx 28 27 26 25 24   23 22 21 20 19 18 17 16   15 14 13 12 11 10 09 08   07 06 05 04 03 02 01 00 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 28 27 26 25 24 23 22 21                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 20 19 18 xx xx xx 17 16                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDH 15 14 13 12 11 10 09 08                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0EIDL 07 06 05 04 03 02 01 00                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000a5a   0ef1     MOVLW     0xf1                   	RXB0SIDH =  (BYTE)((cm.ident>>21));                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
000a5c   cfdb     MOVFF     0xfdb,0x0                                                                                       
000a5e   f000                                                                                                               
000a60   0ef2     MOVLW     0xf2                                                                                            
000a62   cfdb     MOVFF     0xfdb,0x1                                                                                       
000a64   f001                                                                                                               
000a66   0ef3     MOVLW     0xf3                                                                                            
000a68   cfdb     MOVFF     0xfdb,0x2                                                                                       
000a6a   f002                                                                                                               
000a6c   0ef4     MOVLW     0xf4                                                                                            
000a6e   cfdb     MOVFF     0xfdb,0x3                                                                                       
000a70   f003                                                                                                               
000a72   0e15     MOVLW     0x15                                                                                            
000a74   90d8     BCF       0xd8,0x0,0x0                                                                                    
000a76   3203     RRCF      0x3,0x1,0x0                                                                                     
000a78   3202     RRCF      0x2,0x1,0x0                                                                                     
000a7a   3201     RRCF      0x1,0x1,0x0                                                                                     
000a7c   3200     RRCF      0x0,0x1,0x0                                                                                     
000a7e   06e8     DECF      0xe8,0x1,0x0                                                                                    
000a80   e1f9     BNZ       0xa74                                                                                           
000a82   5000     MOVF      0x0,0x0,0x0                                                                                     
000a84   6e61     MOVWF     0x61,0x0                                                                                        
000a86   0ef1     MOVLW     0xf1                   	RXB0SIDL = ((BYTE)(cm.ident>>16) & 0x03) + ((BYTE)(cm.ident>>13) & 0xE0); F:\MCP\projects\CAN\canNode\Source\CAN.c
000a88   cfdb     MOVFF     0xfdb,0x5                                                                                       
000a8a   f005                                                                                                               
000a8c   0ef2     MOVLW     0xf2                                                                                            
000a8e   cfdb     MOVFF     0xfdb,0x6                                                                                       
000a90   f006                                                                                                               
000a92   0ef3     MOVLW     0xf3                                                                                            
000a94   cfdb     MOVFF     0xfdb,0x7                                                                                       
000a96   f007                                                                                                               
000a98   0ef4     MOVLW     0xf4                                                                                            
000a9a   cfdb     MOVFF     0xfdb,0x8                                                                                       
000a9c   f008                                                                                                               
000a9e   0e0d     MOVLW     0xd                                                                                             
000aa0   90d8     BCF       0xd8,0x0,0x0                                                                                    
000aa2   3208     RRCF      0x8,0x1,0x0                                                                                     
000aa4   3207     RRCF      0x7,0x1,0x0                                                                                     
000aa6   3206     RRCF      0x6,0x1,0x0                                                                                     
000aa8   3205     RRCF      0x5,0x1,0x0                                                                                     
000aaa   06e8     DECF      0xe8,0x1,0x0                                                                                    
000aac   e1f9     BNZ       0xaa0                                                                                           
000aae   0ee0     MOVLW     0xe0                                                                                            
000ab0   1405     ANDWF     0x5,0x0,0x0                                                                                     
000ab2   6e04     MOVWF     0x4,0x0                                                                                         
000ab4   0ef1     MOVLW     0xf1                                                                                            
000ab6   cfdb     MOVFF     0xfdb,0x0                                                                                       
000ab8   f000                                                                                                               
000aba   0ef2     MOVLW     0xf2                                                                                            
000abc   cfdb     MOVFF     0xfdb,0x1                                                                                       
000abe   f001                                                                                                               
000ac0   0ef3     MOVLW     0xf3                                                                                            
000ac2   cfdb     MOVFF     0xfdb,0x2                                                                                       
000ac4   f002                                                                                                               
000ac6   0ef4     MOVLW     0xf4                                                                                            
000ac8   cfdb     MOVFF     0xfdb,0x3                                                                                       
000aca   f003                                                                                                               
000acc   0e10     MOVLW     0x10                                                                                            
000ace   90d8     BCF       0xd8,0x0,0x0                                                                                    
000ad0   3203     RRCF      0x3,0x1,0x0                                                                                     
000ad2   3202     RRCF      0x2,0x1,0x0                                                                                     
000ad4   3201     RRCF      0x1,0x1,0x0                                                                                     
000ad6   3200     RRCF      0x0,0x1,0x0                                                                                     
000ad8   06e8     DECF      0xe8,0x1,0x0                                                                                    
000ada   e1f9     BNZ       0xace                                                                                           
000adc   0e03     MOVLW     0x3                                                                                             
000ade   1400     ANDWF     0x0,0x0,0x0                                                                                     
000ae0   2404     ADDWF     0x4,0x0,0x0                                                                                     
000ae2   6e62     MOVWF     0x62,0x0                                                                                        
000ae4   0ef1     MOVLW     0xf1                   	RXB0EIDH =  (BYTE)(cm.ident>>8);                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
000ae6   cfdb     MOVFF     0xfdb,0x0                                                                                       
000ae8   f000                                                                                                               
000aea   0ef2     MOVLW     0xf2                                                                                            
000aec   cfdb     MOVFF     0xfdb,0x1                                                                                       
000aee   f001                                                                                                               
000af0   0ef3     MOVLW     0xf3                                                                                            
000af2   cfdb     MOVFF     0xfdb,0x2                                                                                       
000af4   f002                                                                                                               
000af6   0ef4     MOVLW     0xf4                                                                                            
000af8   cfdb     MOVFF     0xfdb,0x3                                                                                       
000afa   f003                                                                                                               
000afc   0e08     MOVLW     0x8                                                                                             
000afe   90d8     BCF       0xd8,0x0,0x0                                                                                    
000b00   3203     RRCF      0x3,0x1,0x0                                                                                     
000b02   3202     RRCF      0x2,0x1,0x0                                                                                     
000b04   3201     RRCF      0x1,0x1,0x0                                                                                     
000b06   3200     RRCF      0x0,0x1,0x0                                                                                     
000b08   06e8     DECF      0xe8,0x1,0x0                                                                                    
000b0a   e1f9     BNZ       0xafe                                                                                           
000b0c   5000     MOVF      0x0,0x0,0x0                                                                                     
000b0e   6e63     MOVWF     0x63,0x0                                                                                        
000b10   0ef1     MOVLW     0xf1                   	RXB0EIDL =  (BYTE)cm.ident;                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
000b12   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b14   6e64     MOVWF     0x64,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
000b16   d02f     BRA       0xb76          		else                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//Write standard ident.                                                       F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		                                                                               F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           			//xx xx xx xx xx 10 09 08   07 06 05 04 03 02 01 00                           F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDH 10 09 08 07 06 05 04 03                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                   	//RXB0SIDL 02 01 00 xx xx xx xx xx                                      F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000b18   0ef1     MOVLW     0xf1                  		RXB0SIDH=  (BYTE)(cm.ident>>3);                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000b1a   cfdb     MOVFF     0xfdb,0x0                                                                                       
000b1c   f000                                                                                                               
000b1e   0ef2     MOVLW     0xf2                                                                                            
000b20   cfdb     MOVFF     0xfdb,0x1                                                                                       
000b22   f001                                                                                                               
000b24   0ef3     MOVLW     0xf3                                                                                            
000b26   cfdb     MOVFF     0xfdb,0x2                                                                                       
000b28   f002                                                                                                               
000b2a   0ef4     MOVLW     0xf4                                                                                            
000b2c   cfdb     MOVFF     0xfdb,0x3                                                                                       
000b2e   f003                                                                                                               
000b30   0e03     MOVLW     0x3                                                                                             
000b32   90d8     BCF       0xd8,0x0,0x0                                                                                    
000b34   3203     RRCF      0x3,0x1,0x0                                                                                     
000b36   3202     RRCF      0x2,0x1,0x0                                                                                     
000b38   3201     RRCF      0x1,0x1,0x0                                                                                     
000b3a   3200     RRCF      0x0,0x1,0x0                                                                                     
000b3c   06e8     DECF      0xe8,0x1,0x0                                                                                    
000b3e   e1f9     BNZ       0xb32                                                                                           
000b40   5000     MOVF      0x0,0x0,0x0                                                                                     
000b42   6e61     MOVWF     0x61,0x0                                                                                        
000b44   0ef1     MOVLW     0xf1                   	RXB0SIDL= ((BYTE)(cm.ident<<5) & 0xE0);                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
000b46   cfdb     MOVFF     0xfdb,0x0                                                                                       
000b48   f000                                                                                                               
000b4a   0ef2     MOVLW     0xf2                                                                                            
000b4c   cfdb     MOVFF     0xfdb,0x1                                                                                       
000b4e   f001                                                                                                               
000b50   0ef3     MOVLW     0xf3                                                                                            
000b52   cfdb     MOVFF     0xfdb,0x2                                                                                       
000b54   f002                                                                                                               
000b56   0ef4     MOVLW     0xf4                                                                                            
000b58   cfdb     MOVFF     0xfdb,0x3                                                                                       
000b5a   f003                                                                                                               
000b5c   0e05     MOVLW     0x5                                                                                             
000b5e   0b1f     ANDLW     0x1f                                                                                            
000b60   e007     BZ        0xb70                                                                                           
000b62   90d8     BCF       0xd8,0x0,0x0                                                                                    
000b64   3600     RLCF      0x0,0x1,0x0                                                                                     
000b66   3601     RLCF      0x1,0x1,0x0                                                                                     
000b68   3602     RLCF      0x2,0x1,0x0                                                                                     
000b6a   3603     RLCF      0x3,0x1,0x0                                                                                     
000b6c   06e8     DECF      0xe8,0x1,0x0                                                                                    
000b6e   e1f9     BNZ       0xb62                                                                                           
000b70   0ee0     MOVLW     0xe0                                                                                            
000b72   1400     ANDWF     0x0,0x0,0x0                                                                                     
000b74   6e62     MOVWF     0x62,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
000b76   0ef6     MOVLW     0xf6           		if (cm.data_length>8) RXB0DLC=8; else RXB0DLC=cm.data_length;                  F:\MCP\projects\CAN\canNode\Source\CAN.c
000b78   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b7a   0808     SUBLW     0x8                                                                                             
000b7c   e203     BC        0xb84                                                                                           
000b7e   0e08     MOVLW     0x8                                                                                             
000b80   6e65     MOVWF     0x65,0x0                                                                                        
000b82   d003     BRA       0xb8a                                                                                           
000b84   0ef6     MOVLW     0xf6                                                                                            
000b86   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b88   6e65     MOVWF     0x65,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
000b8a   0ef7     MOVLW     0xf7           		RXB0D0=cm.data[0];	RXB0D1=cm.data[1];                                          F:\MCP\projects\CAN\canNode\Source\CAN.c
000b8c   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b8e   6e66     MOVWF     0x66,0x0                                                                                        
000b90   0ef8     MOVLW     0xf8                                                                                            
000b92   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b94   6e67     MOVWF     0x67,0x0                                                                                        
000b96   0ef9     MOVLW     0xf9           		RXB0D2=cm.data[2]; 	RXB0D3=cm.data[3];                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000b98   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b9a   6e68     MOVWF     0x68,0x0                                                                                        
000b9c   0efa     MOVLW     0xfa                                                                                            
000b9e   50db     MOVF      0xdb,0x0,0x0                                                                                    
000ba0   6e69     MOVWF     0x69,0x0                                                                                        
000ba2   0efb     MOVLW     0xfb           		RXB0D4=cm.data[4]; 	RXB0D5=cm.data[5];                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000ba4   50db     MOVF      0xdb,0x0,0x0                                                                                    
000ba6   6e6a     MOVWF     0x6a,0x0                                                                                        
000ba8   0efc     MOVLW     0xfc                                                                                            
000baa   50db     MOVF      0xdb,0x0,0x0                                                                                    
000bac   6e6b     MOVWF     0x6b,0x0                                                                                        
000bae   0efd     MOVLW     0xfd           		RXB0D6=cm.data[6]; 	RXB0D7=cm.data[7];                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000bb0   50db     MOVF      0xdb,0x0,0x0                                                                                    
000bb2   6e6c     MOVWF     0x6c,0x0                                                                                        
000bb4   0efe     MOVLW     0xfe                                                                                            
000bb6   50db     MOVF      0xdb,0x0,0x0                                                                                    
000bb8   6e6d     MOVWF     0x6d,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// set extended or not                                                         F:\MCP\projects\CAN\canNode\Source\CAN.c
000bba   0ef5     MOVLW     0xf5           		RXB0SIDLbits.EXID=(cm.extended==TRUE?1:0);                                     F:\MCP\projects\CAN\canNode\Source\CAN.c
000bbc   04db     DECF      0xdb,0x0,0x0                                                                                    
000bbe   e102     BNZ       0xbc4                                                                                           
000bc0   0e01     MOVLW     0x1                                                                                             
000bc2   d001     BRA       0xbc6                                                                                           
000bc4   0e00     MOVLW     0x0                                                                                             
000bc6   b0e8     BTFSC     0xe8,0x0,0x0                                                                                    
000bc8   8662     BSF       0x62,0x3,0x0                                                                                    
000bca   a0e8     BTFSS     0xe8,0x0,0x0                                                                                    
000bcc   9662     BCF       0x62,0x3,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		// mark as redy to transmit                                                    F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		_asm                                                                           F:\MCP\projects\CAN\canNode\Source\CAN.c
000bce   8660     BSF       0x60,0x3,0x0   			bsf RXB0CON, 3, 0                                                             F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           		_endasm                                                                        F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000bd0   0e01     MOVLW     0x1            		return TRUE;                                                                   F:\MCP\projects\CAN\canNode\Source\CAN.c
000bd2   d000     BRA       0xbd4                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
000bd4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\CAN.c
000bd6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000bd8   ffd9                                                                                                               
000bda   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           #endif //USE_CAN                                                                 F:\MCP\projects\CAN\canNode\Source\CAN.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\uart.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                            *                  UART                                                         F:\MCP\projects\CAN\canNode\Source\uart.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\uart.c
                                            * FileName:        uart.c                                                       F:\MCP\projects\CAN\canNode\Source\uart.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\uart.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\uart.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\uart.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           #include "../Include/stackTasks.h"                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           #include "../Include/uart.h"                                                     F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           #ifdef USE_UART                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           static char uartBusy(void);                                                      F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Function: uartInit                                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           void uartInit()                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           		// Configure USART                                                             F:\MCP\projects\CAN\canNode\Source\uart.c
000bdc   8e94     BSF       0x94,0x7,0x0   		TRISCbits.TRISC7=1;                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
000bde   9c94     BCF       0x94,0x6,0x0   		TRISCbits.TRISC6=0;                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
000be0   0e20     MOVLW     0x20           		TXSTA=0b00100000; // Low BRG speed                                             F:\MCP\projects\CAN\canNode\Source\uart.c
000be2   6eac     MOVWF     0xac,0x0                                                                                        
000be4   0e90     MOVLW     0x90           		RCSTA=0b10010000;                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
000be6   6eab     MOVWF     0xab,0x0                                                                                        
000be8   0e1f     MOVLW     0x1f           		SPBRG = SPBRG_VAL;                                                             F:\MCP\projects\CAN\canNode\Source\uart.c
000bea   6eaf     MOVWF     0xaf,0x0                                                                                        
                                           		// USART RX interrupt                                                          F:\MCP\projects\CAN\canNode\Source\uart.c
000bec   9a9e     BCF       0x9e,0x5,0x0   		PIR1bits.RCIF=0;                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000bee   8a9d     BSF       0x9d,0x5,0x0   		PIE1bits.RCIE=1;                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           		// High interrupt                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
000bf0   8a9f     BSF       0x9f,0x5,0x0   		IPR1bits.RCIP=1;                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000bf2   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Function: uartPutc                                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Input:	BYTE c to send on uart                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Pre-conditions: call to uartInit()                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000bf4   cfd9     MOVFF     0xfd9,0xfe6    void uartPutc(BYTE c)                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
000bf6   ffe6                                                                                                               
000bf8   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000bfa   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           	// Write the data byte to the USART                                             F:\MCP\projects\CAN\canNode\Source\uart.c
000bfc   0efe     MOVLW     0xfe           	TXREG = c;                                                                      F:\MCP\projects\CAN\canNode\Source\uart.c
000bfe   50db     MOVF      0xdb,0x0,0x0                                                                                    
000c00   6ead     MOVWF     0xad,0x0                                                                                        
000c02   d848     RCALL     0xc94          	while(uartBusy());                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
000c04   0900     IORLW     0x0                                                                                             
000c06   e1fd     BNZ       0xc02                                                                                           
000c08   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
000c0a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000c0c   ffd9                                                                                                               
000c0e   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Function: uartPuts                                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Input:	Byte array to send on uart                                              F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Pre-conditions: call to uartInit()                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000c10   cfd9     MOVFF     0xfd9,0xfe6    void uartPuts(BYTE c[])                                                          F:\MCP\projects\CAN\canNode\Source\uart.c
000c12   ffe6                                                                                                               
000c14   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000c16   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           	do                                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
                                             	{  // Transmit a byte                                                         F:\MCP\projects\CAN\canNode\Source\uart.c
000c18   d83d     RCALL     0xc94              	while(uartBusy());                                                          F:\MCP\projects\CAN\canNode\Source\uart.c
000c1a   0900     IORLW     0x0                                                                                             
000c1c   e1fd     BNZ       0xc18                                                                                           
000c1e   0efd     MOVLW     0xfd               	uartPutc(*c);                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000c20   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000c22   ffe9                                                                                                               
000c24   0efe     MOVLW     0xfe                                                                                            
000c26   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000c28   ffea                                                                                                               
000c2a   50ef     MOVF      0xef,0x0,0x0                                                                                    
000c2c   6ee6     MOVWF     0xe6,0x0                                                                                        
000c2e   dfe2     RCALL     0xbf4                                                                                           
000c30   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000c32   0efd     MOVLW     0xfd             	} while( *c++ );                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
000c34   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000c36   ffe9                                                                                                               
000c38   2adb     INCF      0xdb,0x1,0x0                                                                                    
000c3a   0efe     MOVLW     0xfe                                                                                            
000c3c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000c3e   ffea                                                                                                               
000c40   e301     BNC       0xc44                                                                                           
000c42   2adb     INCF      0xdb,0x1,0x0                                                                                    
000c44   50ef     MOVF      0xef,0x0,0x0                                                                                    
000c46   e1e8     BNZ       0xc18                                                                                           
000c48   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
000c4a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000c4c   ffd9                                                                                                               
000c4e   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Function: uartPutrs                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Input:	Byte array to send on uart (static)                                     F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Pre-conditions: call to uartInit()                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000c50   cfd9     MOVFF     0xfd9,0xfe6    void uartPutrs(const rom char *c)                                                F:\MCP\projects\CAN\canNode\Source\uart.c
000c52   ffe6                                                                                                               
000c54   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000c56   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           	do                                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
                                             	{  // Transmit a byte                                                         F:\MCP\projects\CAN\canNode\Source\uart.c
000c58   d81d     RCALL     0xc94              	while(uartBusy());                                                          F:\MCP\projects\CAN\canNode\Source\uart.c
000c5a   0900     IORLW     0x0                                                                                             
000c5c   e1fd     BNZ       0xc58                                                                                           
000c5e   0efd     MOVLW     0xfd               	uartPutc(*c);                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000c60   cfdb     MOVFF     0xfdb,0xff6                                                                                     
000c62   fff6                                                                                                               
000c64   0efe     MOVLW     0xfe                                                                                            
000c66   cfdb     MOVFF     0xfdb,0xff7                                                                                     
000c68   fff7                                                                                                               
000c6a   0008     TBLRD                                                                                                     
000c6c   50f5     MOVF      0xf5,0x0,0x0                                                                                    
000c6e   6ee6     MOVWF     0xe6,0x0                                                                                        
000c70   dfc1     RCALL     0xbf4                                                                                           
000c72   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000c74   0efd     MOVLW     0xfd             	} while( *c++ );                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
000c76   cfdb     MOVFF     0xfdb,0xff6                                                                                     
000c78   fff6                                                                                                               
000c7a   2adb     INCF      0xdb,0x1,0x0                                                                                    
000c7c   0efe     MOVLW     0xfe                                                                                            
000c7e   cfdb     MOVFF     0xfdb,0xff7                                                                                     
000c80   fff7                                                                                                               
000c82   e301     BNC       0xc86                                                                                           
000c84   2adb     INCF      0xdb,0x1,0x0                                                                                    
000c86   0008     TBLRD                                                                                                     
000c88   50f5     MOVF      0xf5,0x0,0x0                                                                                    
000c8a   e1e6     BNZ       0xc58                                                                                           
000c8c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
000c8e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000c90   ffd9                                                                                                               
000c92   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Function: uartBusy                                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Input:	none.                                                                   F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Output: If usart busy or not.                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Pre-conditions: call to uartInit()                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           char uartBusy(void)                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
000c94   50ac     MOVF      0xac,0x0,0x0   	return !TXSTAbits.TRMT;                                                         F:\MCP\projects\CAN\canNode\Source\uart.c
000c96   0b02     ANDLW     0x2                                                                                             
000c98   0a02     XORLW     0x2                                                                                             
000c9a   e001     BZ        0xc9e                                                                                           
000c9c   0e01     MOVLW     0x1                                                                                             
000c9e   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Function: uartGet                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Output: Byte read                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Pre-conditions: call to uartInit()                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\uart.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           BYTE uartGet(void)                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           	// Return the received data                                                     F:\MCP\projects\CAN\canNode\Source\uart.c
000ca0   50ae     MOVF      0xae,0x0,0x0   	return RCREG;	                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
000ca2   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Function: uartISR                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Pre-conditions: call to uartInit()                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Affects: call to uartParse                                                     F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canNode\Source\uart.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           void uartISR(void)                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
000ca4   509e     MOVF      0x9e,0x0,0x0   	if (PIR1bits.RCIF==1 && PIE1bits.RCIE==1)                                       F:\MCP\projects\CAN\canNode\Source\uart.c
000ca6   0b20     ANDLW     0x20                                                                                            
000ca8   e009     BZ        0xcbc                                                                                           
000caa   509d     MOVF      0x9d,0x0,0x0                                                                                    
000cac   0b20     ANDLW     0x20                                                                                            
000cae   e006     BZ        0xcbc                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000cb0   dff7     RCALL     0xca0          		uartParse(uartGet());                                                          F:\MCP\projects\CAN\canNode\Source\uart.c
000cb2   6ee6     MOVWF     0xe6,0x0                                                                                        
000cb4   ec9c     CALL      0x338,0x0                                                                                       
000cb6   f001                                                                                                               
000cb8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000cba   9a9e     BCF       0x9e,0x5,0x0   		PIR1bits.RCIF=0;                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000cbc   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Function: uartDataRedy                                                         F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Input:	none.                                                                   F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Output: If usart data are redy to be read.                                     F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Pre-conditions: call to uartInit()                                             F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\uart.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
                                           char uartDataRedy(void)                                                          F:\MCP\projects\CAN\canNode\Source\uart.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
000cbe   a2ab     BTFSS     0xab,0x1,0x0   	if(RCSTAbits.OERR)                                                              F:\MCP\projects\CAN\canNode\Source\uart.c
000cc0   d002     BRA       0xcc6                                                                                           
                                           	{                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000cc2   98ab     BCF       0xab,0x4,0x0   		RCSTAbits.CREN = 0;                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
000cc4   88ab     BSF       0xab,0x4,0x0   		RCSTAbits.CREN = 1;                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           	}                                                                               F:\MCP\projects\CAN\canNode\Source\uart.c
000cc6   509e     MOVF      0x9e,0x0,0x0     return PIR1bits.RCIF;                                                          F:\MCP\projects\CAN\canNode\Source\uart.c
000cc8   0b20     ANDLW     0x20                                                                                            
000cca   e001     BZ        0xcce                                                                                           
000ccc   0e01     MOVLW     0x1                                                                                             
000cce   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\uart.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\uart.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\uart.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                  Ticker service                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *********************************************************************           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            * FileName:        Tick.c                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canNode\Source\Tick.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_INCLUDE                                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #include "..\Include\Tick.h"                                                     F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #include "..\Include\Compiler.h"                                                 F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_TEMP_VALUE_1 ((INSTR_FREQ) / (TICKS_PER_SECOND * TICK_PRESCALE_VALUE)) F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #if TICK_TEMP_VALUE_1 > 60000                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #error TICK_PER_SECOND value cannot be programmed with current CLOCK_FREQ        F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #error Either lower TICK_PER_SECOND or manually configure the Timer              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_TEMP_VALUE         (65535 - TICK_TEMP_VALUE_1)                      F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_COUNTER_HIGH       ((TICK_TEMP_VALUE >> 8) & 0xff)                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define TICK_COUNTER_LOW        (TICK_TEMP_VALUE & 0xff)                         F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #if (TICK_PRESCALE_VALUE == 2)                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (0)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 4 )                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (1)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 8 )                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (2)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 16 )                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (3)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 32 )                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (4)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 64 )                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (5)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 128 )                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (6)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 256 )                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #define TIMER_PRESCALE  (7)                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #else                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               #error Invalid TICK_PRESCALE_VALUE specified.                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           TICK TickCount = 0;	// 10ms/unit                                                 F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Function: TickInit                                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Output: Tick manager is initialized.                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           #define PERIOD (INSTR_FREQ/256/1000)*TICK_PERIOD_MS                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           void tickInit(void)                                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canNode\Source\Tick.c
000d6e   0e79     MOVLW     0x79               TMR0L = TICK_COUNTER_LOW;                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
000d70   6ed6     MOVWF     0xd6,0x0                                                                                        
000d72   0efe     MOVLW     0xfe               TMR0H = TICK_COUNTER_HIGH;                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
000d74   6ed7     MOVWF     0xd7,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               // 16-BIT, internal timer, PSA set to 1:256                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
000d76   0e07     MOVLW     0x7                T0CON = 0b00000000 | TIMER_PRESCALE;                                         F:\MCP\projects\CAN\canNode\Source\Tick.c
000d78   6ed5     MOVWF     0xd5,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canNode\Source\Tick.c
000d7a   8ed5     BSF       0xd5,0x7,0x0       T0CONbits.TMR0ON = 1;                                                        F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000d7c   84f2     BSF       0xf2,0x2,0x0       INTCONbits.TMR0IF = 1;                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
000d7e   8af2     BSF       0xf2,0x5,0x0       INTCONbits.TMR0IE = 1;                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
000d80   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Function: TickGet                                                              F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Output: Current tick value is given, 1 tick represents approximately 10ms      F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           TICK tickGet(void)                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
000d82   c075     MOVFF     0x75,0x18          return TickCount;                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000d84   f018                                                                                                               
000d86   c076     MOVFF     0x76,0x19                                                                                       
000d88   f019                                                                                                               
000d8a   c077     MOVFF     0x77,0x1a                                                                                       
000d8c   f01a                                                                                                               
000d8e   c078     MOVFF     0x78,0x1b                                                                                       
000d90   f01b                                                                                                               
000d92   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Function: tickUpdate                                                           F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           void tickUpdate(void)                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
000d94   a4f2     BTFSS     0xf2,0x2,0x0       if(INTCONbits.TMR0IF)                                                        F:\MCP\projects\CAN\canNode\Source\Tick.c
000d96   d00b     BRA       0xdae                                                                                           
                                               {                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000d98   0efe     MOVLW     0xfe                   TMR0H = TICK_COUNTER_HIGH;                                               F:\MCP\projects\CAN\canNode\Source\Tick.c
000d9a   6ed7     MOVWF     0xd7,0x0                                                                                        
000d9c   0e79     MOVLW     0x79                   TMR0L = TICK_COUNTER_LOW;                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
000d9e   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000da0   0100     MOVLB     0x0                    TickCount++;                                                             F:\MCP\projects\CAN\canNode\Source\Tick.c
000da2   2b75     INCF      0x75,0x1,0x1                                                                                    
000da4   0e00     MOVLW     0x0                                                                                             
000da6   2376     ADDWFC    0x76,0x1,0x1                                                                                    
000da8   2377     ADDWFC    0x77,0x1,0x1                                                                                    
000daa   2378     ADDWFC    0x78,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000dac   94f2     BCF       0xf2,0x2,0x0           INTCONbits.TMR0IF = 0;                                                   F:\MCP\projects\CAN\canNode\Source\Tick.c
                                               }                                                                            F:\MCP\projects\CAN\canNode\Source\Tick.c
000dae   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canNode\Source\Tick.c
