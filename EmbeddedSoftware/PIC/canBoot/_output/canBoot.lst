MP2COD 4.02, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Tue Nov 14 12:48:21 2006


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /*********************************************************************           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                            *                  Main application                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                            *********************************************************************           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                            * FileName:        $HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/canBoot/Source/Main.c $ F:\MCP\projects\CAN\canBoot\Source\Main.c
                                            * Last changed:	$LastChangedDate: 2006-11-14 11:44:27 +0100 (ti, 14 nov 2006) $ F:\MCP\projects\CAN\canBoot\Source\Main.c
                                            * By:				$LastChangedBy: johboh $                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                            * Revision:		$Revision: 88 $                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #include <compiler.h>                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #include <CANdefs.h>                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #include <boot.h>                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #include <funcdefs.h>                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           /** V E C T O R  R E M A P P I N G *******************************************/  F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #pragma code _HIGH_INTERRUPT_VECTOR = 0x000008                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void _high_ISR (void)                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
000008   ef04     GOTO      0x1008             _asm goto RM_HIGH_INTERRUPT_VECTOR _endasm                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
00000a   f008                                                                                                               
00000c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #pragma code _LOW_INTERRUPT_VECTOR = 0x000018                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void _low_ISR (void)                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
000018   ef0c     GOTO      0x1018             _asm goto RM_LOW_INTERRUPT_VECTOR _endasm                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
00001a   f008                                                                                                               
00001c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	#include <CAN.h>                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           static CAN_PROTO_MESSAGE cm;                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           static BYTE ful=0;                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           static DWORD cnt =0;                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           static void mainInit(void);                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           static BOOL canGetPacket(void);                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void TBLWT_Func(void);                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void TBLWTPOSTINC_Func (void);                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void TBLRD_Func(void);                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #define TICK_SUB_COUNTER_10MS 312                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #define PACKET_TIMEOUT 14                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #define BOOTLOADER_INIT_TIMOUT 500                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           DWORD tickCounter = 0;                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           DWORD tickSubCounter = 0;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           DWORD tickGet(void);                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000038   cfd9     MOVFF     0xfd9,0xfe6    void main()                                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
00003a   ffe6                                                                                                               
00003c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00003e   ffd9                                                                                                               
000040   0e17     MOVLW     0x17                                                                                            
000042   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	static PROGRAM_STATE pgs = pgsWATING_START;                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	static DWORD t = 0;                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	static WORD programmerSid=0;                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	static BYTE errMsg = ERR_NO_ERROR;                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	static PROGRAM_STATE afterAckPgs = pgsWATING_START;                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	static DWORD pgmAddress = 0;                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	static BYTE bytesReceived = 0;                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	DWORD tBoot;                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	static BYTE pgmData[64];                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	static BYTE tmp;                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Inits                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
000044   db9a     RCALL     0x77a          	mainInit();                                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	#ifdef USE_CAN                                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
000046   db9f     RCALL     0x786          		canInit();                                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	#endif                                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000048   ec7b     CALL      0xaf6,0x0      	tBoot = tickGet();                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
00004a   f005                                                                                                               
00004c   c010     MOVFF     0x10,0xfde                                                                                      
00004e   ffde                                                                                                               
000050   c011     MOVFF     0x11,0xfde                                                                                      
000052   ffde                                                                                                               
000054   c012     MOVFF     0x12,0xfde                                                                                      
000056   ffde                                                                                                               
000058   c013     MOVFF     0x13,0xfdd                                                                                      
00005a   ffdd                                                                                                               
00005c   52dd     MOVF      0xdd,0x1,0x0                                                                                    
00005e   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000764   d47d     BRA       0x60           	for(;;)                                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	{                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		BYTE i;                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		CAN_PROTO_MESSAGE outCm;                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
000060   dbbb     RCALL     0x7d8          		BOOL hasPacket = canGetPacket();                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
000062   6ee7     MOVWF     0xe7,0x0                                                                                        
000064   0e14     MOVLW     0x14                                                                                            
000066   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
000068   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
00006a   0100     MOVLB     0x0            		tickSubCounter++;                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
00006c   2bb9     INCF      0xb9,0x1,0x1                                                                                    
00006e   0e00     MOVLW     0x0                                                                                             
000070   23ba     ADDWFC    0xba,0x1,0x1                                                                                    
000072   23bb     ADDWFC    0xbb,0x1,0x1                                                                                    
000074   23bc     ADDWFC    0xbc,0x1,0x1                                                                                    
000076   80d8     BSF       0xd8,0x0,0x0   		if (tickSubCounter>TICK_SUB_COUNTER_10MS)                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
000078   0e38     MOVLW     0x38                                                                                            
00007a   0100     MOVLB     0x0                                                                                             
00007c   55b9     SUBFWB    0xb9,0x0,0x1                                                                                    
00007e   0e01     MOVLW     0x1                                                                                             
000080   55ba     SUBFWB    0xba,0x0,0x1                                                                                    
000082   0e00     MOVLW     0x0                                                                                             
000084   55bb     SUBFWB    0xbb,0x0,0x1                                                                                    
000086   0e00     MOVLW     0x0                                                                                             
000088   55bc     SUBFWB    0xbc,0x0,0x1                                                                                    
00008a   e20c     BC        0xa4                                                                                            
                                           		{                                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
00008c   0100     MOVLB     0x0            			tickCounter++;                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
00008e   2bb5     INCF      0xb5,0x1,0x1                                                                                    
000090   0e00     MOVLW     0x0                                                                                             
000092   23b6     ADDWFC    0xb6,0x1,0x1                                                                                    
000094   23b7     ADDWFC    0xb7,0x1,0x1                                                                                    
000096   23b8     ADDWFC    0xb8,0x1,0x1                                                                                    
000098   0100     MOVLB     0x0            			tickSubCounter=0;                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
00009a   6bb9     CLRF      0xb9,0x1                                                                                        
00009c   6bba     CLRF      0xba,0x1                                                                                        
00009e   6bbb     CLRF      0xbb,0x1                                                                                        
0000a0   6bbc     CLRF      0xbc,0x1                                                                                        
0000a2   0004     CLRWDT                   			ClrWdt();                                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0000a4   0100     MOVLB     0x0            		switch(pgs)                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
0000a6   51bd     MOVF      0xbd,0x0,0x1                                                                                    
0000a8   0a05     XORLW     0x5                                                                                             
0000aa   e101     BNZ       0xae                                                                                            
0000ac   d355     BRA       0x758                                                                                           
0000ae   0a01     XORLW     0x1                                                                                             
0000b0   e101     BNZ       0xb4                                                                                            
0000b2   d2a3     BRA       0x5fa                                                                                           
0000b4   0a07     XORLW     0x7                                                                                             
0000b6   e101     BNZ       0xba                                                                                            
0000b8   d1b7     BRA       0x428                                                                                           
0000ba   0a01     XORLW     0x1                                                                                             
0000bc   e101     BNZ       0xc0                                                                                            
0000be   d10c     BRA       0x2d8                                                                                           
0000c0   0a03     XORLW     0x3                                                                                             
0000c2   e101     BNZ       0xc6                                                                                            
0000c4   d0b5     BRA       0x230                                                                                           
0000c6   0a01     XORLW     0x1                                                                                             
0000c8   e001     BZ        0xcc                                                                                            
0000ca   d349     BRA       0x75e                                                                                           
                                           		{                                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           			case pgsWATING_START:                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// Check if there is bootloader start packet                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
0000cc   0e14     MOVLW     0x14           				if (hasPacket==TRUE && cm.funct==FUNCT_BOOTLOADER && cm.funcc==FUNCC_BOOT_INIT && ((((unsigned int)cm.data[RID_HIGH_INDEX])<<8)+cm.data[RID_LOW_INDEX])==MY_ID && cm.nid==MY_NID) F:\MCP\projects\CAN\canBoot\Source\Main.c
0000ce   04db     DECF      0xdb,0x0,0x0                                                                                    
0000d0   e16f     BNZ       0x1b0                                                                                           
0000d2   0100     MOVLB     0x0                                                                                             
0000d4   5160     MOVF      0x60,0x0,0x1                                                                                    
0000d6   e16c     BNZ       0x1b0                                                                                           
0000d8   0100     MOVLB     0x0                                                                                             
0000da   0e01     MOVLW     0x1                                                                                             
0000dc   1961     XORWF     0x61,0x0,0x1                                                                                    
0000de   e101     BNZ       0xe2                                                                                            
0000e0   5162     MOVF      0x62,0x0,0x1                                                                                    
0000e2   e166     BNZ       0x1b0                                                                                           
0000e4   c06c     MOVFF     0x6c,0x2                                                                                        
0000e6   f002                                                                                                               
0000e8   c002     MOVFF     0x2,0x3                                                                                         
0000ea   f003                                                                                                               
0000ec   6a02     CLRF      0x2,0x0                                                                                         
0000ee   0100     MOVLB     0x0                                                                                             
0000f0   516b     MOVF      0x6b,0x0,0x1                                                                                    
0000f2   0100     MOVLB     0x0                                                                                             
0000f4   2402     ADDWF     0x2,0x0,0x0                                                                                     
0000f6   6e00     MOVWF     0x0,0x0                                                                                         
0000f8   0e00     MOVLW     0x0                                                                                             
0000fa   2003     ADDWFC    0x3,0x0,0x0                                                                                     
0000fc   6e01     MOVWF     0x1,0x0                                                                                         
0000fe   0e78     MOVLW     0x78                                                                                            
000100   1800     XORWF     0x0,0x0,0x0                                                                                     
000102   e101     BNZ       0x106                                                                                           
000104   5001     MOVF      0x1,0x0,0x0                                                                                     
000106   e154     BNZ       0x1b0                                                                                           
000108   0100     MOVLB     0x0                                                                                             
00010a   5163     MOVF      0x63,0x0,0x1                                                                                    
00010c   e151     BNZ       0x1b0                                                                                           
                                           				{                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					// Has new start packet                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
00010e   c069     MOVFF     0x69,0x0       					pgmAddress 		= (((DWORD)cm.data[ADDRU_INDEX])<<16)+(((DWORD)cm.data[ADDRH_INDEX])<<8)+((DWORD)cm.data[ADDRL_INDEX]); F:\MCP\projects\CAN\canBoot\Source\Main.c
000110   f000                                                                                                               
000112   6a01     CLRF      0x1,0x0                                                                                         
000114   6a02     CLRF      0x2,0x0                                                                                         
000116   6a03     CLRF      0x3,0x0                                                                                         
000118   0e10     MOVLW     0x10                                                                                            
00011a   0b1f     ANDLW     0x1f                                                                                            
00011c   e007     BZ        0x12c                                                                                           
00011e   90d8     BCF       0xd8,0x0,0x0                                                                                    
000120   3600     RLCF      0x0,0x1,0x0                                                                                     
000122   3601     RLCF      0x1,0x1,0x0                                                                                     
000124   3602     RLCF      0x2,0x1,0x0                                                                                     
000126   3603     RLCF      0x3,0x1,0x0                                                                                     
000128   06e8     DECF      0xe8,0x1,0x0                                                                                    
00012a   e1f9     BNZ       0x11e                                                                                           
00012c   c068     MOVFF     0x68,0x4                                                                                        
00012e   f004                                                                                                               
000130   6a05     CLRF      0x5,0x0                                                                                         
000132   6a06     CLRF      0x6,0x0                                                                                         
000134   6a07     CLRF      0x7,0x0                                                                                         
000136   0e08     MOVLW     0x8                                                                                             
000138   0b1f     ANDLW     0x1f                                                                                            
00013a   e007     BZ        0x14a                                                                                           
00013c   90d8     BCF       0xd8,0x0,0x0                                                                                    
00013e   3604     RLCF      0x4,0x1,0x0                                                                                     
000140   3605     RLCF      0x5,0x1,0x0                                                                                     
000142   3606     RLCF      0x6,0x1,0x0                                                                                     
000144   3607     RLCF      0x7,0x1,0x0                                                                                     
000146   06e8     DECF      0xe8,0x1,0x0                                                                                    
000148   e1f9     BNZ       0x13c                                                                                           
00014a   5004     MOVF      0x4,0x0,0x0                                                                                     
00014c   2600     ADDWF     0x0,0x1,0x0                                                                                     
00014e   5005     MOVF      0x5,0x0,0x0                                                                                     
000150   2201     ADDWFC    0x1,0x1,0x0                                                                                     
000152   5006     MOVF      0x6,0x0,0x0                                                                                     
000154   2202     ADDWFC    0x2,0x1,0x0                                                                                     
000156   5007     MOVF      0x7,0x0,0x0                                                                                     
000158   2203     ADDWFC    0x3,0x1,0x0                                                                                     
00015a   c067     MOVFF     0x67,0x8                                                                                        
00015c   f008                                                                                                               
00015e   6a09     CLRF      0x9,0x0                                                                                         
000160   6a0a     CLRF      0xa,0x0                                                                                         
000162   6a0b     CLRF      0xb,0x0                                                                                         
000164   5000     MOVF      0x0,0x0,0x0                                                                                     
000166   2408     ADDWF     0x8,0x0,0x0                                                                                     
000168   0100     MOVLB     0x0                                                                                             
00016a   6fc6     MOVWF     0xc6,0x1                                                                                        
00016c   5001     MOVF      0x1,0x0,0x0                                                                                     
00016e   2009     ADDWFC    0x9,0x0,0x0                                                                                     
000170   0100     MOVLB     0x0                                                                                             
000172   6fc7     MOVWF     0xc7,0x1                                                                                        
000174   5002     MOVF      0x2,0x0,0x0                                                                                     
000176   200a     ADDWFC    0xa,0x0,0x0                                                                                     
000178   0100     MOVLB     0x0                                                                                             
00017a   6fc8     MOVWF     0xc8,0x1                                                                                        
00017c   5003     MOVF      0x3,0x0,0x0                                                                                     
00017e   200b     ADDWFC    0xb,0x0,0x0                                                                                     
000180   0100     MOVLB     0x0                                                                                             
000182   6fc9     MOVWF     0xc9,0x1                                                                                        
000184   c064     MOVFF     0x64,0xc2      					programmerSid 	= cm.sid;                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
000186   f0c2                                                                                                               
000188   c065     MOVFF     0x65,0xc3                                                                                       
00018a   f0c3                                                                                                               
00018c   ec7b     CALL      0xaf6,0x0      					t 				= tickGet();                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
00018e   f005                                                                                                               
000190   c010     MOVFF     0x10,0xbe                                                                                       
000192   f0be                                                                                                               
000194   c011     MOVFF     0x11,0xbf                                                                                       
000196   f0bf                                                                                                               
000198   c012     MOVFF     0x12,0xc0                                                                                       
00019a   f0c0                                                                                                               
00019c   c013     MOVFF     0x13,0xc1                                                                                       
00019e   f0c1                                                                                                               
0001a0   0100     MOVLB     0x0            					errMsg			= ERR_NO_ERROR;                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
0001a2   6bc4     CLRF      0xc4,0x1                                                                                        
0001a4   0100     MOVLB     0x0            					afterAckPgs		= pgsWAIT_FIRST_PGM_PACKET;                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
0001a6   0e02     MOVLW     0x2                                                                                             
0001a8   6fc5     MOVWF     0xc5,0x1                                                                                        
0001aa   0100     MOVLB     0x0            					pgs 			= pgsSEND_ACK;                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
0001ac   0e01     MOVLW     0x1                                                                                             
0001ae   6fbd     MOVWF     0xbd,0x1                                                                                        
                                           					// save pgm adress.                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// Bootloader timeout                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
0001b0   cfd9     MOVFF     0xfd9,0xfe9    				if ((tickGet()-tBoot)>BOOTLOADER_INIT_TIMOUT)                                F:\MCP\projects\CAN\canBoot\Source\Main.c
0001b2   ffe9                                                                                                               
0001b4   cfda     MOVFF     0xfda,0xfea                                                                                     
0001b6   ffea                                                                                                               
0001b8   cfee     MOVFF     0xfee,0x4                                                                                       
0001ba   f004                                                                                                               
0001bc   cfee     MOVFF     0xfee,0x5                                                                                       
0001be   f005                                                                                                               
0001c0   cfee     MOVFF     0xfee,0x6                                                                                       
0001c2   f006                                                                                                               
0001c4   cfef     MOVFF     0xfef,0x7                                                                                       
0001c6   f007                                                                                                               
0001c8   c004     MOVFF     0x4,0xfe6                                                                                       
0001ca   ffe6                                                                                                               
0001cc   c005     MOVFF     0x5,0xfe6                                                                                       
0001ce   ffe6                                                                                                               
0001d0   c006     MOVFF     0x6,0xfe6                                                                                       
0001d2   ffe6                                                                                                               
0001d4   c007     MOVFF     0x7,0xfe6                                                                                       
0001d6   ffe6                                                                                                               
0001d8   ec7b     CALL      0xaf6,0x0                                                                                       
0001da   f005                                                                                                               
0001dc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0001de   cfe7     MOVFF     0xfe7,0x7                                                                                       
0001e0   f007                                                                                                               
0001e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0001e4   cfe7     MOVFF     0xfe7,0x6                                                                                       
0001e6   f006                                                                                                               
0001e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0001ea   cfe7     MOVFF     0xfe7,0x5                                                                                       
0001ec   f005                                                                                                               
0001ee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0001f0   cfe7     MOVFF     0xfe7,0x4                                                                                       
0001f2   f004                                                                                                               
0001f4   0100     MOVLB     0x0                                                                                             
0001f6   5004     MOVF      0x4,0x0,0x0                                                                                     
0001f8   5c10     SUBWF     0x10,0x0,0x0                                                                                    
0001fa   6e00     MOVWF     0x0,0x0                                                                                         
0001fc   0100     MOVLB     0x0                                                                                             
0001fe   5005     MOVF      0x5,0x0,0x0                                                                                     
000200   5811     SUBWFB    0x11,0x0,0x0                                                                                    
000202   6e01     MOVWF     0x1,0x0                                                                                         
000204   0100     MOVLB     0x0                                                                                             
000206   5006     MOVF      0x6,0x0,0x0                                                                                     
000208   5812     SUBWFB    0x12,0x0,0x0                                                                                    
00020a   6e02     MOVWF     0x2,0x0                                                                                         
00020c   0100     MOVLB     0x0                                                                                             
00020e   5007     MOVF      0x7,0x0,0x0                                                                                     
000210   5813     SUBWFB    0x13,0x0,0x0                                                                                    
000212   6e03     MOVWF     0x3,0x0                                                                                         
000214   80d8     BSF       0xd8,0x0,0x0                                                                                    
000216   0ef4     MOVLW     0xf4                                                                                            
000218   5400     SUBFWB    0x0,0x0,0x0                                                                                     
00021a   0e01     MOVLW     0x1                                                                                             
00021c   5401     SUBFWB    0x1,0x0,0x0                                                                                     
00021e   0e00     MOVLW     0x0                                                                                             
000220   5402     SUBFWB    0x2,0x0,0x0                                                                                     
000222   0e00     MOVLW     0x0                                                                                             
000224   5403     SUBFWB    0x3,0x0,0x0                                                                                     
000226   e203     BC        0x22e                                                                                           
                                           				{                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000228   0100     MOVLB     0x0            					pgs = pgsDONE;                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
00022a   0e05     MOVLW     0x5                                                                                             
00022c   6fbd     MOVWF     0xbd,0x1                                                                                        
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
00022e   d29a     BRA       0x764          			break;			                                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           			case pgsSEND_ACK:                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// send ack                                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
000230   0e05     MOVLW     0x5            				outCm.funct 			= FUNCT_BOOTLOADER;                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
000232   6adb     CLRF      0xdb,0x0                                                                                        
000234   0e04     MOVLW     0x4            				outCm.funcc 			= FUNCC_BOOT_ACK;                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
000236   6ef3     MOVWF     0xf3,0x0                                                                                        
000238   0e06     MOVLW     0x6                                                                                             
00023a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00023c   ffdb                                                                                                               
00023e   0e07     MOVLW     0x7                                                                                             
000240   6adb     CLRF      0xdb,0x0                                                                                        
000242   0e08     MOVLW     0x8            				outCm.nid   			= MY_NID;                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
000244   6adb     CLRF      0xdb,0x0                                                                                        
000246   0e78     MOVLW     0x78           				outCm.sid   			= MY_ID;                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
000248   6ef3     MOVWF     0xf3,0x0                                                                                        
00024a   0e09     MOVLW     0x9                                                                                             
00024c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00024e   ffdb                                                                                                               
000250   0e0a     MOVLW     0xa                                                                                             
000252   6adb     CLRF      0xdb,0x0                                                                                        
000254   0e08     MOVLW     0x8            				outCm.data_length 		= 8;                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
000256   6ef3     MOVWF     0xf3,0x0                                                                                        
000258   0e0b     MOVLW     0xb                                                                                             
00025a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00025c   ffdb                                                                                                               
00025e   0e10     MOVLW     0x10           				outCm.data[ERR_INDEX]	= errMsg;                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
000260   c0c4     MOVFF     0xc4,0xfdb                                                                                      
000262   ffdb                                                                                                               
000264   ec7b     CALL      0xaf6,0x0      				t						= tickGet();                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
000266   f005                                                                                                               
000268   c010     MOVFF     0x10,0xbe                                                                                       
00026a   f0be                                                                                                               
00026c   c011     MOVFF     0x11,0xbf                                                                                       
00026e   f0bf                                                                                                               
000270   c012     MOVFF     0x12,0xc0                                                                                       
000272   f0c0                                                                                                               
000274   c013     MOVFF     0x13,0xc1                                                                                       
000276   f0c1                                                                                                               
000278   c0c5     MOVFF     0xc5,0xbd      				pgs						= afterAckPgs;                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
00027a   f0bd                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
00027c   0e02     MOVLW     0x2            				while(!canSendMessage(outCm,PRIO_HIGH));                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
00027e   6ee6     MOVWF     0xe6,0x0                                                                                        
000280   50d9     MOVF      0xd9,0x0,0x0                                                                                    
000282   0f05     ADDLW     0x5                                                                                             
000284   6ee9     MOVWF     0xe9,0x0                                                                                        
000286   cfda     MOVFF     0xfda,0xfea                                                                                     
000288   ffea                                                                                                               
00028a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00028c   ffe6                                                                                                               
00028e   cfee     MOVFF     0xfee,0xfe6                                                                                     
000290   ffe6                                                                                                               
000292   cfee     MOVFF     0xfee,0xfe6                                                                                     
000294   ffe6                                                                                                               
000296   cfee     MOVFF     0xfee,0xfe6                                                                                     
000298   ffe6                                                                                                               
00029a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00029c   ffe6                                                                                                               
00029e   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002a0   ffe6                                                                                                               
0002a2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002a4   ffe6                                                                                                               
0002a6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002a8   ffe6                                                                                                               
0002aa   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002ac   ffe6                                                                                                               
0002ae   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002b0   ffe6                                                                                                               
0002b2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002b4   ffe6                                                                                                               
0002b6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002b8   ffe6                                                                                                               
0002ba   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002bc   ffe6                                                                                                               
0002be   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002c0   ffe6                                                                                                               
0002c2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0002c4   ffe6                                                                                                               
0002c6   db41     RCALL     0x94a                                                                                           
0002c8   6e00     MOVWF     0x0,0x0                                                                                         
0002ca   0e10     MOVLW     0x10                                                                                            
0002cc   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0002ce   5000     MOVF      0x0,0x0,0x0                                                                                     
0002d0   0900     IORLW     0x0                                                                                             
0002d2   e101     BNZ       0x2d6                                                                                           
0002d4   d7d3     BRA       0x27c                                                                                           
0002d6   d246     BRA       0x764          			break;                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           			case pgsWAIT_FIRST_PGM_PACKET:                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// wait for first pgm packet.                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
0002d8   ec7b     CALL      0xaf6,0x0      				if ((tickGet()-t)>PACKET_TIMEOUT)                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0002da   f005                                                                                                               
0002dc   0100     MOVLB     0x0                                                                                             
0002de   51be     MOVF      0xbe,0x0,0x1                                                                                    
0002e0   5c10     SUBWF     0x10,0x0,0x0                                                                                    
0002e2   6e00     MOVWF     0x0,0x0                                                                                         
0002e4   0100     MOVLB     0x0                                                                                             
0002e6   51bf     MOVF      0xbf,0x0,0x1                                                                                    
0002e8   5811     SUBWFB    0x11,0x0,0x0                                                                                    
0002ea   6e01     MOVWF     0x1,0x0                                                                                         
0002ec   0100     MOVLB     0x0                                                                                             
0002ee   51c0     MOVF      0xc0,0x0,0x1                                                                                    
0002f0   5812     SUBWFB    0x12,0x0,0x0                                                                                    
0002f2   6e02     MOVWF     0x2,0x0                                                                                         
0002f4   0100     MOVLB     0x0                                                                                             
0002f6   51c1     MOVF      0xc1,0x0,0x1                                                                                    
0002f8   5813     SUBWFB    0x13,0x0,0x0                                                                                    
0002fa   6e03     MOVWF     0x3,0x0                                                                                         
0002fc   80d8     BSF       0xd8,0x0,0x0                                                                                    
0002fe   0e0e     MOVLW     0xe                                                                                             
000300   5400     SUBFWB    0x0,0x0,0x0                                                                                     
000302   0e00     MOVLW     0x0                                                                                             
000304   5401     SUBFWB    0x1,0x0,0x0                                                                                     
000306   0e00     MOVLW     0x0                                                                                             
000308   5402     SUBFWB    0x2,0x0,0x0                                                                                     
00030a   0e00     MOVLW     0x0                                                                                             
00030c   5403     SUBFWB    0x3,0x0,0x0                                                                                     
00030e   e208     BC        0x320                                                                                           
                                           				{                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					// Timeout, resend ack.                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
000310   0100     MOVLB     0x0            					errMsg			= ERR_NO_ERROR;                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
000312   6bc4     CLRF      0xc4,0x1                                                                                        
000314   0100     MOVLB     0x0            					afterAckPgs		= pgsWAIT_FIRST_PGM_PACKET;                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
000316   0e02     MOVLW     0x2                                                                                             
000318   6fc5     MOVWF     0xc5,0x1                                                                                        
00031a   0100     MOVLB     0x0            					pgs 			= pgsSEND_ACK;                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
00031c   0e01     MOVLW     0x1                                                                                             
00031e   6fbd     MOVWF     0xbd,0x1                                                                                        
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// If programming packet...                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
000320   0e14     MOVLW     0x14           				if (hasPacket==TRUE && cm.funct==FUNCT_BOOTLOADER && (cm.funcc & 0x3)==FUNCC_BOOT_PGM && cm.nid==MY_NID && cm.sid==programmerSid) F:\MCP\projects\CAN\canBoot\Source\Main.c
000322   04db     DECF      0xdb,0x0,0x0                                                                                    
000324   e001     BZ        0x328                                                                                           
000326   d07f     BRA       0x426                                                                                           
000328   0100     MOVLB     0x0                                                                                             
00032a   5160     MOVF      0x60,0x0,0x1                                                                                    
00032c   e001     BZ        0x330                                                                                           
00032e   d07b     BRA       0x426                                                                                           
000330   0e03     MOVLW     0x3                                                                                             
000332   0100     MOVLB     0x0                                                                                             
000334   1561     ANDWF     0x61,0x0,0x1                                                                                    
000336   6e00     MOVWF     0x0,0x0                                                                                         
000338   6a01     CLRF      0x1,0x0                                                                                         
00033a   0e03     MOVLW     0x3                                                                                             
00033c   1800     XORWF     0x0,0x0,0x0                                                                                     
00033e   e101     BNZ       0x342                                                                                           
000340   5001     MOVF      0x1,0x0,0x0                                                                                     
000342   e171     BNZ       0x426                                                                                           
000344   0100     MOVLB     0x0                                                                                             
000346   5163     MOVF      0x63,0x0,0x1                                                                                    
000348   e16e     BNZ       0x426                                                                                           
00034a   0100     MOVLB     0x0                                                                                             
00034c   51c2     MOVF      0xc2,0x0,0x1                                                                                    
00034e   0100     MOVLB     0x0                                                                                             
000350   1964     XORWF     0x64,0x0,0x1                                                                                    
000352   e104     BNZ       0x35c                                                                                           
000354   0100     MOVLB     0x0                                                                                             
000356   51c3     MOVF      0xc3,0x0,0x1                                                                                    
000358   0100     MOVLB     0x0                                                                                             
00035a   1965     XORWF     0x65,0x0,0x1                                                                                    
00035c   e164     BNZ       0x426                                                                                           
                                           				{                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
00035e   0e1c     MOVLW     0x1c           					BYTE localIndex = (BYTE)((cm.funcc & 0x1C)>>2)*8;                           F:\MCP\projects\CAN\canBoot\Source\Main.c
000360   0100     MOVLB     0x0                                                                                             
000362   1561     ANDWF     0x61,0x0,0x1                                                                                    
000364   6e00     MOVWF     0x0,0x0                                                                                         
000366   6a01     CLRF      0x1,0x0                                                                                         
000368   90d8     BCF       0xd8,0x0,0x0                                                                                    
00036a   3201     RRCF      0x1,0x1,0x0                                                                                     
00036c   3200     RRCF      0x0,0x1,0x0                                                                                     
00036e   90d8     BCF       0xd8,0x0,0x0                                                                                    
000370   3201     RRCF      0x1,0x1,0x0                                                                                     
000372   3200     RRCF      0x0,0x1,0x0                                                                                     
000374   0e08     MOVLW     0x8                                                                                             
000376   0200     MULWF     0x0,0x0                                                                                         
000378   0e15     MOVLW     0x15                                                                                            
00037a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00037c   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					// Save bytes in memory, setup start adress etc..                           F:\MCP\projects\CAN\canBoot\Source\Main.c
00037e   0100     MOVLB     0x0            					bytesReceived 	= 8;		                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
000380   0e08     MOVLW     0x8                                                                                             
000382   6fca     MOVWF     0xca,0x1                                                                                        
000384   0e15     MOVLW     0x15           					pgmData[localIndex+0]=cm.data[0]; pgmData[localIndex+1]=cm.data[1]; pgmData[localIndex+2]=cm.data[2]; pgmData[localIndex+3]=cm.data[3]; F:\MCP\projects\CAN\canBoot\Source\Main.c
000386   50db     MOVF      0xdb,0x0,0x0                                                                                    
000388   6aea     CLRF      0xea,0x0                                                                                        
00038a   0f6f     ADDLW     0x6f                                                                                            
00038c   6ee9     MOVWF     0xe9,0x0                                                                                        
00038e   0e00     MOVLW     0x0                                                                                             
000390   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000392   c067     MOVFF     0x67,0xfef                                                                                      
000394   ffef                                                                                                               
000396   0e15     MOVLW     0x15                                                                                            
000398   28db     INCF      0xdb,0x0,0x0                                                                                    
00039a   6aea     CLRF      0xea,0x0                                                                                        
00039c   0f6f     ADDLW     0x6f                                                                                            
00039e   6ee9     MOVWF     0xe9,0x0                                                                                        
0003a0   0e00     MOVLW     0x0                                                                                             
0003a2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0003a4   c068     MOVFF     0x68,0xfef                                                                                      
0003a6   ffef                                                                                                               
0003a8   0e15     MOVLW     0x15                                                                                            
0003aa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0003ac   0f02     ADDLW     0x2                                                                                             
0003ae   6aea     CLRF      0xea,0x0                                                                                        
0003b0   0f6f     ADDLW     0x6f                                                                                            
0003b2   6ee9     MOVWF     0xe9,0x0                                                                                        
0003b4   0e00     MOVLW     0x0                                                                                             
0003b6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0003b8   c069     MOVFF     0x69,0xfef                                                                                      
0003ba   ffef                                                                                                               
0003bc   0e15     MOVLW     0x15                                                                                            
0003be   50db     MOVF      0xdb,0x0,0x0                                                                                    
0003c0   0f03     ADDLW     0x3                                                                                             
0003c2   6aea     CLRF      0xea,0x0                                                                                        
0003c4   0f6f     ADDLW     0x6f                                                                                            
0003c6   6ee9     MOVWF     0xe9,0x0                                                                                        
0003c8   0e00     MOVLW     0x0                                                                                             
0003ca   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0003cc   c06a     MOVFF     0x6a,0xfef                                                                                      
0003ce   ffef                                                                                                               
0003d0   0e15     MOVLW     0x15           					pgmData[localIndex+4]=cm.data[4]; pgmData[localIndex+5]=cm.data[5]; pgmData[localIndex+6]=cm.data[6]; pgmData[localIndex+7]=cm.data[7]; F:\MCP\projects\CAN\canBoot\Source\Main.c
0003d2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0003d4   0f04     ADDLW     0x4                                                                                             
0003d6   6aea     CLRF      0xea,0x0                                                                                        
0003d8   0f6f     ADDLW     0x6f                                                                                            
0003da   6ee9     MOVWF     0xe9,0x0                                                                                        
0003dc   0e00     MOVLW     0x0                                                                                             
0003de   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0003e0   c06b     MOVFF     0x6b,0xfef                                                                                      
0003e2   ffef                                                                                                               
0003e4   0e15     MOVLW     0x15                                                                                            
0003e6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0003e8   0f05     ADDLW     0x5                                                                                             
0003ea   6aea     CLRF      0xea,0x0                                                                                        
0003ec   0f6f     ADDLW     0x6f                                                                                            
0003ee   6ee9     MOVWF     0xe9,0x0                                                                                        
0003f0   0e00     MOVLW     0x0                                                                                             
0003f2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0003f4   c06c     MOVFF     0x6c,0xfef                                                                                      
0003f6   ffef                                                                                                               
0003f8   0e15     MOVLW     0x15                                                                                            
0003fa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0003fc   0f06     ADDLW     0x6                                                                                             
0003fe   6aea     CLRF      0xea,0x0                                                                                        
000400   0f6f     ADDLW     0x6f                                                                                            
000402   6ee9     MOVWF     0xe9,0x0                                                                                        
000404   0e00     MOVLW     0x0                                                                                             
000406   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000408   c06d     MOVFF     0x6d,0xfef                                                                                      
00040a   ffef                                                                                                               
00040c   0e15     MOVLW     0x15                                                                                            
00040e   50db     MOVF      0xdb,0x0,0x0                                                                                    
000410   0f07     ADDLW     0x7                                                                                             
000412   6aea     CLRF      0xea,0x0                                                                                        
000414   0f6f     ADDLW     0x6f                                                                                            
000416   6ee9     MOVWF     0xe9,0x0                                                                                        
000418   0e00     MOVLW     0x0                                                                                             
00041a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00041c   c06e     MOVFF     0x6e,0xfef                                                                                      
00041e   ffef                                                                                                               
                                           				                                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
000420   0100     MOVLB     0x0            					pgs 			= pgsWAIT_PGM_PACKET;                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
000422   0e03     MOVLW     0x3                                                                                             
000424   6fbd     MOVWF     0xbd,0x1                                                                                        
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000426   d19e     BRA       0x764          			break;                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           			case pgsWAIT_PGM_PACKET:                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           			                                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// If programming packet...                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
000428   0e14     MOVLW     0x14           				if (hasPacket==TRUE && cm.funct==FUNCT_BOOTLOADER && (cm.funcc & 0x3)==FUNCC_BOOT_PGM && cm.nid==MY_NID && cm.sid==programmerSid) F:\MCP\projects\CAN\canBoot\Source\Main.c
00042a   04db     DECF      0xdb,0x0,0x0                                                                                    
00042c   e001     BZ        0x430                                                                                           
00042e   d07f     BRA       0x52e                                                                                           
000430   0100     MOVLB     0x0                                                                                             
000432   5160     MOVF      0x60,0x0,0x1                                                                                    
000434   e001     BZ        0x438                                                                                           
000436   d07b     BRA       0x52e                                                                                           
000438   0e03     MOVLW     0x3                                                                                             
00043a   0100     MOVLB     0x0                                                                                             
00043c   1561     ANDWF     0x61,0x0,0x1                                                                                    
00043e   6e00     MOVWF     0x0,0x0                                                                                         
000440   6a01     CLRF      0x1,0x0                                                                                         
000442   0e03     MOVLW     0x3                                                                                             
000444   1800     XORWF     0x0,0x0,0x0                                                                                     
000446   e101     BNZ       0x44a                                                                                           
000448   5001     MOVF      0x1,0x0,0x0                                                                                     
00044a   e171     BNZ       0x52e                                                                                           
00044c   0100     MOVLB     0x0                                                                                             
00044e   5163     MOVF      0x63,0x0,0x1                                                                                    
000450   e16e     BNZ       0x52e                                                                                           
000452   0100     MOVLB     0x0                                                                                             
000454   51c2     MOVF      0xc2,0x0,0x1                                                                                    
000456   0100     MOVLB     0x0                                                                                             
000458   1964     XORWF     0x64,0x0,0x1                                                                                    
00045a   e104     BNZ       0x464                                                                                           
00045c   0100     MOVLB     0x0                                                                                             
00045e   51c3     MOVF      0xc3,0x0,0x1                                                                                    
000460   0100     MOVLB     0x0                                                                                             
000462   1965     XORWF     0x65,0x0,0x1                                                                                    
000464   e164     BNZ       0x52e                                                                                           
                                           				{                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000466   0e1c     MOVLW     0x1c           					BYTE localIndex = (BYTE)((cm.funcc & 0x1C)>>2)*8;                           F:\MCP\projects\CAN\canBoot\Source\Main.c
000468   0100     MOVLB     0x0                                                                                             
00046a   1561     ANDWF     0x61,0x0,0x1                                                                                    
00046c   6e00     MOVWF     0x0,0x0                                                                                         
00046e   6a01     CLRF      0x1,0x0                                                                                         
000470   90d8     BCF       0xd8,0x0,0x0                                                                                    
000472   3201     RRCF      0x1,0x1,0x0                                                                                     
000474   3200     RRCF      0x0,0x1,0x0                                                                                     
000476   90d8     BCF       0xd8,0x0,0x0                                                                                    
000478   3201     RRCF      0x1,0x1,0x0                                                                                     
00047a   3200     RRCF      0x0,0x1,0x0                                                                                     
00047c   0e08     MOVLW     0x8                                                                                             
00047e   0200     MULWF     0x0,0x0                                                                                         
000480   0e16     MOVLW     0x16                                                                                            
000482   cff3     MOVFF     0xff3,0xfdb                                                                                     
000484   ffdb                                                                                                               
                                           					// Save bytes in memory, inc received bytes.                                F:\MCP\projects\CAN\canBoot\Source\Main.c
000486   0e16     MOVLW     0x16           					pgmData[localIndex+0]=cm.data[0]; pgmData[localIndex+1]=cm.data[1]; pgmData[localIndex+2]=cm.data[2]; pgmData[localIndex+3]=cm.data[3]; F:\MCP\projects\CAN\canBoot\Source\Main.c
000488   50db     MOVF      0xdb,0x0,0x0                                                                                    
00048a   6aea     CLRF      0xea,0x0                                                                                        
00048c   0f6f     ADDLW     0x6f                                                                                            
00048e   6ee9     MOVWF     0xe9,0x0                                                                                        
000490   0e00     MOVLW     0x0                                                                                             
000492   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000494   c067     MOVFF     0x67,0xfef                                                                                      
000496   ffef                                                                                                               
000498   0e16     MOVLW     0x16                                                                                            
00049a   28db     INCF      0xdb,0x0,0x0                                                                                    
00049c   6aea     CLRF      0xea,0x0                                                                                        
00049e   0f6f     ADDLW     0x6f                                                                                            
0004a0   6ee9     MOVWF     0xe9,0x0                                                                                        
0004a2   0e00     MOVLW     0x0                                                                                             
0004a4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0004a6   c068     MOVFF     0x68,0xfef                                                                                      
0004a8   ffef                                                                                                               
0004aa   0e16     MOVLW     0x16                                                                                            
0004ac   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004ae   0f02     ADDLW     0x2                                                                                             
0004b0   6aea     CLRF      0xea,0x0                                                                                        
0004b2   0f6f     ADDLW     0x6f                                                                                            
0004b4   6ee9     MOVWF     0xe9,0x0                                                                                        
0004b6   0e00     MOVLW     0x0                                                                                             
0004b8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0004ba   c069     MOVFF     0x69,0xfef                                                                                      
0004bc   ffef                                                                                                               
0004be   0e16     MOVLW     0x16                                                                                            
0004c0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004c2   0f03     ADDLW     0x3                                                                                             
0004c4   6aea     CLRF      0xea,0x0                                                                                        
0004c6   0f6f     ADDLW     0x6f                                                                                            
0004c8   6ee9     MOVWF     0xe9,0x0                                                                                        
0004ca   0e00     MOVLW     0x0                                                                                             
0004cc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0004ce   c06a     MOVFF     0x6a,0xfef                                                                                      
0004d0   ffef                                                                                                               
0004d2   0e16     MOVLW     0x16           					pgmData[localIndex+4]=cm.data[4]; pgmData[localIndex+5]=cm.data[5]; pgmData[localIndex+6]=cm.data[6]; pgmData[localIndex+7]=cm.data[7]; F:\MCP\projects\CAN\canBoot\Source\Main.c
0004d4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004d6   0f04     ADDLW     0x4                                                                                             
0004d8   6aea     CLRF      0xea,0x0                                                                                        
0004da   0f6f     ADDLW     0x6f                                                                                            
0004dc   6ee9     MOVWF     0xe9,0x0                                                                                        
0004de   0e00     MOVLW     0x0                                                                                             
0004e0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0004e2   c06b     MOVFF     0x6b,0xfef                                                                                      
0004e4   ffef                                                                                                               
0004e6   0e16     MOVLW     0x16                                                                                            
0004e8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004ea   0f05     ADDLW     0x5                                                                                             
0004ec   6aea     CLRF      0xea,0x0                                                                                        
0004ee   0f6f     ADDLW     0x6f                                                                                            
0004f0   6ee9     MOVWF     0xe9,0x0                                                                                        
0004f2   0e00     MOVLW     0x0                                                                                             
0004f4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0004f6   c06c     MOVFF     0x6c,0xfef                                                                                      
0004f8   ffef                                                                                                               
0004fa   0e16     MOVLW     0x16                                                                                            
0004fc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004fe   0f06     ADDLW     0x6                                                                                             
000500   6aea     CLRF      0xea,0x0                                                                                        
000502   0f6f     ADDLW     0x6f                                                                                            
000504   6ee9     MOVWF     0xe9,0x0                                                                                        
000506   0e00     MOVLW     0x0                                                                                             
000508   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00050a   c06d     MOVFF     0x6d,0xfef                                                                                      
00050c   ffef                                                                                                               
00050e   0e16     MOVLW     0x16                                                                                            
000510   50db     MOVF      0xdb,0x0,0x0                                                                                    
000512   0f07     ADDLW     0x7                                                                                             
000514   6aea     CLRF      0xea,0x0                                                                                        
000516   0f6f     ADDLW     0x6f                                                                                            
000518   6ee9     MOVWF     0xe9,0x0                                                                                        
00051a   0e00     MOVLW     0x0                                                                                             
00051c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00051e   c06e     MOVFF     0x6e,0xfef                                                                                      
000520   ffef                                                                                                               
                                           					                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000522   0e08     MOVLW     0x8            					bytesReceived 	+= 8;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
000524   0100     MOVLB     0x0                                                                                             
000526   27ca     ADDWF     0xca,0x1,0x1                                                                                    
000528   0100     MOVLB     0x0            					pgs 			 = pgsWAIT_PGM_PACKET;                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
00052a   0e03     MOVLW     0x3                                                                                             
00052c   6fbd     MOVWF     0xbd,0x1                                                                                        
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// If adress packet (control packet)..                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
00052e   0e14     MOVLW     0x14           				if (hasPacket==TRUE && cm.funct==FUNCT_BOOTLOADER && cm.funcc==FUNCC_BOOT_ADDR && cm.nid==MY_NID && cm.sid==programmerSid) F:\MCP\projects\CAN\canBoot\Source\Main.c
000530   04db     DECF      0xdb,0x0,0x0                                                                                    
000532   e11e     BNZ       0x570                                                                                           
000534   0100     MOVLB     0x0                                                                                             
000536   5160     MOVF      0x60,0x0,0x1                                                                                    
000538   e11b     BNZ       0x570                                                                                           
00053a   0100     MOVLB     0x0                                                                                             
00053c   0e02     MOVLW     0x2                                                                                             
00053e   1961     XORWF     0x61,0x0,0x1                                                                                    
000540   e101     BNZ       0x544                                                                                           
000542   5162     MOVF      0x62,0x0,0x1                                                                                    
000544   e115     BNZ       0x570                                                                                           
000546   0100     MOVLB     0x0                                                                                             
000548   5163     MOVF      0x63,0x0,0x1                                                                                    
00054a   e112     BNZ       0x570                                                                                           
00054c   0100     MOVLB     0x0                                                                                             
00054e   51c2     MOVF      0xc2,0x0,0x1                                                                                    
000550   0100     MOVLB     0x0                                                                                             
000552   1964     XORWF     0x64,0x0,0x1                                                                                    
000554   e104     BNZ       0x55e                                                                                           
000556   0100     MOVLB     0x0                                                                                             
000558   51c3     MOVF      0xc3,0x0,0x1                                                                                    
00055a   0100     MOVLB     0x0                                                                                             
00055c   1965     XORWF     0x65,0x0,0x1                                                                                    
00055e   e108     BNZ       0x570                                                                                           
                                           				{                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					// Send ack and goto wait first packet.                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					// save adress.                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
000560   0100     MOVLB     0x0            					errMsg			= ERR_NO_ERROR;                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
000562   6bc4     CLRF      0xc4,0x1                                                                                        
000564   0100     MOVLB     0x0            					afterAckPgs		= pgsWAIT_FIRST_PGM_PACKET;                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
000566   0e02     MOVLW     0x2                                                                                             
000568   6fc5     MOVWF     0xc5,0x1                                                                                        
00056a   0100     MOVLB     0x0            					pgs 			= pgsSEND_ACK;                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
00056c   0e01     MOVLW     0x1                                                                                             
00056e   6fbd     MOVWF     0xbd,0x1                                                                                        
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				                                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// If end packet...                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
000570   0e14     MOVLW     0x14           				if (hasPacket==TRUE && cm.funct==FUNCT_BOOTLOADER && cm.funcc==FUNCC_BOOT_DONE && cm.nid==MY_NID && cm.sid==programmerSid) F:\MCP\projects\CAN\canBoot\Source\Main.c
000572   04db     DECF      0xdb,0x0,0x0                                                                                    
000574   e136     BNZ       0x5e2                                                                                           
000576   0100     MOVLB     0x0                                                                                             
000578   5160     MOVF      0x60,0x0,0x1                                                                                    
00057a   e133     BNZ       0x5e2                                                                                           
00057c   0100     MOVLB     0x0                                                                                             
00057e   0e05     MOVLW     0x5                                                                                             
000580   1961     XORWF     0x61,0x0,0x1                                                                                    
000582   e101     BNZ       0x586                                                                                           
000584   5162     MOVF      0x62,0x0,0x1                                                                                    
000586   e12d     BNZ       0x5e2                                                                                           
000588   0100     MOVLB     0x0                                                                                             
00058a   5163     MOVF      0x63,0x0,0x1                                                                                    
00058c   e12a     BNZ       0x5e2                                                                                           
00058e   0100     MOVLB     0x0                                                                                             
000590   51c2     MOVF      0xc2,0x0,0x1                                                                                    
000592   0100     MOVLB     0x0                                                                                             
000594   1964     XORWF     0x64,0x0,0x1                                                                                    
000596   e104     BNZ       0x5a0                                                                                           
000598   0100     MOVLB     0x0                                                                                             
00059a   51c3     MOVF      0xc3,0x0,0x1                                                                                    
00059c   0100     MOVLB     0x0                                                                                             
00059e   1965     XORWF     0x65,0x0,0x1                                                                                    
0005a0   e120     BNZ       0x5e2                                                                                           
                                           				{                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					// write program.                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					// If no bytes received at all, assume end.                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					// If not 64 bytes received, send error ack and wait for first packet.      F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					// If 64, write.                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0005a2   0100     MOVLB     0x0            					if (bytesReceived==0)                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
0005a4   51ca     MOVF      0xca,0x0,0x1                                                                                    
0005a6   e109     BNZ       0x5ba                                                                                           
                                           					{                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           						// No received, done.                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
0005a8   0100     MOVLB     0x0            						errMsg			= ERR_NO_ERROR;                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
0005aa   6bc4     CLRF      0xc4,0x1                                                                                        
0005ac   0100     MOVLB     0x0            						afterAckPgs		= pgsDONE;                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
0005ae   0e05     MOVLW     0x5                                                                                             
0005b0   6fc5     MOVWF     0xc5,0x1                                                                                        
0005b2   0100     MOVLB     0x0            						pgs 			= pgsSEND_ACK;                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
0005b4   0e01     MOVLW     0x1                                                                                             
0005b6   6fbd     MOVWF     0xbd,0x1                                                                                        
                                           					}                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
0005b8   d014     BRA       0x5e2          					else if (bytesReceived!=64)                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
0005ba   0e40     MOVLW     0x40                                                                                            
0005bc   0100     MOVLB     0x0                                                                                             
0005be   5dca     SUBWF     0xca,0x0,0x1                                                                                    
0005c0   e00a     BZ        0x5d6                                                                                           
                                           					{                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
0005c2   0100     MOVLB     0x0            						errMsg			= ERR_ERROR;                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
0005c4   0e01     MOVLW     0x1                                                                                             
0005c6   6fc4     MOVWF     0xc4,0x1                                                                                        
0005c8   0100     MOVLB     0x0            						afterAckPgs		= pgsWAIT_FIRST_PGM_PACKET;                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
0005ca   0e02     MOVLW     0x2                                                                                             
0005cc   6fc5     MOVWF     0xc5,0x1                                                                                        
0005ce   0100     MOVLB     0x0            						pgs 			= pgsSEND_ACK;                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
0005d0   0e01     MOVLW     0x1                                                                                             
0005d2   6fbd     MOVWF     0xbd,0x1                                                                                        
                                           					}                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
0005d4   d006     BRA       0x5e2          					else                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					{                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
0005d6   0100     MOVLB     0x0            						pgs 			 = pgsWRITE_PROGRAM;                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
0005d8   0e04     MOVLW     0x4                                                                                             
0005da   6fbd     MOVWF     0xbd,0x1                                                                                        
0005dc   0100     MOVLB     0x0            						afterAckPgs		= pgsDONE;                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
0005de   0e05     MOVLW     0x5                                                                                             
0005e0   6fc5     MOVWF     0xc5,0x1                                                                                        
                                           					}                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// If bytes received 64, write..                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
0005e2   0e40     MOVLW     0x40           				if (bytesReceived==64)                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
0005e4   0100     MOVLB     0x0                                                                                             
0005e6   5dca     SUBWF     0xca,0x0,0x1                                                                                    
0005e8   e107     BNZ       0x5f8                                                                                           
                                           				{                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0005ea   7282     BTG       0x82,0x1,0x0   					LED0_IO=~LED0_IO;                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
0005ec   0100     MOVLB     0x0            					pgs 			 = pgsWRITE_PROGRAM;                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
0005ee   0e04     MOVLW     0x4                                                                                             
0005f0   6fbd     MOVWF     0xbd,0x1                                                                                        
0005f2   0100     MOVLB     0x0            					afterAckPgs		= pgsWAIT_PGM_PACKET;                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
0005f4   0e03     MOVLW     0x3                                                                                             
0005f6   6fc5     MOVWF     0xc5,0x1                                                                                        
                                           					// TODO! Send ack more than once..                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0005f8   d0b5     BRA       0x764          			break;                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           			case pgsWRITE_PROGRAM:                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0005fa   0004     CLRWDT                   				ClrWdt();                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// Write program and send ack.                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// Check addr limit                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
0005fc   0e00     MOVLW     0x0            				if (pgmAddress<RM_RESET_VECTOR)                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
0005fe   0100     MOVLB     0x0                                                                                             
000600   5dc6     SUBWF     0xc6,0x0,0x1                                                                                    
000602   0e10     MOVLW     0x10                                                                                            
000604   59c7     SUBWFB    0xc7,0x0,0x1                                                                                    
000606   0e00     MOVLW     0x0                                                                                             
000608   59c8     SUBWFB    0xc8,0x0,0x1                                                                                    
00060a   0e00     MOVLW     0x0                                                                                             
00060c   59c9     SUBWFB    0xc9,0x0,0x1                                                                                    
00060e   e206     BC        0x61c                                                                                           
                                           				{				                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
000610   0100     MOVLB     0x0            					errMsg			= ERR_ERROR;                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
000612   0e01     MOVLW     0x1                                                                                             
000614   6fc4     MOVWF     0xc4,0x1                                                                                        
000616   0100     MOVLB     0x0            					pgs 			= pgsSEND_ACK;                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
000618   0e01     MOVLW     0x1                                                                                             
00061a   6fbd     MOVWF     0xbd,0x1                                                                                        
                                           					//Not allowed to write here!                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           					                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				//Load Table pointer registers with base address to erase.                   F:\MCP\projects\CAN\canBoot\Source\Main.c
00061c   c0c6     MOVFF     0xc6,0x0       				TBLPTRU = (BYTE)((pgmAddress & 0xFF0000)>>16);                               F:\MCP\projects\CAN\canBoot\Source\Main.c
00061e   f000                                                                                                               
000620   c0c7     MOVFF     0xc7,0x1                                                                                        
000622   f001                                                                                                               
000624   c0c8     MOVFF     0xc8,0x2                                                                                        
000626   f002                                                                                                               
000628   c0c9     MOVFF     0xc9,0x3                                                                                        
00062a   f003                                                                                                               
00062c   6a00     CLRF      0x0,0x0                                                                                         
00062e   6a01     CLRF      0x1,0x0                                                                                         
000630   6a03     CLRF      0x3,0x0                                                                                         
000632   0e10     MOVLW     0x10                                                                                            
000634   90d8     BCF       0xd8,0x0,0x0                                                                                    
000636   3203     RRCF      0x3,0x1,0x0                                                                                     
000638   3202     RRCF      0x2,0x1,0x0                                                                                     
00063a   3201     RRCF      0x1,0x1,0x0                                                                                     
00063c   3200     RRCF      0x0,0x1,0x0                                                                                     
00063e   06e8     DECF      0xe8,0x1,0x0                                                                                    
000640   e1f9     BNZ       0x634                                                                                           
000642   5000     MOVF      0x0,0x0,0x0                                                                                     
000644   6ef8     MOVWF     0xf8,0x0                                                                                        
000646   c0c6     MOVFF     0xc6,0x0       				TBLPTRH = (BYTE)((pgmAddress & 0xFF00)>>8);                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
000648   f000                                                                                                               
00064a   c0c7     MOVFF     0xc7,0x1                                                                                        
00064c   f001                                                                                                               
00064e   c0c8     MOVFF     0xc8,0x2                                                                                        
000650   f002                                                                                                               
000652   c0c9     MOVFF     0xc9,0x3                                                                                        
000654   f003                                                                                                               
000656   6a00     CLRF      0x0,0x0                                                                                         
000658   6a02     CLRF      0x2,0x0                                                                                         
00065a   6a03     CLRF      0x3,0x0                                                                                         
00065c   0e08     MOVLW     0x8                                                                                             
00065e   90d8     BCF       0xd8,0x0,0x0                                                                                    
000660   3203     RRCF      0x3,0x1,0x0                                                                                     
000662   3202     RRCF      0x2,0x1,0x0                                                                                     
000664   3201     RRCF      0x1,0x1,0x0                                                                                     
000666   3200     RRCF      0x0,0x1,0x0                                                                                     
000668   06e8     DECF      0xe8,0x1,0x0                                                                                    
00066a   e1f9     BNZ       0x65e                                                                                           
00066c   5000     MOVF      0x0,0x0,0x0                                                                                     
00066e   6ef7     MOVWF     0xf7,0x0                                                                                        
000670   0100     MOVLB     0x0            				TBLPTRL = (BYTE)(pgmAddress & 0xFF);                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000672   51c6     MOVF      0xc6,0x0,0x1                                                                                    
000674   6ef6     MOVWF     0xf6,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// point to Flash program memory                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
000676   8ea6     BSF       0xa6,0x7,0x0   				EECON1bits.EEPGD = 1;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// access Flash program memory                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
000678   9ca6     BCF       0xa6,0x6,0x0   				EECON1bits.CFGS = 0;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// enable write to memory                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
00067a   84a6     BSF       0xa6,0x2,0x0   				EECON1bits.WREN = 1;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// enable Row Erase operation                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
00067c   88a6     BSF       0xa6,0x4,0x0   				EECON1bits.FREE = 1;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// disable interrupts                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
00067e   9ef2     BCF       0xf2,0x7,0x0   				INTCONbits.GIE = 0;                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// Do it!                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
000680   0e55     MOVLW     0x55           				EECON2 = 0x55;                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
000682   6ea7     MOVWF     0xa7,0x0                                                                                        
000684   0eaa     MOVLW     0xaa           				EECON2 = 0xAA;                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
000686   6ea7     MOVWF     0xa7,0x0                                                                                        
000688   82a6     BSF       0xa6,0x1,0x0   				EECON1bits.WR = 1;                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// enable interrupts                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
00068a   8ef2     BSF       0xf2,0x7,0x0   				INTCONbits.GIE = 1;                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				                                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				//Load Table pointer registers with base address to program.                 F:\MCP\projects\CAN\canBoot\Source\Main.c
00068c   c0c6     MOVFF     0xc6,0x0       				TBLPTRU = (BYTE)((pgmAddress & 0xFF0000)>>16);                               F:\MCP\projects\CAN\canBoot\Source\Main.c
00068e   f000                                                                                                               
000690   c0c7     MOVFF     0xc7,0x1                                                                                        
000692   f001                                                                                                               
000694   c0c8     MOVFF     0xc8,0x2                                                                                        
000696   f002                                                                                                               
000698   c0c9     MOVFF     0xc9,0x3                                                                                        
00069a   f003                                                                                                               
00069c   6a00     CLRF      0x0,0x0                                                                                         
00069e   6a01     CLRF      0x1,0x0                                                                                         
0006a0   6a03     CLRF      0x3,0x0                                                                                         
0006a2   0e10     MOVLW     0x10                                                                                            
0006a4   90d8     BCF       0xd8,0x0,0x0                                                                                    
0006a6   3203     RRCF      0x3,0x1,0x0                                                                                     
0006a8   3202     RRCF      0x2,0x1,0x0                                                                                     
0006aa   3201     RRCF      0x1,0x1,0x0                                                                                     
0006ac   3200     RRCF      0x0,0x1,0x0                                                                                     
0006ae   06e8     DECF      0xe8,0x1,0x0                                                                                    
0006b0   e1f9     BNZ       0x6a4                                                                                           
0006b2   5000     MOVF      0x0,0x0,0x0                                                                                     
0006b4   6ef8     MOVWF     0xf8,0x0                                                                                        
0006b6   c0c6     MOVFF     0xc6,0x0       				TBLPTRH = (BYTE)((pgmAddress & 0xFF00)>>8);                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
0006b8   f000                                                                                                               
0006ba   c0c7     MOVFF     0xc7,0x1                                                                                        
0006bc   f001                                                                                                               
0006be   c0c8     MOVFF     0xc8,0x2                                                                                        
0006c0   f002                                                                                                               
0006c2   c0c9     MOVFF     0xc9,0x3                                                                                        
0006c4   f003                                                                                                               
0006c6   6a00     CLRF      0x0,0x0                                                                                         
0006c8   6a02     CLRF      0x2,0x0                                                                                         
0006ca   6a03     CLRF      0x3,0x0                                                                                         
0006cc   0e08     MOVLW     0x8                                                                                             
0006ce   90d8     BCF       0xd8,0x0,0x0                                                                                    
0006d0   3203     RRCF      0x3,0x1,0x0                                                                                     
0006d2   3202     RRCF      0x2,0x1,0x0                                                                                     
0006d4   3201     RRCF      0x1,0x1,0x0                                                                                     
0006d6   3200     RRCF      0x0,0x1,0x0                                                                                     
0006d8   06e8     DECF      0xe8,0x1,0x0                                                                                    
0006da   e1f9     BNZ       0x6ce                                                                                           
0006dc   5000     MOVF      0x0,0x0,0x0                                                                                     
0006de   6ef7     MOVWF     0xf7,0x0                                                                                        
0006e0   0100     MOVLB     0x0            				TBLPTRL = (BYTE)(pgmAddress & 0xFF);                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
0006e2   51c6     MOVF      0xc6,0x0,0x1                                                                                    
0006e4   6ef6     MOVWF     0xf6,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// Load bytes                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
0006e6   0e04     MOVLW     0x4            				for(i=0;i<63;i++)                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0006e8   6adb     CLRF      0xdb,0x0                                                                                        
0006ea   0e3f     MOVLW     0x3f                                                                                            
0006ec   6ef3     MOVWF     0xf3,0x0                                                                                        
0006ee   0e04     MOVLW     0x4                                                                                             
0006f0   cfdb     MOVFF     0xfdb,0xff4                                                                                     
0006f2   fff4                                                                                                               
0006f4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0006f6   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
0006f8   e20d     BC        0x714                                                                                           
00070e   0e04     MOVLW     0x4                                                                                             
000710   2adb     INCF      0xdb,0x1,0x0                                                                                    
000712   d7eb     BRA       0x6ea                                                                                           
                                           				{                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0006fa   0e04     MOVLW     0x4            					TABLAT=pgmData[i];                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
0006fc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0006fe   6aea     CLRF      0xea,0x0                                                                                        
000700   0f6f     ADDLW     0x6f                                                                                            
000702   6ee9     MOVWF     0xe9,0x0                                                                                        
000704   0e00     MOVLW     0x0                                                                                             
000706   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000708   50ef     MOVF      0xef,0x0,0x0                                                                                    
00070a   6ef5     MOVWF     0xf5,0x0                                                                                        
00070c   d9f2     RCALL     0xaf2          					TBLWTPOSTINC_Func();                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				}                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000714   c0ae     MOVFF     0xae,0xff5     				TABLAT=pgmData[63];	                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000716   fff5                                                                                                               
000718   d9ea     RCALL     0xaee          				TBLWT_Func();                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// point to Flash program memory                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
00071a   8ea6     BSF       0xa6,0x7,0x0   				EECON1bits.EEPGD = 1;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// access Flash program memory                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
00071c   9ca6     BCF       0xa6,0x6,0x0   				EECON1bits.CFGS = 0;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// enable write to memory                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
00071e   84a6     BSF       0xa6,0x2,0x0   				EECON1bits.WREN = 1;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// disable interrupts                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
000720   9ef2     BCF       0xf2,0x7,0x0   				INTCONbits.GIE = 0;                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				                                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// Do it!                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
000722   0e55     MOVLW     0x55           				EECON2 = 0x55;                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
000724   6ea7     MOVWF     0xa7,0x0                                                                                        
000726   0eaa     MOVLW     0xaa           				EECON2 = 0xAA;                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
000728   6ea7     MOVWF     0xa7,0x0                                                                                        
00072a   82a6     BSF       0xa6,0x1,0x0   				EECON1bits.WR = 1;                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// enable interrupts                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
00072c   8ef2     BSF       0xf2,0x7,0x0   				INTCONbits.GIE = 1;                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           				// disable write to memory                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
00072e   94a6     BCF       0xa6,0x2,0x0   				EECON1bits.WREN = 0;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000730   0e40     MOVLW     0x40           				pgmAddress	   += 64;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000732   0100     MOVLB     0x0                                                                                             
000734   27c6     ADDWF     0xc6,0x1,0x1                                                                                    
000736   0e00     MOVLW     0x0                                                                                             
000738   0100     MOVLB     0x0                                                                                             
00073a   23c7     ADDWFC    0xc7,0x1,0x1                                                                                    
00073c   0e00     MOVLW     0x0                                                                                             
00073e   0100     MOVLB     0x0                                                                                             
000740   23c8     ADDWFC    0xc8,0x1,0x1                                                                                    
000742   0e00     MOVLW     0x0                                                                                             
000744   0100     MOVLB     0x0                                                                                             
000746   23c9     ADDWFC    0xc9,0x1,0x1                                                                                    
000748   0100     MOVLB     0x0            				bytesReceived 	= 0;                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
00074a   6bca     CLRF      0xca,0x1                                                                                        
00074c   0100     MOVLB     0x0            				errMsg			= ERR_NO_ERROR;                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
00074e   6bc4     CLRF      0xc4,0x1                                                                                        
000750   0100     MOVLB     0x0            				pgs 			= pgsSEND_ACK;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
000752   0e01     MOVLW     0x1                                                                                             
000754   6fbd     MOVWF     0xbd,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000756   d006     BRA       0x764          			break;                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           			case pgsDONE:                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
000758   ef00     GOTO      0x1000         				_asm  goto RM_RESET_VECTOR _endasm                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
00075a   f008                                                                                                               
00075c   d003     BRA       0x764          			break;                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           			default:                                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
00075e   0100     MOVLB     0x0            				pgs = pgsWATING_START;                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
000760   6bbd     CLRF      0xbd,0x1                                                                                        
000762   d000     BRA       0x764          			break;                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
000766   0e17     MOVLW     0x17           }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
000768   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00076a   e202     BC        0x770                                                                                           
00076c   6ae1     CLRF      0xe1,0x0                                                                                        
00076e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000770   6ee1     MOVWF     0xe1,0x0                                                                                        
000772   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000774   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000776   ffd9                                                                                                               
000778   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Function: mainInit                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Affects: Se code                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void mainInit()                                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
00077a   9294     BCF       0x94,0x1,0x0   	LED0_TRIS=0;	                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                               // Enable internal PORTB pull-ups                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
00077c   9ef1     BCF       0xf1,0x7,0x0       INTCON2bits.RBPU = 0;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Enable Interrupts                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
00077e   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000780   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Enable interrupt prirority                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
000782   8ed0     BSF       0xd0,0x7,0x0   	RCONbits.IPEN=1;                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000784   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           /// CAN-------------------------------------------------------                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Function: canInit                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Affects: Changes can registers.                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void canInit()                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
000786   0e80     MOVLW     0x80           	CANCON = 0x80; //request config mode                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000788   6e6f     MOVWF     0x6f,0x0                                                                                        
00078a   0ee0     MOVLW     0xe0           	while ((CANSTAT & 0xE0) != 0x80 ); //wait for config mode request               F:\MCP\projects\CAN\canBoot\Source\Main.c
00078c   146e     ANDWF     0x6e,0x0,0x0                                                                                    
00078e   0880     SUBLW     0x80                                                                                            
000790   e001     BZ        0x794                                                                                           
000792   d7fb     BRA       0x78a                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// BAUD AND TQS                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000794   6a70     CLRF      0x70,0x0       	BRGCON1=0;                                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Sync_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
000796   9e70     BCF       0x70,0x7,0x0   	BRGCON1bits.SJW1=0;                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
000798   8c70     BSF       0x70,0x6,0x0   	BRGCON1bits.SJW0=1;                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Setting BRP.                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
00079a   0e04     MOVLW     0x4            	BRGCON1=BRGCON1|CAN_BRP;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
00079c   1070     IORWF     0x70,0x0,0x0                                                                                    
00079e   6e70     MOVWF     0x70,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Maximum PHEG1                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
0007a0   8e71     BSF       0x71,0x7,0x0   	BRGCON2bits.SEG2PHTS = 1;                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Phase_Seg1 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
0007a2   9a71     BCF       0x71,0x5,0x0   	BRGCON2bits.SEG1PH2 = 0;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
0007a4   9871     BCF       0x71,0x4,0x0   	BRGCON2bits.SEG1PH1 = 0;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
0007a6   8671     BSF       0x71,0x3,0x0   	BRGCON2bits.SEG1PH0 = 1;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Prop_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
0007a8   9471     BCF       0x71,0x2,0x0   	BRGCON2bits.PRSEG2 = 0;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
0007aa   9271     BCF       0x71,0x1,0x0   	BRGCON2bits.PRSEG1 = 0;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
0007ac   8071     BSF       0x71,0x0,0x0   	BRGCON2bits.PRSEG0 = 1;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	//  Enableing bus wake-up                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
0007ae   9e72     BCF       0x72,0x7,0x0   	BRGCON3bits.WAKDIS = 0;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Dont use filter when wakeup                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
0007b0   9c72     BCF       0x72,0x6,0x0   	BRGCON3bits.WAKFIL = 0;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Phase_Seg2 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
0007b2   9472     BCF       0x72,0x2,0x0   	BRGCON3bits.SEG2PH2 = 0;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
0007b4   9272     BCF       0x72,0x1,0x0   	BRGCON3bits.SEG2PH1 = 0;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
0007b6   8072     BSF       0x72,0x0,0x0   	BRGCON3bits.SEG2PH0 = 1;                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0007b8   6a77     CLRF      0x77,0x0       	ECANCON=0;                                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
0007ba   9e77     BCF       0x77,0x7,0x0   	ECANCONbits.MDSEL1 = 0;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
0007bc   8c77     BSF       0x77,0x6,0x0   	ECANCONbits.MDSEL0 = 1;                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// FILTERS AND MASKS                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0007be   8c60     BSF       0x60,0x6,0x0   	RXB0CONbits.RXM1=1;                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
0007c0   9a60     BCF       0x60,0x5,0x0   	RXB0CONbits.RXM0=0;                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// INTERRUPTS                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Diable transmit interrupt                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
0007c2   010d     MOVLB     0xd            	TXBIE = 0;                                                                      F:\MCP\projects\CAN\canBoot\Source\Main.c
0007c4   6bfc     CLRF      0xfc,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	//rx no interrupt                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
0007c6   6aa4     CLRF      0xa4,0x0       	PIR3 = 0;                                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
0007c8   6aa3     CLRF      0xa3,0x0       	PIE3 = 0;                                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	// Programmable no buffers interrupt                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0007ca   6bfa     CLRF      0xfa,0x1       	BIE0  = 0x00;	                                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	//loopback mode or not                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	#ifdef CAN_LOOPBACK_MODE                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		CANCON = 0x40;//request loopback mode                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		while ((CANSTAT & 0xE0) != 0x40 );//wait for loopback mode                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	#else                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
0007cc   6a6f     CLRF      0x6f,0x0       		CANCON = 0x00;//request normal mode                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0007ce   0ee0     MOVLW     0xe0           		while ((CANSTAT & 0xE0) != 0x00 );//wait for normal mode                       F:\MCP\projects\CAN\canBoot\Source\Main.c
0007d0   146e     ANDWF     0x6e,0x0,0x0                                                                                    
0007d2   e001     BZ        0x7d6                                                                                           
0007d4   d7fc     BRA       0x7ce                                                                                           
                                           	#endif                                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0007d6   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Function: canGetPacket                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Pre-conditions: a call to canISR and an packet is available and banked to RXB0 F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Affects: Calls canParse() function in main for parsing received packet.        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           BOOL canGetPacket()                                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// Get which buffer that is ful.                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
0007d8   ae60     BTFSS     0x60,0x7,0x0   			 if (RXB0CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10000;  }               F:\MCP\projects\CAN\canBoot\Source\Main.c
0007da   d005     BRA       0x7e6                                                                                           
0007dc   0e00     MOVLW     0x0                                                                                             
0007de   1477     ANDWF     0x77,0x0,0x0                                                                                    
0007e0   0910     IORLW     0x10                                                                                            
0007e2   6e77     MOVWF     0x77,0x0                                                                                        
0007e4   d035     BRA       0x850          		else if (RXB1CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10001;  }            F:\MCP\projects\CAN\canBoot\Source\Main.c
0007e6   010f     MOVLB     0xf                                                                                             
0007e8   af50     BTFSS     0x50,0x7,0x1                                                                                    
0007ea   d005     BRA       0x7f6                                                                                           
0007ec   0e00     MOVLW     0x0                                                                                             
0007ee   1477     ANDWF     0x77,0x0,0x0                                                                                    
0007f0   0911     IORLW     0x11                                                                                            
0007f2   6e77     MOVWF     0x77,0x0                                                                                        
0007f4   d02d     BRA       0x850          		else if (B0CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10010;  }             F:\MCP\projects\CAN\canBoot\Source\Main.c
0007f6   010e     MOVLB     0xe                                                                                             
0007f8   af20     BTFSS     0x20,0x7,0x1                                                                                    
0007fa   d005     BRA       0x806                                                                                           
0007fc   0e00     MOVLW     0x0                                                                                             
0007fe   1477     ANDWF     0x77,0x0,0x0                                                                                    
000800   0912     IORLW     0x12                                                                                            
000802   6e77     MOVWF     0x77,0x0                                                                                        
000804   d025     BRA       0x850          		else if (B1CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10011;  }             F:\MCP\projects\CAN\canBoot\Source\Main.c
000806   af30     BTFSS     0x30,0x7,0x1                                                                                    
000808   d005     BRA       0x814                                                                                           
00080a   0e00     MOVLW     0x0                                                                                             
00080c   1477     ANDWF     0x77,0x0,0x0                                                                                    
00080e   0913     IORLW     0x13                                                                                            
000810   6e77     MOVWF     0x77,0x0                                                                                        
000812   d01e     BRA       0x850          		else if (B2CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10100;  }             F:\MCP\projects\CAN\canBoot\Source\Main.c
000814   af40     BTFSS     0x40,0x7,0x1                                                                                    
000816   d005     BRA       0x822                                                                                           
000818   0e00     MOVLW     0x0                                                                                             
00081a   1477     ANDWF     0x77,0x0,0x0                                                                                    
00081c   0914     IORLW     0x14                                                                                            
00081e   6e77     MOVWF     0x77,0x0                                                                                        
000820   d017     BRA       0x850          		else if (B3CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10101;  }             F:\MCP\projects\CAN\canBoot\Source\Main.c
000822   af50     BTFSS     0x50,0x7,0x1                                                                                    
000824   d005     BRA       0x830                                                                                           
000826   0e00     MOVLW     0x0                                                                                             
000828   1477     ANDWF     0x77,0x0,0x0                                                                                    
00082a   0915     IORLW     0x15                                                                                            
00082c   6e77     MOVWF     0x77,0x0                                                                                        
00082e   d010     BRA       0x850          		else if (B4CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10110;  }             F:\MCP\projects\CAN\canBoot\Source\Main.c
000830   af60     BTFSS     0x60,0x7,0x1                                                                                    
000832   d005     BRA       0x83e                                                                                           
000834   0e00     MOVLW     0x0                                                                                             
000836   1477     ANDWF     0x77,0x0,0x0                                                                                    
000838   0916     IORLW     0x16                                                                                            
00083a   6e77     MOVWF     0x77,0x0                                                                                        
00083c   d009     BRA       0x850          		else if (B5CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10111;  }             F:\MCP\projects\CAN\canBoot\Source\Main.c
00083e   af70     BTFSS     0x70,0x7,0x1                                                                                    
000840   d005     BRA       0x84c                                                                                           
000842   0e00     MOVLW     0x0                                                                                             
000844   1477     ANDWF     0x77,0x0,0x0                                                                                    
000846   0917     IORLW     0x17                                                                                            
000848   6e77     MOVWF     0x77,0x0                                                                                        
00084a   d002     BRA       0x850          		else return FALSE;                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
00084c   0e00     MOVLW     0x0                                                                                             
00084e   d07c     BRA       0x948                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//RXB0SIDH 28 27 26 25 24 23 22 21                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                   //RXB0SIDL 20 19 18 xx xx xx 17 16                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                   //RXB0EIDH 15 14 13 12 11 10 09 08                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                   //RXB0EIDL 07 06 05 04 03 02 01 00                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//funct xx xx xx xx 28 27 26 25                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//funcc xx xx xx xx xx xx 24 23 22 21 20 19 18 17 16 15                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//nid   xx xx 14 13 12 11 10 09                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//sid   xx xx xx xx xx xx xx 08 07 06 05 04 03 02 01 00                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000850   0ef0     MOVLW     0xf0                  	cm.funct=((RXB0SIDH & 0xF0)>>4);                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000852   1461     ANDWF     0x61,0x0,0x0                                                                                    
000854   38e8     SWAPF     0xe8,0x0,0x0                                                                                    
000856   0b0f     ANDLW     0xf                                                                                             
000858   0100     MOVLB     0x0                                                                                             
00085a   6f60     MOVWF     0x60,0x1                                                                                        
00085c   0e0f     MOVLW     0xf                    cm.funcc=(((WORD)(RXB0SIDH & 0x0F))<<6)+(((WORD)(RXB0SIDL & 0xE0))>>2)+(((WORD)(RXB0SIDL & 0x03))<<1)+(((WORD)(RXB0EIDH & 0x80))>>7); F:\MCP\projects\CAN\canBoot\Source\Main.c
00085e   1461     ANDWF     0x61,0x0,0x0                                                                                    
000860   6e04     MOVWF     0x4,0x0                                                                                         
000862   6a05     CLRF      0x5,0x0                                                                                         
000864   0e06     MOVLW     0x6                                                                                             
000866   90d8     BCF       0xd8,0x0,0x0                                                                                    
000868   3604     RLCF      0x4,0x1,0x0                                                                                     
00086a   3605     RLCF      0x5,0x1,0x0                                                                                     
00086c   04e8     DECF      0xe8,0x0,0x0                                                                                    
00086e   e1fb     BNZ       0x866                                                                                           
000870   0ee0     MOVLW     0xe0                                                                                            
000872   1462     ANDWF     0x62,0x0,0x0                                                                                    
000874   6e06     MOVWF     0x6,0x0                                                                                         
000876   6a07     CLRF      0x7,0x0                                                                                         
000878   90d8     BCF       0xd8,0x0,0x0                                                                                    
00087a   3207     RRCF      0x7,0x1,0x0                                                                                     
00087c   3206     RRCF      0x6,0x1,0x0                                                                                     
00087e   90d8     BCF       0xd8,0x0,0x0                                                                                    
000880   3207     RRCF      0x7,0x1,0x0                                                                                     
000882   3206     RRCF      0x6,0x1,0x0                                                                                     
000884   5004     MOVF      0x4,0x0,0x0                                                                                     
000886   2406     ADDWF     0x6,0x0,0x0                                                                                     
000888   6e02     MOVWF     0x2,0x0                                                                                         
00088a   5005     MOVF      0x5,0x0,0x0                                                                                     
00088c   2007     ADDWFC    0x7,0x0,0x0                                                                                     
00088e   6e03     MOVWF     0x3,0x0                                                                                         
000890   0e03     MOVLW     0x3                                                                                             
000892   1462     ANDWF     0x62,0x0,0x0                                                                                    
000894   6e08     MOVWF     0x8,0x0                                                                                         
000896   6a09     CLRF      0x9,0x0                                                                                         
000898   90d8     BCF       0xd8,0x0,0x0                                                                                    
00089a   3608     RLCF      0x8,0x1,0x0                                                                                     
00089c   3609     RLCF      0x9,0x1,0x0                                                                                     
00089e   5002     MOVF      0x2,0x0,0x0                                                                                     
0008a0   2408     ADDWF     0x8,0x0,0x0                                                                                     
0008a2   6e00     MOVWF     0x0,0x0                                                                                         
0008a4   5003     MOVF      0x3,0x0,0x0                                                                                     
0008a6   2009     ADDWFC    0x9,0x0,0x0                                                                                     
0008a8   6e01     MOVWF     0x1,0x0                                                                                         
0008aa   0e80     MOVLW     0x80                                                                                            
0008ac   1463     ANDWF     0x63,0x0,0x0                                                                                    
0008ae   6e0a     MOVWF     0xa,0x0                                                                                         
0008b0   6a0b     CLRF      0xb,0x0                                                                                         
0008b2   0e07     MOVLW     0x7                                                                                             
0008b4   90d8     BCF       0xd8,0x0,0x0                                                                                    
0008b6   320b     RRCF      0xb,0x1,0x0                                                                                     
0008b8   320a     RRCF      0xa,0x1,0x0                                                                                     
0008ba   04e8     DECF      0xe8,0x0,0x0                                                                                    
0008bc   e1fb     BNZ       0x8b4                                                                                           
0008be   5000     MOVF      0x0,0x0,0x0                                                                                     
0008c0   240a     ADDWF     0xa,0x0,0x0                                                                                     
0008c2   0100     MOVLB     0x0                                                                                             
0008c4   6f61     MOVWF     0x61,0x1                                                                                        
0008c6   5001     MOVF      0x1,0x0,0x0                                                                                     
0008c8   200b     ADDWFC    0xb,0x0,0x0                                                                                     
0008ca   6f62     MOVWF     0x62,0x1                                                                                        
0008cc   0e7e     MOVLW     0x7e                   cm.nid=((RXB0EIDH & 0x7E)>>1);                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
0008ce   1463     ANDWF     0x63,0x0,0x0                                                                                    
0008d0   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
0008d2   0b7f     ANDLW     0x7f                                                                                            
0008d4   6f63     MOVWF     0x63,0x1                                                                                        
0008d6   0e01     MOVLW     0x1                    cm.sid=(((WORD)(RXB0EIDH & 0x01))<<8)+RXB0EIDL;                          F:\MCP\projects\CAN\canBoot\Source\Main.c
0008d8   1463     ANDWF     0x63,0x0,0x0                                                                                    
0008da   6e00     MOVWF     0x0,0x0                                                                                         
0008dc   c000     MOVFF     0x0,0x1                                                                                         
0008de   f001                                                                                                               
0008e0   6a00     CLRF      0x0,0x0                                                                                         
0008e2   5064     MOVF      0x64,0x0,0x0                                                                                    
0008e4   2400     ADDWF     0x0,0x0,0x0                                                                                     
0008e6   6f64     MOVWF     0x64,0x1                                                                                        
0008e8   0e00     MOVLW     0x0                                                                                             
0008ea   2001     ADDWFC    0x1,0x0,0x0                                                                                     
0008ec   6f65     MOVWF     0x65,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
0008ee   5065     MOVF      0x65,0x0,0x0   		cm.data_length=(RXB0DLCbits.DLC3<<3)+(RXB0DLCbits.DLC2<<2)+(RXB0DLCbits.DLC1<<1)+RXB0DLCbits.DLC0; F:\MCP\projects\CAN\canBoot\Source\Main.c
0008f0   0b01     ANDLW     0x1                                                                                             
0008f2   6e02     MOVWF     0x2,0x0                                                                                         
0008f4   5065     MOVF      0x65,0x0,0x0                                                                                    
0008f6   0b02     ANDLW     0x2                                                                                             
0008f8   e001     BZ        0x8fc                                                                                           
0008fa   0e01     MOVLW     0x1                                                                                             
0008fc   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
0008fe   6e01     MOVWF     0x1,0x0                                                                                         
000900   5065     MOVF      0x65,0x0,0x0                                                                                    
000902   0b04     ANDLW     0x4                                                                                             
000904   e001     BZ        0x908                                                                                           
000906   0e01     MOVLW     0x1                                                                                             
000908   0d04     MULLW     0x4                                                                                             
00090a   cff3     MOVFF     0xff3,0x0                                                                                       
00090c   f000                                                                                                               
00090e   5065     MOVF      0x65,0x0,0x0                                                                                    
000910   0b08     ANDLW     0x8                                                                                             
000912   e001     BZ        0x916                                                                                           
000914   0e01     MOVLW     0x1                                                                                             
000916   0d08     MULLW     0x8                                                                                             
000918   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00091a   2400     ADDWF     0x0,0x0,0x0                                                                                     
00091c   2401     ADDWF     0x1,0x0,0x0                                                                                     
00091e   2402     ADDWF     0x2,0x0,0x0                                                                                     
000920   6f66     MOVWF     0x66,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
000922   cf66     MOVFF     0xf66,0x67     		cm.data[0]=RXB0D0;	cm.data[1]=RXB0D1;                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
000924   f067                                                                                                               
000926   cf67     MOVFF     0xf67,0x68                                                                                      
000928   f068                                                                                                               
00092a   cf68     MOVFF     0xf68,0x69     		cm.data[2]=RXB0D2; 	cm.data[3]=RXB0D3;                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
00092c   f069                                                                                                               
00092e   cf69     MOVFF     0xf69,0x6a                                                                                      
000930   f06a                                                                                                               
000932   cf6a     MOVFF     0xf6a,0x6b     		cm.data[4]=RXB0D4; 	cm.data[5]=RXB0D5;                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000934   f06b                                                                                                               
000936   cf6b     MOVFF     0xf6b,0x6c                                                                                      
000938   f06c                                                                                                               
00093a   cf6c     MOVFF     0xf6c,0x6d     		cm.data[6]=RXB0D6; 	cm.data[7]=RXB0D7;                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
00093c   f06d                                                                                                               
00093e   cf6d     MOVFF     0xf6d,0x6e                                                                                      
000940   f06e                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// Clear ful status                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000942   9e60     BCF       0x60,0x7,0x0   		RXB0CONbits.RXFUL=0;                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000944   0e01     MOVLW     0x1            		return TRUE;                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
000946   d000     BRA       0x948                                                                                           
000948   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Function: canSendMessage                                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Input:	CAN_MESSAGE to send                                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Output: True if packet scheduled sucess, false otherwise.                      F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Pre-conditions: canInit                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Affects: ..                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
00094a   cfd9     MOVFF     0xfd9,0xfe6    BOOL canSendMessage(CAN_PROTO_MESSAGE cm,CAN_PRIORITY prio)                      F:\MCP\projects\CAN\canBoot\Source\Main.c
00094c   ffe6                                                                                                               
00094e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000950   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
000952   010f     MOVLB     0xf            	if ( TXB0CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00011; }           F:\MCP\projects\CAN\canBoot\Source\Main.c
000954   b740     BTFSC     0x40,0x3,0x1                                                                                    
000956   d004     BRA       0x960                                                                                           
000958   0e00     MOVLW     0x0                                                                                             
00095a   1477     ANDWF     0x77,0x0,0x0                                                                                    
00095c   0903     IORLW     0x3                                                                                             
00095e   6e77     MOVWF     0x77,0x0                                                                                        
000960   010f     MOVLB     0xf            	if ( TXB1CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00100; }           F:\MCP\projects\CAN\canBoot\Source\Main.c
000962   b730     BTFSC     0x30,0x3,0x1                                                                                    
000964   d004     BRA       0x96e                                                                                           
000966   0e00     MOVLW     0x0                                                                                             
000968   1477     ANDWF     0x77,0x0,0x0                                                                                    
00096a   0904     IORLW     0x4                                                                                             
00096c   6e77     MOVWF     0x77,0x0                                                                                        
00096e   010f     MOVLB     0xf            	if ( TXB2CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00101; }           F:\MCP\projects\CAN\canBoot\Source\Main.c
000970   b720     BTFSC     0x20,0x3,0x1                                                                                    
000972   d005     BRA       0x97e                                                                                           
000974   0e00     MOVLW     0x0                                                                                             
000976   1477     ANDWF     0x77,0x0,0x0                                                                                    
000978   0905     IORLW     0x5                                                                                             
00097a   6e77     MOVWF     0x77,0x0                                                                                        
                                           	// None of the transmit buffers were empty.                                     F:\MCP\projects\CAN\canBoot\Source\Main.c
00097c   d002     BRA       0x982          	else { return FALSE;}                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
00097e   0e00     MOVLW     0x0                                                                                             
000980   d0b0     BRA       0xae2                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000982   0eef     MOVLW     0xef           	if (prio<0 || prio>3) prio = 0;                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
000984   cfdb     MOVFF     0xfdb,0x0                                                                                       
000986   f000                                                                                                               
000988   3400     RLCF      0x0,0x0,0x0                                                                                     
00098a   e20e     BC        0x9a8                                                                                           
00098c   0eef     MOVLW     0xef                                                                                            
00098e   cfdb     MOVFF     0xfdb,0x1                                                                                       
000990   f001                                                                                                               
000992   0e03     MOVLW     0x3                                                                                             
000994   6ee7     MOVWF     0xe7,0x0                                                                                        
000996   1801     XORWF     0x1,0x0,0x0                                                                                     
000998   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00099a   d002     BRA       0x9a0                                                                                           
00099c   3401     RLCF      0x1,0x0,0x0                                                                                     
00099e   d003     BRA       0x9a6                                                                                           
0009a0   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0009a2   80d8     BSF       0xd8,0x0,0x0                                                                                    
0009a4   5401     SUBFWB    0x1,0x0,0x0                                                                                     
0009a6   e202     BC        0x9ac                                                                                           
0009a8   0eef     MOVLW     0xef                                                                                            
0009aa   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//RXB0SIDH 28 27 26 25 24 23 22 21                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                   //RXB0SIDL 20 19 18 xx xx xx 17 16                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                   //RXB0EIDH 15 14 13 12 11 10 09 08                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                   //RXB0EIDL 07 06 05 04 03 02 01 00                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//funct xx xx xx xx 28 27 26 25                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//funcc xx xx xx xx xx xx 24 23 22 21 20 19 18 17 16 15                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//nid   xx xx 14 13 12 11 10 09                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		//sid   xx xx xx xx xx xx xx 08 07 06 05 04 03 02 01 00                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
0009ac   0ef1     MOVLW     0xf1           		RXB0SIDH = (BYTE)((cm.funct & 0x0F)<<4)+(BYTE)((cm.funcc & 0x03C0)>>6);        F:\MCP\projects\CAN\canBoot\Source\Main.c
0009ae   cfdb     MOVFF     0xfdb,0x0                                                                                       
0009b0   f000                                                                                                               
0009b2   0ef2     MOVLW     0xf2                                                                                            
0009b4   cfdb     MOVFF     0xfdb,0x1                                                                                       
0009b6   f001                                                                                                               
0009b8   0ec0     MOVLW     0xc0                                                                                            
0009ba   1600     ANDWF     0x0,0x1,0x0                                                                                     
0009bc   0e03     MOVLW     0x3                                                                                             
0009be   1601     ANDWF     0x1,0x1,0x0                                                                                     
0009c0   0e06     MOVLW     0x6                                                                                             
0009c2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0009c4   3201     RRCF      0x1,0x1,0x0                                                                                     
0009c6   3200     RRCF      0x0,0x1,0x0                                                                                     
0009c8   04e8     DECF      0xe8,0x0,0x0                                                                                    
0009ca   e1fb     BNZ       0x9c2                                                                                           
0009cc   0ef0     MOVLW     0xf0                                                                                            
0009ce   50db     MOVF      0xdb,0x0,0x0                                                                                    
0009d0   0b0f     ANDLW     0xf                                                                                             
0009d2   0d10     MULLW     0x10                                                                                            
0009d4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0009d6   2400     ADDWF     0x0,0x0,0x0                                                                                     
0009d8   6e61     MOVWF     0x61,0x0                                                                                        
0009da   0e06     MOVLW     0x6            		RXB0SIDL = (BYTE)((cm.funcc & 0x003F)<<2)+(BYTE)((cm.funcc & 0x0006)>>1);      F:\MCP\projects\CAN\canBoot\Source\Main.c
0009dc   6ee7     MOVWF     0xe7,0x0                                                                                        
0009de   0ef1     MOVLW     0xf1                                                                                            
0009e0   cfdb     MOVFF     0xfdb,0x2                                                                                       
0009e2   f002                                                                                                               
0009e4   0ef2     MOVLW     0xf2                                                                                            
0009e6   cfdb     MOVFF     0xfdb,0x3                                                                                       
0009e8   f003                                                                                                               
0009ea   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0009ec   1602     ANDWF     0x2,0x1,0x0                                                                                     
0009ee   6a03     CLRF      0x3,0x0                                                                                         
0009f0   90d8     BCF       0xd8,0x0,0x0                                                                                    
0009f2   3203     RRCF      0x3,0x1,0x0                                                                                     
0009f4   3202     RRCF      0x2,0x1,0x0                                                                                     
0009f6   0e3f     MOVLW     0x3f                                                                                            
0009f8   6ee7     MOVWF     0xe7,0x0                                                                                        
0009fa   0ef1     MOVLW     0xf1                                                                                            
0009fc   cfdb     MOVFF     0xfdb,0x0                                                                                       
0009fe   f000                                                                                                               
000a00   0ef2     MOVLW     0xf2                                                                                            
000a02   cfdb     MOVFF     0xfdb,0x1                                                                                       
000a04   f001                                                                                                               
000a06   50e7     MOVF      0xe7,0x0,0x0                                                                                    
000a08   1600     ANDWF     0x0,0x1,0x0                                                                                     
000a0a   6a01     CLRF      0x1,0x0                                                                                         
000a0c   90d8     BCF       0xd8,0x0,0x0                                                                                    
000a0e   3600     RLCF      0x0,0x1,0x0                                                                                     
000a10   3601     RLCF      0x1,0x1,0x0                                                                                     
000a12   90d8     BCF       0xd8,0x0,0x0                                                                                    
000a14   3600     RLCF      0x0,0x1,0x0                                                                                     
000a16   3601     RLCF      0x1,0x1,0x0                                                                                     
000a18   5000     MOVF      0x0,0x0,0x0                                                                                     
000a1a   2402     ADDWF     0x2,0x0,0x0                                                                                     
000a1c   6e62     MOVWF     0x62,0x0                                                                                        
000a1e   0ef4     MOVLW     0xf4           		RXB0EIDH = (BYTE)((cm.funcc & 0x0001)<<7)+(BYTE)((cm.nid & 0x3F)<<1)+(BYTE)((cm.sid & 0x0100)>>8); F:\MCP\projects\CAN\canBoot\Source\Main.c
000a20   cfdb     MOVFF     0xfdb,0x2                                                                                       
000a22   f002                                                                                                               
000a24   0ef5     MOVLW     0xf5                                                                                            
000a26   cfdb     MOVFF     0xfdb,0x3                                                                                       
000a28   f003                                                                                                               
000a2a   0e00     MOVLW     0x0                                                                                             
000a2c   1602     ANDWF     0x2,0x1,0x0                                                                                     
000a2e   0e01     MOVLW     0x1                                                                                             
000a30   1603     ANDWF     0x3,0x1,0x0                                                                                     
000a32   c003     MOVFF     0x3,0x2                                                                                         
000a34   f002                                                                                                               
000a36   6a03     CLRF      0x3,0x0                                                                                         
000a38   0e01     MOVLW     0x1                                                                                             
000a3a   6ee7     MOVWF     0xe7,0x0                                                                                        
000a3c   0ef1     MOVLW     0xf1                                                                                            
000a3e   cfdb     MOVFF     0xfdb,0x0                                                                                       
000a40   f000                                                                                                               
000a42   0ef2     MOVLW     0xf2                                                                                            
000a44   cfdb     MOVFF     0xfdb,0x1                                                                                       
000a46   f001                                                                                                               
000a48   50e7     MOVF      0xe7,0x0,0x0                                                                                    
000a4a   1600     ANDWF     0x0,0x1,0x0                                                                                     
000a4c   6a01     CLRF      0x1,0x0                                                                                         
000a4e   0e07     MOVLW     0x7                                                                                             
000a50   90d8     BCF       0xd8,0x0,0x0                                                                                    
000a52   3600     RLCF      0x0,0x1,0x0                                                                                     
000a54   3601     RLCF      0x1,0x1,0x0                                                                                     
000a56   04e8     DECF      0xe8,0x0,0x0                                                                                    
000a58   e1fb     BNZ       0xa50                                                                                           
000a5a   0ef3     MOVLW     0xf3                                                                                            
000a5c   50db     MOVF      0xdb,0x0,0x0                                                                                    
000a5e   0b3f     ANDLW     0x3f                                                                                            
000a60   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
000a62   2400     ADDWF     0x0,0x0,0x0                                                                                     
000a64   2402     ADDWF     0x2,0x0,0x0                                                                                     
000a66   6e63     MOVWF     0x63,0x0                                                                                        
000a68   0eff     MOVLW     0xff           		RXB0EIDL = (BYTE)((cm.sid & 0x00FF));                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
000a6a   6ee7     MOVWF     0xe7,0x0                                                                                        
000a6c   0ef4     MOVLW     0xf4                                                                                            
000a6e   cfdb     MOVFF     0xfdb,0x0                                                                                       
000a70   f000                                                                                                               
000a72   0ef5     MOVLW     0xf5                                                                                            
000a74   cfdb     MOVFF     0xfdb,0x1                                                                                       
000a76   f001                                                                                                               
000a78   50e7     MOVF      0xe7,0x0,0x0                                                                                    
000a7a   1600     ANDWF     0x0,0x1,0x0                                                                                     
000a7c   6a01     CLRF      0x1,0x0                                                                                         
000a7e   5000     MOVF      0x0,0x0,0x0                                                                                     
000a80   6e64     MOVWF     0x64,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
000a82   6a65     CLRF      0x65,0x0       		RXB0DLC = 0;                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
000a84   0ef6     MOVLW     0xf6           		if (cm.data_length>8) RXB0DLC=8; else RXB0DLC=cm.data_length;                  F:\MCP\projects\CAN\canBoot\Source\Main.c
000a86   50db     MOVF      0xdb,0x0,0x0                                                                                    
000a88   0808     SUBLW     0x8                                                                                             
000a8a   e203     BC        0xa92                                                                                           
000a8c   0e08     MOVLW     0x8                                                                                             
000a8e   6e65     MOVWF     0x65,0x0                                                                                        
000a90   d003     BRA       0xa98                                                                                           
000a92   0ef6     MOVLW     0xf6                                                                                            
000a94   50db     MOVF      0xdb,0x0,0x0                                                                                    
000a96   6e65     MOVWF     0x65,0x0                                                                                        
                                           		                                                                               F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// NOT Remote request                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		_asm                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
000a98   9c65     BCF       0x65,0x6,0x0   			bcf RXB0DLC, 6, 0                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		_endasm                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
000a9a   0ef7     MOVLW     0xf7           		RXB0D0=cm.data[0];	RXB0D1=cm.data[1];                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
000a9c   50db     MOVF      0xdb,0x0,0x0                                                                                    
000a9e   6e66     MOVWF     0x66,0x0                                                                                        
000aa0   0ef8     MOVLW     0xf8                                                                                            
000aa2   50db     MOVF      0xdb,0x0,0x0                                                                                    
000aa4   6e67     MOVWF     0x67,0x0                                                                                        
000aa6   0ef9     MOVLW     0xf9           		RXB0D2=cm.data[2]; 	RXB0D3=cm.data[3];                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000aa8   50db     MOVF      0xdb,0x0,0x0                                                                                    
000aaa   6e68     MOVWF     0x68,0x0                                                                                        
000aac   0efa     MOVLW     0xfa                                                                                            
000aae   50db     MOVF      0xdb,0x0,0x0                                                                                    
000ab0   6e69     MOVWF     0x69,0x0                                                                                        
000ab2   0efb     MOVLW     0xfb           		RXB0D4=cm.data[4]; 	RXB0D5=cm.data[5];                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000ab4   50db     MOVF      0xdb,0x0,0x0                                                                                    
000ab6   6e6a     MOVWF     0x6a,0x0                                                                                        
000ab8   0efc     MOVLW     0xfc                                                                                            
000aba   50db     MOVF      0xdb,0x0,0x0                                                                                    
000abc   6e6b     MOVWF     0x6b,0x0                                                                                        
000abe   0efd     MOVLW     0xfd           		RXB0D6=cm.data[6]; 	RXB0D7=cm.data[7];                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000ac0   50db     MOVF      0xdb,0x0,0x0                                                                                    
000ac2   6e6c     MOVWF     0x6c,0x0                                                                                        
000ac4   0efe     MOVLW     0xfe                                                                                            
000ac6   50db     MOVF      0xdb,0x0,0x0                                                                                    
000ac8   6e6d     MOVWF     0x6d,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// set extended or not                                                         F:\MCP\projects\CAN\canBoot\Source\Main.c
000aca   8662     BSF       0x62,0x3,0x0   		RXB0SIDLbits.EXID=1;                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// Priority                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
000acc   0eef     MOVLW     0xef           		RXB0CON = (RXB0CON & 0b11111100) | prio;                                       F:\MCP\projects\CAN\canBoot\Source\Main.c
000ace   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000ad0   ffe6                                                                                                               
000ad2   0efc     MOVLW     0xfc                                                                                            
000ad4   1460     ANDWF     0x60,0x0,0x0                                                                                    
000ad6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000ad8   10e7     IORWF     0xe7,0x0,0x0                                                                                    
000ada   6e60     MOVWF     0x60,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		// mark as redy to transmit                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		_asm                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
000adc   8660     BSF       0x60,0x3,0x0   			bsf RXB0CON, 3, 0                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           		_endasm                                                                        F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000ade   0e01     MOVLW     0x1            		return TRUE;                                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
000ae0   d000     BRA       0xae2                                                                                           
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
000ae2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
000ae4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000ae6   ffd9                                                                                                               
000ae8   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #endif //USE_CAN                                                                 F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void TBLRD_Func()                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           _asm                                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
000aea   0008     TBLRD                    	TBLRD                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           _endasm                                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
000aec   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void TBLWT_Func()                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           _asm                                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
000aee   000c     TBLWT                    	TBLWT                                                                           F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           _endasm                                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
000af0   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           void TBLWTPOSTINC_Func (void){                                                   F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           _asm                                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
000af2   000d     TBLWTPOSTINC             	TBLWTPOSTINC                                                                    F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           _endasm                                                                          F:\MCP\projects\CAN\canBoot\Source\Main.c
000af4   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           DWORD tickGet()                                                                  F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
000af6   c0b5     MOVFF     0xb5,0x10      	return tickCounter;                                                             F:\MCP\projects\CAN\canBoot\Source\Main.c
000af8   f010                                                                                                               
000afa   c0b6     MOVFF     0xb6,0x11                                                                                       
000afc   f011                                                                                                               
000afe   c0b7     MOVFF     0xb7,0x12                                                                                       
000b00   f012                                                                                                               
000b02   c0b8     MOVFF     0xb8,0x13                                                                                       
000b04   f013                                                                                                               
000b06   d000     BRA       0xb08                                                                                           
000b08   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBoot\Source\Main.c
                                           #pragma code user = RM_RESET_VECTOR                                              F:\MCP\projects\CAN\canBoot\Source\Main.c
