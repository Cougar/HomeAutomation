   1               		.file	"mcu.c"
   2               		.arch atmega168
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  11               		.text
  12               	.Ltext0:
  70               	.global	Mcu_Init
  72               	Mcu_Init:
   1:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** /**
   2:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * MCU driver.
   3:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * 
   4:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * @date	2006-11-19
   5:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * 
   6:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * @author	Jimmy Myhrman
   7:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  *   
   8:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  */
   9:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 
  10:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** /*-----------------------------------------------------------------------------
  11:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * Includes
  12:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  *---------------------------------------------------------------------------*/
  13:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** #include <avr/interrupt.h>
  14:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** #include <config.h>
  15:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** #include <drivers/mcu/mcu.h>
  16:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 
  17:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 
  18:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** /*-----------------------------------------------------------------------------
  19:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * Public Functions
  20:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  *---------------------------------------------------------------------------*/
  21:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 
  22:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** /**
  23:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * Initialize MCU. If the MCU is mega88, the internal clock frequency will be
  24:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * set to 8MHz. Interrupts must not be enabled when calling this function!
  25:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  */
  26:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** void Mcu_Init() {
  74               	.LM0:
  75               	/* prologue: frame size=0 */
  76               	/* prologue end (size=0) */
  27:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** #if defined(__AVR_ATmega88__) || defined(__AVR_ATmega168__)
  28:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	// set the clock speed to 8MHz
  29:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	// set the clock prescaler. First write CLKPCE to enable setting of clock the
  30:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	// next four instructions.
  31:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	CLKPR=(1<<CLKPCE);
  78               	.LM1:
  79 0000 E1E6      		ldi r30,lo8(97)
  80 0002 F0E0      		ldi r31,hi8(97)
  81 0004 80E8      		ldi r24,lo8(-128)
  82 0006 8083      		st Z,r24
  32:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#ifndef AVR_CLOCK_PRESC
  33:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=0; // 8 MHZ
  84               	.LM2:
  85 0008 1082      		st Z,__zero_reg__
  86               	/* epilogue: frame size=0 */
  87 000a 0895      		ret
  88               	/* epilogue end (size=1) */
  89               	/* function Mcu_Init size 6 (5) */
  91               	.Lscope0:
  93               	.global	Mcu_EnableIRQ
  95               	Mcu_EnableIRQ:
  34:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#endif
  35:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	
  36:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#if AVR_CLOCK_PRESC == 1
  37:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=0; // 8 MHZ
  38:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#elif AVR_CLOCK_PRESC == 2
  39:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=1; // 4 MHZ
  40:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#elif AVR_CLOCK_PRESC == 4
  41:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=2; // 2 MHZ
  42:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#elif AVR_CLOCK_PRESC == 8
  43:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=3; // 1 MHZ
  44:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#elif AVR_CLOCK_PRESC == 16
  45:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=4; // 500 kHZ
  46:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#elif AVR_CLOCK_PRESC == 32
  47:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=5; // 250 kHZ
  48:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#elif AVR_CLOCK_PRESC == 64
  49:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=6; // 125 kHZ
  50:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#elif AVR_CLOCK_PRESC == 128
  51:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=7; // 62.5 kHZ
  52:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#elif AVR_CLOCK_PRESC == 256
  53:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		CLKPR=8; // 31.25 kHZ
  54:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#endif
  55:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** #endif
  56:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** }
  57:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 
  58:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** /**
  59:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * Enable interrupts.
  60:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  */
  61:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** void Mcu_EnableIRQ() {
  97               	.LM3:
  98               	/* prologue: frame size=0 */
  99               	/* prologue end (size=0) */
  62:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#if MCU == atmega8
  63:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		sei();
 101               	.LM4:
 102               	/* #APP */
 103 000c 7894      		sei
 104               	/* #NOAPP */
 105               	/* epilogue: frame size=0 */
 106 000e 0895      		ret
 107               	/* epilogue end (size=1) */
 108               	/* function Mcu_EnableIRQ size 3 (2) */
 110               	.Lscope1:
 112               	.global	Mcu_DisableIRQ
 114               	Mcu_DisableIRQ:
  64:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#endif
  65:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** }
  66:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 
  67:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** /**
  68:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  * Disable interrupts.
  69:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c ****  */
  70:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** void Mcu_DisableIRQ() {
 116               	.LM5:
 117               	/* prologue: frame size=0 */
 118               	/* prologue end (size=0) */
  71:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 	#if MCU == atmega8
  72:/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c **** 		cli();
 120               	.LM6:
 121               	/* #APP */
 122 0010 F894      		cli
 123               	/* #NOAPP */
 124               	/* epilogue: frame size=0 */
 125 0012 0895      		ret
 126               	/* epilogue end (size=1) */
 127               	/* function Mcu_DisableIRQ size 3 (2) */
 129               	.Lscope2:
 131               	.Letext0:
 132               	/* File "/home/linus/HomeAutomation/trunk/EmbeddedSoftware/AVR/avr-lib/drivers/mcu/mcu.c": code   1
DEFINED SYMBOLS
                            *ABS*:00000000 mcu.c
     /tmp/cceRLvwt.s:3      *ABS*:0000003f __SREG__
     /tmp/cceRLvwt.s:4      *ABS*:0000003e __SP_H__
     /tmp/cceRLvwt.s:5      *ABS*:0000003d __SP_L__
     /tmp/cceRLvwt.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/cceRLvwt.s:7      *ABS*:00000001 __zero_reg__
     /tmp/cceRLvwt.s:72     .text:00000000 Mcu_Init
     /tmp/cceRLvwt.s:95     .text:0000000c Mcu_EnableIRQ
     /tmp/cceRLvwt.s:114    .text:00000010 Mcu_DisableIRQ

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
