MP2COD 4.02, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Mon Nov 13 21:58:09 2006


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /*********************************************************************           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                  Ticker service                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *********************************************************************           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * FileName:        Tick.c                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_INCLUDE                                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #include <Compiler.h>                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_TEMP_VALUE_1 ((INSTR_FREQ) / (TICKS_PER_SECOND * TICK_PRESCALE_VALUE)) F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #if TICK_TEMP_VALUE_1 > 60000                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #error TICK_PER_SECOND value cannot be programmed with current CLOCK_FREQ        F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #error Either lower TICK_PER_SECOND or manually configure the Timer              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_TEMP_VALUE         (65535 - TICK_TEMP_VALUE_1)                      F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_COUNTER_HIGH       ((TICK_TEMP_VALUE >> 8) & 0xff)                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_COUNTER_LOW        (TICK_TEMP_VALUE & 0xff)                         F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #if (TICK_PRESCALE_VALUE == 2)                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (0)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 4 )                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (1)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 8 )                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (2)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 16 )                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (3)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 32 )                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (4)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 64 )                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (5)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 128 )                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (6)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 256 )                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (7)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #else                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #error Invalid TICK_PRESCALE_VALUE specified.                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           TICK TickCount = 0;	// 10ms/unit                                                 F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Function: TickInit                                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Output: Tick manager is initialized.                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define PERIOD (INSTR_FREQ/256/1000)*TICK_PERIOD_MS                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           void tickInit(void)                                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canBase\Source\Tick.c
001a7a   0e79     MOVLW     0x79               TMR0L = TICK_COUNTER_LOW;                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
001a7c   6ed6     MOVWF     0xd6,0x0                                                                                        
001a7e   0efe     MOVLW     0xfe               TMR0H = TICK_COUNTER_HIGH;                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
001a80   6ed7     MOVWF     0xd7,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               // 16-BIT, internal timer, PSA set to 1:256                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
001a82   0e07     MOVLW     0x7                T0CON = 0b00000000 | TIMER_PRESCALE;                                         F:\MCP\projects\CAN\canBase\Source\Tick.c
001a84   6ed5     MOVWF     0xd5,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canBase\Source\Tick.c
001a86   8ed5     BSF       0xd5,0x7,0x0       T0CONbits.TMR0ON = 1;                                                        F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
001a88   84f2     BSF       0xf2,0x2,0x0       INTCONbits.TMR0IF = 1;                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
001a8a   8af2     BSF       0xf2,0x5,0x0       INTCONbits.TMR0IE = 1;                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
001a8c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Function: TickGet                                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Output: Current tick value is given, 1 tick represents approximately 10ms      F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           TICK tickGet(void)                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
001a8e   c074     MOVFF     0x74,0x18          return TickCount;                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
001a90   f018                                                                                                               
001a92   c075     MOVFF     0x75,0x19                                                                                       
001a94   f019                                                                                                               
001a96   c076     MOVFF     0x76,0x1a                                                                                       
001a98   f01a                                                                                                               
001a9a   c077     MOVFF     0x77,0x1b                                                                                       
001a9c   f01b                                                                                                               
001a9e   d000     BRA       0x1aa0                                                                                          
001aa0   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Function: tickUpdate                                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           void tickUpdate(void)                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
001aa2   a4f2     BTFSS     0xf2,0x2,0x0       if(INTCONbits.TMR0IF)                                                        F:\MCP\projects\CAN\canBase\Source\Tick.c
001aa4   d00b     BRA       0x1abc                                                                                          
                                               {                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
001aa6   0efe     MOVLW     0xfe                   TMR0H = TICK_COUNTER_HIGH;                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
001aa8   6ed7     MOVWF     0xd7,0x0                                                                                        
001aaa   0e79     MOVLW     0x79                   TMR0L = TICK_COUNTER_LOW;                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
001aac   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
001aae   0100     MOVLB     0x0                    TickCount++;                                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
001ab0   2b74     INCF      0x74,0x1,0x1                                                                                    
001ab2   0e00     MOVLW     0x0                                                                                             
001ab4   2375     ADDWFC    0x75,0x1,0x1                                                                                    
001ab6   2376     ADDWFC    0x76,0x1,0x1                                                                                    
001ab8   2377     ADDWFC    0x77,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
001aba   94f2     BCF       0xf2,0x2,0x0           INTCONbits.TMR0IF = 0;                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               }                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
001abc   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                  CAN driver                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *********************************************************************           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * FileName:        CAN.c                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <CANdefs.h>                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           static void canGetPacket(void);                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canInit                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: Changes can registers.                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           void canInit()                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
001044   0e80     MOVLW     0x80           	CANCON = 0x80; //request config mode                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
001046   6e6f     MOVWF     0x6f,0x0                                                                                        
001048   0ee0     MOVLW     0xe0           	while ((CANSTAT & 0xE0) != 0x80 ); //wait for config mode request               F:\MCP\projects\CAN\canBase\Source\CAN.c
00104a   146e     ANDWF     0x6e,0x0,0x0                                                                                    
00104c   0880     SUBLW     0x80                                                                                            
00104e   e001     BZ        0x1052                                                                                          
001050   d7fb     BRA       0x1048                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// BAUD AND TQS                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
001052   6a70     CLRF      0x70,0x0       	BRGCON1=0;                                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Sync_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
001054   9e70     BCF       0x70,0x7,0x0   	BRGCON1bits.SJW1=0;                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
001056   8c70     BSF       0x70,0x6,0x0   	BRGCON1bits.SJW0=1;                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Setting BRP.                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
001058   0e04     MOVLW     0x4            	BRGCON1=BRGCON1|CAN_BRP;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
00105a   1070     IORWF     0x70,0x0,0x0                                                                                    
00105c   6e70     MOVWF     0x70,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Maximum PHEG1                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00105e   8e71     BSF       0x71,0x7,0x0   	BRGCON2bits.SEG2PHTS = 1;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Phase_Seg1 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
001060   9a71     BCF       0x71,0x5,0x0   	BRGCON2bits.SEG1PH2 = 0;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
001062   9871     BCF       0x71,0x4,0x0   	BRGCON2bits.SEG1PH1 = 0;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
001064   8671     BSF       0x71,0x3,0x0   	BRGCON2bits.SEG1PH0 = 1;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Prop_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
001066   9471     BCF       0x71,0x2,0x0   	BRGCON2bits.PRSEG2 = 0;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
001068   9271     BCF       0x71,0x1,0x0   	BRGCON2bits.PRSEG1 = 0;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
00106a   8071     BSF       0x71,0x0,0x0   	BRGCON2bits.PRSEG0 = 1;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//  Enableing bus wake-up                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
00106c   9e72     BCF       0x72,0x7,0x0   	BRGCON3bits.WAKDIS = 0;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Dont use filter when wakeup                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
00106e   9c72     BCF       0x72,0x6,0x0   	BRGCON3bits.WAKFIL = 0;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Phase_Seg2 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
001070   9472     BCF       0x72,0x2,0x0   	BRGCON3bits.SEG2PH2 = 0;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
001072   9272     BCF       0x72,0x1,0x0   	BRGCON3bits.SEG2PH1 = 0;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
001074   8072     BSF       0x72,0x0,0x0   	BRGCON3bits.SEG2PH0 = 1;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
001076   6a77     CLRF      0x77,0x0       	ECANCON=0;                                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
001078   9e77     BCF       0x77,0x7,0x0   	ECANCONbits.MDSEL1 = 0;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
00107a   8c77     BSF       0x77,0x6,0x0   	ECANCONbits.MDSEL0 = 1;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// FILTERS AND MASKS                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00107c   8c60     BSF       0x60,0x6,0x0   	RXB0CONbits.RXM1=1;                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
00107e   9a60     BCF       0x60,0x5,0x0   	RXB0CONbits.RXM0=0;                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// INTERRUPTS                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Diable transmit interrupt                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
001080   010d     MOVLB     0xd            	TXBIE = 0;                                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
001082   6bfc     CLRF      0xfc,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//rx any interrupt                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
001084   6aa4     CLRF      0xa4,0x0       	PIR3 = 0;                                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
001086   0e03     MOVLW     0x3            	PIE3 = 0b00000011;                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
001088   6ea3     MOVWF     0xa3,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// High interrupt                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00108a   6ea5     MOVWF     0xa5,0x0       	IPR3 =0b00000011;                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Programmable buffers interrupt                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00108c   69fa     SETF      0xfa,0x1       	BIE0  = 0xFF;	                                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//loopback mode or not                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	#ifdef CAN_LOOPBACK_MODE                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		CANCON = 0x40;//request loopback mode                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		while ((CANSTAT & 0xE0) != 0x40 );//wait for loopback mode                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	#else                                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
00108e   6a6f     CLRF      0x6f,0x0       		CANCON = 0x00;//request normal mode                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
001090   0ee0     MOVLW     0xe0           		while ((CANSTAT & 0xE0) != 0x00 );//wait for normal mode                       F:\MCP\projects\CAN\canBase\Source\CAN.c
001092   146e     ANDWF     0x6e,0x0,0x0                                                                                    
001094   e001     BZ        0x1098                                                                                          
001096   d7fc     BRA       0x1090                                                                                          
                                           	#endif                                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
001098   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canISR                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: a call to canInit()                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: interrupt registers and receive data buffers                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           void canISR()                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00109a   50a4     MOVF      0xa4,0x0,0x0   	if (PIR3bits.RXBnIF || PIR3bits.RXB1IF || PIR3bits.RXB0IF)                      F:\MCP\projects\CAN\canBase\Source\CAN.c
00109c   0b02     ANDLW     0x2                                                                                             
00109e   e106     BNZ       0x10ac                                                                                          
0010a0   50a4     MOVF      0xa4,0x0,0x0                                                                                    
0010a2   0b02     ANDLW     0x2                                                                                             
0010a4   e103     BNZ       0x10ac                                                                                          
0010a6   50a4     MOVF      0xa4,0x0,0x0                                                                                    
0010a8   0b01     ANDLW     0x1                                                                                             
0010aa   e047     BZ        0x113a                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Get which buffer that is ful.                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
0010ac   ae60     BTFSS     0x60,0x7,0x0   			 if (RXB0CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10000; canGetPacket(); } F:\MCP\projects\CAN\canBase\Source\CAN.c
0010ae   d006     BRA       0x10bc                                                                                          
0010b0   0e00     MOVLW     0x0                                                                                             
0010b2   1477     ANDWF     0x77,0x0,0x0                                                                                    
0010b4   0910     IORLW     0x10                                                                                            
0010b6   6e77     MOVWF     0x77,0x0                                                                                        
0010b8   d841     RCALL     0x113c                                                                                          
0010ba   d039     BRA       0x112e         		else if (RXB1CONbits.RXFUL) { ECANCON=(ECANCON&0b00000)|0b10001; canGetPacket(); } F:\MCP\projects\CAN\canBase\Source\CAN.c
0010bc   010f     MOVLB     0xf                                                                                             
0010be   af50     BTFSS     0x50,0x7,0x1                                                                                    
0010c0   d006     BRA       0x10ce                                                                                          
0010c2   0e00     MOVLW     0x0                                                                                             
0010c4   1477     ANDWF     0x77,0x0,0x0                                                                                    
0010c6   0911     IORLW     0x11                                                                                            
0010c8   6e77     MOVWF     0x77,0x0                                                                                        
0010ca   d838     RCALL     0x113c                                                                                          
0010cc   d030     BRA       0x112e         		else if (B0CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10010; canGetPacket(); } F:\MCP\projects\CAN\canBase\Source\CAN.c
0010ce   010e     MOVLB     0xe                                                                                             
0010d0   af20     BTFSS     0x20,0x7,0x1                                                                                    
0010d2   d006     BRA       0x10e0                                                                                          
0010d4   0e00     MOVLW     0x0                                                                                             
0010d6   1477     ANDWF     0x77,0x0,0x0                                                                                    
0010d8   0912     IORLW     0x12                                                                                            
0010da   6e77     MOVWF     0x77,0x0                                                                                        
0010dc   d82f     RCALL     0x113c                                                                                          
0010de   d027     BRA       0x112e         		else if (B1CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10011; canGetPacket(); } F:\MCP\projects\CAN\canBase\Source\CAN.c
0010e0   af30     BTFSS     0x30,0x7,0x1                                                                                    
0010e2   d006     BRA       0x10f0                                                                                          
0010e4   0e00     MOVLW     0x0                                                                                             
0010e6   1477     ANDWF     0x77,0x0,0x0                                                                                    
0010e8   0913     IORLW     0x13                                                                                            
0010ea   6e77     MOVWF     0x77,0x0                                                                                        
0010ec   d827     RCALL     0x113c                                                                                          
0010ee   d01f     BRA       0x112e         		else if (B2CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10100; canGetPacket(); } F:\MCP\projects\CAN\canBase\Source\CAN.c
0010f0   af40     BTFSS     0x40,0x7,0x1                                                                                    
0010f2   d006     BRA       0x1100                                                                                          
0010f4   0e00     MOVLW     0x0                                                                                             
0010f6   1477     ANDWF     0x77,0x0,0x0                                                                                    
0010f8   0914     IORLW     0x14                                                                                            
0010fa   6e77     MOVWF     0x77,0x0                                                                                        
0010fc   d81f     RCALL     0x113c                                                                                          
0010fe   d017     BRA       0x112e         		else if (B3CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10101; canGetPacket(); } F:\MCP\projects\CAN\canBase\Source\CAN.c
001100   af50     BTFSS     0x50,0x7,0x1                                                                                    
001102   d006     BRA       0x1110                                                                                          
001104   0e00     MOVLW     0x0                                                                                             
001106   1477     ANDWF     0x77,0x0,0x0                                                                                    
001108   0915     IORLW     0x15                                                                                            
00110a   6e77     MOVWF     0x77,0x0                                                                                        
00110c   d817     RCALL     0x113c                                                                                          
00110e   d00f     BRA       0x112e         		else if (B4CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10110; canGetPacket(); } F:\MCP\projects\CAN\canBase\Source\CAN.c
001110   af60     BTFSS     0x60,0x7,0x1                                                                                    
001112   d006     BRA       0x1120                                                                                          
001114   0e00     MOVLW     0x0                                                                                             
001116   1477     ANDWF     0x77,0x0,0x0                                                                                    
001118   0916     IORLW     0x16                                                                                            
00111a   6e77     MOVWF     0x77,0x0                                                                                        
00111c   d80f     RCALL     0x113c                                                                                          
00111e   d007     BRA       0x112e         		else if (B5CONbits.RXFUL) 	{ ECANCON=(ECANCON&0b00000)|0b10111; canGetPacket(); } F:\MCP\projects\CAN\canBase\Source\CAN.c
001120   af70     BTFSS     0x70,0x7,0x1                                                                                    
001122   d005     BRA       0x112e                                                                                          
001124   0e00     MOVLW     0x0                                                                                             
001126   1477     ANDWF     0x77,0x0,0x0                                                                                    
001128   0917     IORLW     0x17                                                                                            
00112a   6e77     MOVWF     0x77,0x0                                                                                        
00112c   d807     RCALL     0x113c                                                                                          
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00112e   b2a4     BTFSC     0xa4,0x1,0x0   		if (PIR3bits.RXBnIF) {PIR3bits.RXBnIF = 0;}                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
001130   92a4     BCF       0xa4,0x1,0x0                                                                                    
001132   b2a4     BTFSC     0xa4,0x1,0x0   		if (PIR3bits.RXB1IF) {PIR3bits.RXB1IF = 0;}                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
001134   92a4     BCF       0xa4,0x1,0x0                                                                                    
001136   b0a4     BTFSC     0xa4,0x0,0x0   		if (PIR3bits.RXB0IF) {PIR3bits.RXB0IF = 0;}                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
001138   90a4     BCF       0xa4,0x0,0x0                                                                                    
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00113a   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canGetPacket                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: a call to canISR and an packet is available and banked to RXB0 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: Calls canParse() function in main for parsing received packet.        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00113c   cfd9     MOVFF     0xfd9,0xfe6    void canGetPacket()                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
00113e   ffe6                                                                                                               
001140   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001142   ffd9                                                                                                               
001144   0e0f     MOVLW     0xf                                                                                             
001146   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		CAN_MESSAGE cm;                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Set extended mode or not.                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
001148   5062     MOVF      0x62,0x0,0x0   		cm.extended=(RXB0SIDLbits.EXID==0?FALSE:TRUE);                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
00114a   0b08     ANDLW     0x8                                                                                             
00114c   e102     BNZ       0x1152                                                                                          
00114e   0e00     MOVLW     0x0                                                                                             
001150   d001     BRA       0x1154                                                                                          
001152   0e01     MOVLW     0x1                                                                                             
001154   6ee7     MOVWF     0xe7,0x0                                                                                        
001156   0e04     MOVLW     0x4                                                                                             
001158   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00115a   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Clear                                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
00115c   6ade     CLRF      0xde,0x0       		cm.ident=0;                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
00115e   6ade     CLRF      0xde,0x0                                                                                        
001160   6ade     CLRF      0xde,0x0                                                                                        
001162   6add     CLRF      0xdd,0x0                                                                                        
001164   52dd     MOVF      0xdd,0x1,0x0                                                                                    
001166   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
001168   04db     DECF      0xdb,0x0,0x0   		if (cm.extended==TRUE)                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
00116a   e16f     BNZ       0x124a                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			//Read extended ident.                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			//xx xx xx 28 27 26 25 24   23 22 21 20 19 18 17 16   15 14 13 12 11 10 09 08   07 06 05 04 03 02 01 00 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0SIDH 28 27 26 25 24 23 22 21                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0SIDL 20 19 18 xx xx xx 17 16                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0EIDH 15 14 13 12 11 10 09 08                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0EIDL 07 06 05 04 03 02 01 00                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00116c   5061     MOVF      0x61,0x0,0x0           	cm.ident = (((DWORD)RXB0SIDH)<<21) + (((DWORD)(RXB0SIDL & 0xE0))<<13) + (((DWORD)(RXB0SIDL & 0x03))<<16) + (((DWORD)RXB0EIDH)<<8) + (BYTE)RXB0EIDL; F:\MCP\projects\CAN\canBase\Source\CAN.c
00116e   6e00     MOVWF     0x0,0x0                                                                                         
001170   6a01     CLRF      0x1,0x0                                                                                         
001172   6a02     CLRF      0x2,0x0                                                                                         
001174   6a03     CLRF      0x3,0x0                                                                                         
001176   0e15     MOVLW     0x15                                                                                            
001178   0b1f     ANDLW     0x1f                                                                                            
00117a   e007     BZ        0x118a                                                                                          
00117c   90d8     BCF       0xd8,0x0,0x0                                                                                    
00117e   3600     RLCF      0x0,0x1,0x0                                                                                     
001180   3601     RLCF      0x1,0x1,0x0                                                                                     
001182   3602     RLCF      0x2,0x1,0x0                                                                                     
001184   3603     RLCF      0x3,0x1,0x0                                                                                     
001186   06e8     DECF      0xe8,0x1,0x0                                                                                    
001188   e1f9     BNZ       0x117c                                                                                          
00118a   0ee0     MOVLW     0xe0                                                                                            
00118c   1462     ANDWF     0x62,0x0,0x0                                                                                    
00118e   6e04     MOVWF     0x4,0x0                                                                                         
001190   6a05     CLRF      0x5,0x0                                                                                         
001192   6a06     CLRF      0x6,0x0                                                                                         
001194   6a07     CLRF      0x7,0x0                                                                                         
001196   0e0d     MOVLW     0xd                                                                                             
001198   0b1f     ANDLW     0x1f                                                                                            
00119a   e007     BZ        0x11aa                                                                                          
00119c   90d8     BCF       0xd8,0x0,0x0                                                                                    
00119e   3604     RLCF      0x4,0x1,0x0                                                                                     
0011a0   3605     RLCF      0x5,0x1,0x0                                                                                     
0011a2   3606     RLCF      0x6,0x1,0x0                                                                                     
0011a4   3607     RLCF      0x7,0x1,0x0                                                                                     
0011a6   06e8     DECF      0xe8,0x1,0x0                                                                                    
0011a8   e1f9     BNZ       0x119c                                                                                          
0011aa   5004     MOVF      0x4,0x0,0x0                                                                                     
0011ac   2600     ADDWF     0x0,0x1,0x0                                                                                     
0011ae   5005     MOVF      0x5,0x0,0x0                                                                                     
0011b0   2201     ADDWFC    0x1,0x1,0x0                                                                                     
0011b2   5006     MOVF      0x6,0x0,0x0                                                                                     
0011b4   2202     ADDWFC    0x2,0x1,0x0                                                                                     
0011b6   5007     MOVF      0x7,0x0,0x0                                                                                     
0011b8   2203     ADDWFC    0x3,0x1,0x0                                                                                     
0011ba   0e03     MOVLW     0x3                                                                                             
0011bc   1462     ANDWF     0x62,0x0,0x0                                                                                    
0011be   6e08     MOVWF     0x8,0x0                                                                                         
0011c0   6a09     CLRF      0x9,0x0                                                                                         
0011c2   6a0a     CLRF      0xa,0x0                                                                                         
0011c4   6a0b     CLRF      0xb,0x0                                                                                         
0011c6   0e10     MOVLW     0x10                                                                                            
0011c8   0b1f     ANDLW     0x1f                                                                                            
0011ca   e007     BZ        0x11da                                                                                          
0011cc   90d8     BCF       0xd8,0x0,0x0                                                                                    
0011ce   3608     RLCF      0x8,0x1,0x0                                                                                     
0011d0   3609     RLCF      0x9,0x1,0x0                                                                                     
0011d2   360a     RLCF      0xa,0x1,0x0                                                                                     
0011d4   360b     RLCF      0xb,0x1,0x0                                                                                     
0011d6   06e8     DECF      0xe8,0x1,0x0                                                                                    
0011d8   e1f9     BNZ       0x11cc                                                                                          
0011da   5008     MOVF      0x8,0x0,0x0                                                                                     
0011dc   2600     ADDWF     0x0,0x1,0x0                                                                                     
0011de   5009     MOVF      0x9,0x0,0x0                                                                                     
0011e0   2201     ADDWFC    0x1,0x1,0x0                                                                                     
0011e2   500a     MOVF      0xa,0x0,0x0                                                                                     
0011e4   2202     ADDWFC    0x2,0x1,0x0                                                                                     
0011e6   500b     MOVF      0xb,0x0,0x0                                                                                     
0011e8   2203     ADDWFC    0x3,0x1,0x0                                                                                     
0011ea   5063     MOVF      0x63,0x0,0x0                                                                                    
0011ec   6e0c     MOVWF     0xc,0x0                                                                                         
0011ee   6a0d     CLRF      0xd,0x0                                                                                         
0011f0   6a0e     CLRF      0xe,0x0                                                                                         
0011f2   6a0f     CLRF      0xf,0x0                                                                                         
0011f4   0e08     MOVLW     0x8                                                                                             
0011f6   0b1f     ANDLW     0x1f                                                                                            
0011f8   e007     BZ        0x1208                                                                                          
0011fa   90d8     BCF       0xd8,0x0,0x0                                                                                    
0011fc   360c     RLCF      0xc,0x1,0x0                                                                                     
0011fe   360d     RLCF      0xd,0x1,0x0                                                                                     
001200   360e     RLCF      0xe,0x1,0x0                                                                                     
001202   360f     RLCF      0xf,0x1,0x0                                                                                     
001204   06e8     DECF      0xe8,0x1,0x0                                                                                    
001206   e1f9     BNZ       0x11fa                                                                                          
001208   500c     MOVF      0xc,0x0,0x0                                                                                     
00120a   2600     ADDWF     0x0,0x1,0x0                                                                                     
00120c   500d     MOVF      0xd,0x0,0x0                                                                                     
00120e   2201     ADDWFC    0x1,0x1,0x0                                                                                     
001210   500e     MOVF      0xe,0x0,0x0                                                                                     
001212   2202     ADDWFC    0x2,0x1,0x0                                                                                     
001214   500f     MOVF      0xf,0x0,0x0                                                                                     
001216   2203     ADDWFC    0x3,0x1,0x0                                                                                     
001218   5064     MOVF      0x64,0x0,0x0                                                                                    
00121a   6e10     MOVWF     0x10,0x0                                                                                        
00121c   6a11     CLRF      0x11,0x0                                                                                        
00121e   6a12     CLRF      0x12,0x0                                                                                        
001220   6a13     CLRF      0x13,0x0                                                                                        
001222   5010     MOVF      0x10,0x0,0x0                                                                                    
001224   2600     ADDWF     0x0,0x1,0x0                                                                                     
001226   5011     MOVF      0x11,0x0,0x0                                                                                    
001228   2201     ADDWFC    0x1,0x1,0x0                                                                                     
00122a   5012     MOVF      0x12,0x0,0x0                                                                                    
00122c   2202     ADDWFC    0x2,0x1,0x0                                                                                     
00122e   5013     MOVF      0x13,0x0,0x0                                                                                    
001230   2203     ADDWFC    0x3,0x1,0x0                                                                                     
001232   c000     MOVFF     0x0,0xfdf                                                                                       
001234   ffdf                                                                                                               
001236   0e01     MOVLW     0x1                                                                                             
001238   c001     MOVFF     0x1,0xfdb                                                                                       
00123a   ffdb                                                                                                               
00123c   0e02     MOVLW     0x2                                                                                             
00123e   c002     MOVFF     0x2,0xfdb                                                                                       
001240   ffdb                                                                                                               
001242   0e03     MOVLW     0x3                                                                                             
001244   c003     MOVFF     0x3,0xfdb                                                                                       
001246   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
001248   d02f     BRA       0x12a8         		else                                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			//Read standard ident.                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			//xx xx xx xx xx 10 09 08   07 06 05 04 03 02 01 00                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0SIDH 10 09 08 07 06 05 04 03                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0SIDL 02 01 00 xx xx xx xx xx                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00124a   5061     MOVF      0x61,0x0,0x0   			cm.ident = (((DWORD)RXB0SIDH)<<3) + (((DWORD)RXB0SIDL)>>5);                   F:\MCP\projects\CAN\canBase\Source\CAN.c
00124c   6e00     MOVWF     0x0,0x0                                                                                         
00124e   6a01     CLRF      0x1,0x0                                                                                         
001250   6a02     CLRF      0x2,0x0                                                                                         
001252   6a03     CLRF      0x3,0x0                                                                                         
001254   0e03     MOVLW     0x3                                                                                             
001256   0b1f     ANDLW     0x1f                                                                                            
001258   e007     BZ        0x1268                                                                                          
00125a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00125c   3600     RLCF      0x0,0x1,0x0                                                                                     
00125e   3601     RLCF      0x1,0x1,0x0                                                                                     
001260   3602     RLCF      0x2,0x1,0x0                                                                                     
001262   3603     RLCF      0x3,0x1,0x0                                                                                     
001264   06e8     DECF      0xe8,0x1,0x0                                                                                    
001266   e1f9     BNZ       0x125a                                                                                          
001268   5062     MOVF      0x62,0x0,0x0                                                                                    
00126a   6e04     MOVWF     0x4,0x0                                                                                         
00126c   6a05     CLRF      0x5,0x0                                                                                         
00126e   6a06     CLRF      0x6,0x0                                                                                         
001270   6a07     CLRF      0x7,0x0                                                                                         
001272   0e05     MOVLW     0x5                                                                                             
001274   90d8     BCF       0xd8,0x0,0x0                                                                                    
001276   3207     RRCF      0x7,0x1,0x0                                                                                     
001278   3206     RRCF      0x6,0x1,0x0                                                                                     
00127a   3205     RRCF      0x5,0x1,0x0                                                                                     
00127c   3204     RRCF      0x4,0x1,0x0                                                                                     
00127e   06e8     DECF      0xe8,0x1,0x0                                                                                    
001280   e1f9     BNZ       0x1274                                                                                          
001282   5004     MOVF      0x4,0x0,0x0                                                                                     
001284   2600     ADDWF     0x0,0x1,0x0                                                                                     
001286   5005     MOVF      0x5,0x0,0x0                                                                                     
001288   2201     ADDWFC    0x1,0x1,0x0                                                                                     
00128a   5006     MOVF      0x6,0x0,0x0                                                                                     
00128c   2202     ADDWFC    0x2,0x1,0x0                                                                                     
00128e   5007     MOVF      0x7,0x0,0x0                                                                                     
001290   2203     ADDWFC    0x3,0x1,0x0                                                                                     
001292   c000     MOVFF     0x0,0xfdf                                                                                       
001294   ffdf                                                                                                               
001296   0e01     MOVLW     0x1                                                                                             
001298   c001     MOVFF     0x1,0xfdb                                                                                       
00129a   ffdb                                                                                                               
00129c   0e02     MOVLW     0x2                                                                                             
00129e   c002     MOVFF     0x2,0xfdb                                                                                       
0012a0   ffdb                                                                                                               
0012a2   0e03     MOVLW     0x3                                                                                             
0012a4   c003     MOVFF     0x3,0xfdb                                                                                       
0012a6   ffdb                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0012a8   5065     MOVF      0x65,0x0,0x0   		cm.data_length=(RXB0DLCbits.DLC3<<3)+(RXB0DLCbits.DLC2<<2)+(RXB0DLCbits.DLC1<<1)+RXB0DLCbits.DLC0; F:\MCP\projects\CAN\canBase\Source\CAN.c
0012aa   0b01     ANDLW     0x1                                                                                             
0012ac   6e02     MOVWF     0x2,0x0                                                                                         
0012ae   5065     MOVF      0x65,0x0,0x0                                                                                    
0012b0   0b02     ANDLW     0x2                                                                                             
0012b2   e001     BZ        0x12b6                                                                                          
0012b4   0e01     MOVLW     0x1                                                                                             
0012b6   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
0012b8   6e01     MOVWF     0x1,0x0                                                                                         
0012ba   5065     MOVF      0x65,0x0,0x0                                                                                    
0012bc   0b04     ANDLW     0x4                                                                                             
0012be   e001     BZ        0x12c2                                                                                          
0012c0   0e01     MOVLW     0x1                                                                                             
0012c2   0d04     MULLW     0x4                                                                                             
0012c4   cff3     MOVFF     0xff3,0x0                                                                                       
0012c6   f000                                                                                                               
0012c8   5065     MOVF      0x65,0x0,0x0                                                                                    
0012ca   0b08     ANDLW     0x8                                                                                             
0012cc   e001     BZ        0x12d0                                                                                          
0012ce   0e01     MOVLW     0x1                                                                                             
0012d0   0d08     MULLW     0x8                                                                                             
0012d2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0012d4   2400     ADDWF     0x0,0x0,0x0                                                                                     
0012d6   2401     ADDWF     0x1,0x0,0x0                                                                                     
0012d8   2402     ADDWF     0x2,0x0,0x0                                                                                     
0012da   6ee7     MOVWF     0xe7,0x0                                                                                        
0012dc   0e06     MOVLW     0x6                                                                                             
0012de   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0012e0   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Remote request                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
0012e2   5065     MOVF      0x65,0x0,0x0   		cm.remote_request=(RXB0DLCbits.RXRTR==0?FALSE:TRUE);                           F:\MCP\projects\CAN\canBase\Source\CAN.c
0012e4   0b40     ANDLW     0x40                                                                                            
0012e6   e102     BNZ       0x12ec                                                                                          
0012e8   0e00     MOVLW     0x0                                                                                             
0012ea   d001     BRA       0x12ee                                                                                          
0012ec   0e01     MOVLW     0x1                                                                                             
0012ee   6ee7     MOVWF     0xe7,0x0                                                                                        
0012f0   0e05     MOVLW     0x5                                                                                             
0012f2   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0012f4   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0012f6   0e07     MOVLW     0x7            		cm.data[0]=RXB0D0;	cm.data[1]=RXB0D1;                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
0012f8   cf66     MOVFF     0xf66,0xfdb                                                                                     
0012fa   ffdb                                                                                                               
0012fc   0e08     MOVLW     0x8                                                                                             
0012fe   cf67     MOVFF     0xf67,0xfdb                                                                                     
001300   ffdb                                                                                                               
001302   0e09     MOVLW     0x9            		cm.data[2]=RXB0D2; 	cm.data[3]=RXB0D3;                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
001304   cf68     MOVFF     0xf68,0xfdb                                                                                     
001306   ffdb                                                                                                               
001308   0e0a     MOVLW     0xa                                                                                             
00130a   cf69     MOVFF     0xf69,0xfdb                                                                                     
00130c   ffdb                                                                                                               
00130e   0e0b     MOVLW     0xb            		cm.data[4]=RXB0D4; 	cm.data[5]=RXB0D5;                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
001310   cf6a     MOVFF     0xf6a,0xfdb                                                                                     
001312   ffdb                                                                                                               
001314   0e0c     MOVLW     0xc                                                                                             
001316   cf6b     MOVFF     0xf6b,0xfdb                                                                                     
001318   ffdb                                                                                                               
00131a   0e0d     MOVLW     0xd            		cm.data[6]=RXB0D6; 	cm.data[7]=RXB0D7;                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
00131c   cf6c     MOVFF     0xf6c,0xfdb                                                                                     
00131e   ffdb                                                                                                               
001320   0e0e     MOVLW     0xe                                                                                             
001322   cf6d     MOVFF     0xf6d,0xfdb                                                                                     
001324   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Clear ful status                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
001326   9e60     BCF       0x60,0x7,0x0   		RXB0CONbits.RXFUL=0;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		//Call main parser                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
001328   cfd9     MOVFF     0xfd9,0xfe9    		canParse(cm);                                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
00132a   ffe9                                                                                                               
00132c   cfda     MOVFF     0xfda,0xfea                                                                                     
00132e   ffea                                                                                                               
001330   cfee     MOVFF     0xfee,0xfe6                                                                                     
001332   ffe6                                                                                                               
001334   cfee     MOVFF     0xfee,0xfe6                                                                                     
001336   ffe6                                                                                                               
001338   cfee     MOVFF     0xfee,0xfe6                                                                                     
00133a   ffe6                                                                                                               
00133c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00133e   ffe6                                                                                                               
001340   cfee     MOVFF     0xfee,0xfe6                                                                                     
001342   ffe6                                                                                                               
001344   cfee     MOVFF     0xfee,0xfe6                                                                                     
001346   ffe6                                                                                                               
001348   cfee     MOVFF     0xfee,0xfe6                                                                                     
00134a   ffe6                                                                                                               
00134c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00134e   ffe6                                                                                                               
001350   cfee     MOVFF     0xfee,0xfe6                                                                                     
001352   ffe6                                                                                                               
001354   cfee     MOVFF     0xfee,0xfe6                                                                                     
001356   ffe6                                                                                                               
001358   cfee     MOVFF     0xfee,0xfe6                                                                                     
00135a   ffe6                                                                                                               
00135c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00135e   ffe6                                                                                                               
001360   cfee     MOVFF     0xfee,0xfe6                                                                                     
001362   ffe6                                                                                                               
001364   cfee     MOVFF     0xfee,0xfe6                                                                                     
001366   ffe6                                                                                                               
001368   cfee     MOVFF     0xfee,0xfe6                                                                                     
00136a   ffe6                                                                                                               
00136c   ec7c     CALL      0x18f8,0x0                                                                                      
00136e   f00c                                                                                                               
001370   6e00     MOVWF     0x0,0x0                                                                                         
001372   0e0f     MOVLW     0xf                                                                                             
001374   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
001376   5000     MOVF      0x0,0x0,0x0                                                                                     
001378   0e0f     MOVLW     0xf            }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00137a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00137c   e202     BC        0x1382                                                                                          
00137e   6ae1     CLRF      0xe1,0x0                                                                                        
001380   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001382   6ee1     MOVWF     0xe1,0x0                                                                                        
001384   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001386   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001388   ffd9                                                                                                               
00138a   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canSendMessage                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	CAN_MESSAGE to send                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: True if packet scheduled sucess, false otherwise.                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: canInit                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: ..                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00138c   cfd9     MOVFF     0xfd9,0xfe6    BOOL canSendMessage(CAN_MESSAGE cm,CAN_PRIORITY prio)                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00138e   ffe6                                                                                                               
001390   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001392   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
001394   010f     MOVLB     0xf            	if ( TXB0CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00011; }           F:\MCP\projects\CAN\canBase\Source\CAN.c
001396   b740     BTFSC     0x40,0x3,0x1                                                                                    
001398   d004     BRA       0x13a2                                                                                          
00139a   0e00     MOVLW     0x0                                                                                             
00139c   1477     ANDWF     0x77,0x0,0x0                                                                                    
00139e   0903     IORLW     0x3                                                                                             
0013a0   6e77     MOVWF     0x77,0x0                                                                                        
0013a2   010f     MOVLB     0xf            	if ( TXB1CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00100; }           F:\MCP\projects\CAN\canBase\Source\CAN.c
0013a4   b730     BTFSC     0x30,0x3,0x1                                                                                    
0013a6   d004     BRA       0x13b0                                                                                          
0013a8   0e00     MOVLW     0x0                                                                                             
0013aa   1477     ANDWF     0x77,0x0,0x0                                                                                    
0013ac   0904     IORLW     0x4                                                                                             
0013ae   6e77     MOVWF     0x77,0x0                                                                                        
0013b0   010f     MOVLB     0xf            	if ( TXB2CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00101; }           F:\MCP\projects\CAN\canBase\Source\CAN.c
0013b2   b720     BTFSC     0x20,0x3,0x1                                                                                    
0013b4   d005     BRA       0x13c0                                                                                          
0013b6   0e00     MOVLW     0x0                                                                                             
0013b8   1477     ANDWF     0x77,0x0,0x0                                                                                    
0013ba   0905     IORLW     0x5                                                                                             
0013bc   6e77     MOVWF     0x77,0x0                                                                                        
                                           	// None of the transmit buffers were empty.                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
0013be   d002     BRA       0x13c4         	else { return FALSE;}                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
0013c0   0e00     MOVLW     0x0                                                                                             
0013c2   d0e4     BRA       0x158c                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0013c4   0eef     MOVLW     0xef           	if (prio<0 || prio>3) prio = 0;                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0013c6   cfdb     MOVFF     0xfdb,0x0                                                                                       
0013c8   f000                                                                                                               
0013ca   3400     RLCF      0x0,0x0,0x0                                                                                     
0013cc   e20e     BC        0x13ea                                                                                          
0013ce   0eef     MOVLW     0xef                                                                                            
0013d0   cfdb     MOVFF     0xfdb,0x1                                                                                       
0013d2   f001                                                                                                               
0013d4   0e03     MOVLW     0x3                                                                                             
0013d6   6ee7     MOVWF     0xe7,0x0                                                                                        
0013d8   1801     XORWF     0x1,0x0,0x0                                                                                     
0013da   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0013dc   d002     BRA       0x13e2                                                                                          
0013de   3401     RLCF      0x1,0x0,0x0                                                                                     
0013e0   d003     BRA       0x13e8                                                                                          
0013e2   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0013e4   80d8     BSF       0xd8,0x0,0x0                                                                                    
0013e6   5401     SUBFWB    0x1,0x0,0x0                                                                                     
0013e8   e202     BC        0x13ee                                                                                          
0013ea   0eef     MOVLW     0xef                                                                                            
0013ec   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0013ee   0ef4     MOVLW     0xf4           		if (cm.extended==TRUE)                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
0013f0   04db     DECF      0xdb,0x0,0x0                                                                                    
0013f2   e15f     BNZ       0x14b2                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			//Write extended ident.                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			//xx xx xx 28 27 26 25 24   23 22 21 20 19 18 17 16   15 14 13 12 11 10 09 08   07 06 05 04 03 02 01 00 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0SIDH 28 27 26 25 24 23 22 21                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0SIDL 20 19 18 xx xx xx 17 16                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0EIDH 15 14 13 12 11 10 09 08                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0EIDL 07 06 05 04 03 02 01 00                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0013f4   0ef0     MOVLW     0xf0                   	RXB0SIDH =  (BYTE)((cm.ident>>21));                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
0013f6   cfdb     MOVFF     0xfdb,0x0                                                                                       
0013f8   f000                                                                                                               
0013fa   0ef1     MOVLW     0xf1                                                                                            
0013fc   cfdb     MOVFF     0xfdb,0x1                                                                                       
0013fe   f001                                                                                                               
001400   0ef2     MOVLW     0xf2                                                                                            
001402   cfdb     MOVFF     0xfdb,0x2                                                                                       
001404   f002                                                                                                               
001406   0ef3     MOVLW     0xf3                                                                                            
001408   cfdb     MOVFF     0xfdb,0x3                                                                                       
00140a   f003                                                                                                               
00140c   0e15     MOVLW     0x15                                                                                            
00140e   90d8     BCF       0xd8,0x0,0x0                                                                                    
001410   3203     RRCF      0x3,0x1,0x0                                                                                     
001412   3202     RRCF      0x2,0x1,0x0                                                                                     
001414   3201     RRCF      0x1,0x1,0x0                                                                                     
001416   3200     RRCF      0x0,0x1,0x0                                                                                     
001418   06e8     DECF      0xe8,0x1,0x0                                                                                    
00141a   e1f9     BNZ       0x140e                                                                                          
00141c   5000     MOVF      0x0,0x0,0x0                                                                                     
00141e   6e61     MOVWF     0x61,0x0                                                                                        
001420   0ef0     MOVLW     0xf0                   	RXB0SIDL = ((BYTE)(cm.ident>>16) & 0x03) + ((BYTE)(cm.ident>>13) & 0xE0); F:\MCP\projects\CAN\canBase\Source\CAN.c
001422   cfdb     MOVFF     0xfdb,0x5                                                                                       
001424   f005                                                                                                               
001426   0ef1     MOVLW     0xf1                                                                                            
001428   cfdb     MOVFF     0xfdb,0x6                                                                                       
00142a   f006                                                                                                               
00142c   0ef2     MOVLW     0xf2                                                                                            
00142e   cfdb     MOVFF     0xfdb,0x7                                                                                       
001430   f007                                                                                                               
001432   0ef3     MOVLW     0xf3                                                                                            
001434   cfdb     MOVFF     0xfdb,0x8                                                                                       
001436   f008                                                                                                               
001438   0e0d     MOVLW     0xd                                                                                             
00143a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00143c   3208     RRCF      0x8,0x1,0x0                                                                                     
00143e   3207     RRCF      0x7,0x1,0x0                                                                                     
001440   3206     RRCF      0x6,0x1,0x0                                                                                     
001442   3205     RRCF      0x5,0x1,0x0                                                                                     
001444   06e8     DECF      0xe8,0x1,0x0                                                                                    
001446   e1f9     BNZ       0x143a                                                                                          
001448   0ee0     MOVLW     0xe0                                                                                            
00144a   1405     ANDWF     0x5,0x0,0x0                                                                                     
00144c   6e04     MOVWF     0x4,0x0                                                                                         
00144e   0ef0     MOVLW     0xf0                                                                                            
001450   cfdb     MOVFF     0xfdb,0x0                                                                                       
001452   f000                                                                                                               
001454   0ef1     MOVLW     0xf1                                                                                            
001456   cfdb     MOVFF     0xfdb,0x1                                                                                       
001458   f001                                                                                                               
00145a   0ef2     MOVLW     0xf2                                                                                            
00145c   cfdb     MOVFF     0xfdb,0x2                                                                                       
00145e   f002                                                                                                               
001460   0ef3     MOVLW     0xf3                                                                                            
001462   cfdb     MOVFF     0xfdb,0x3                                                                                       
001464   f003                                                                                                               
001466   0e10     MOVLW     0x10                                                                                            
001468   90d8     BCF       0xd8,0x0,0x0                                                                                    
00146a   3203     RRCF      0x3,0x1,0x0                                                                                     
00146c   3202     RRCF      0x2,0x1,0x0                                                                                     
00146e   3201     RRCF      0x1,0x1,0x0                                                                                     
001470   3200     RRCF      0x0,0x1,0x0                                                                                     
001472   06e8     DECF      0xe8,0x1,0x0                                                                                    
001474   e1f9     BNZ       0x1468                                                                                          
001476   0e03     MOVLW     0x3                                                                                             
001478   1400     ANDWF     0x0,0x0,0x0                                                                                     
00147a   2404     ADDWF     0x4,0x0,0x0                                                                                     
00147c   6e62     MOVWF     0x62,0x0                                                                                        
00147e   0ef0     MOVLW     0xf0                   	RXB0EIDH =  (BYTE)(cm.ident>>8);                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
001480   cfdb     MOVFF     0xfdb,0x0                                                                                       
001482   f000                                                                                                               
001484   0ef1     MOVLW     0xf1                                                                                            
001486   cfdb     MOVFF     0xfdb,0x1                                                                                       
001488   f001                                                                                                               
00148a   0ef2     MOVLW     0xf2                                                                                            
00148c   cfdb     MOVFF     0xfdb,0x2                                                                                       
00148e   f002                                                                                                               
001490   0ef3     MOVLW     0xf3                                                                                            
001492   cfdb     MOVFF     0xfdb,0x3                                                                                       
001494   f003                                                                                                               
001496   0e08     MOVLW     0x8                                                                                             
001498   90d8     BCF       0xd8,0x0,0x0                                                                                    
00149a   3203     RRCF      0x3,0x1,0x0                                                                                     
00149c   3202     RRCF      0x2,0x1,0x0                                                                                     
00149e   3201     RRCF      0x1,0x1,0x0                                                                                     
0014a0   3200     RRCF      0x0,0x1,0x0                                                                                     
0014a2   06e8     DECF      0xe8,0x1,0x0                                                                                    
0014a4   e1f9     BNZ       0x1498                                                                                          
0014a6   5000     MOVF      0x0,0x0,0x0                                                                                     
0014a8   6e63     MOVWF     0x63,0x0                                                                                        
0014aa   0ef0     MOVLW     0xf0                   	RXB0EIDL =  (BYTE)cm.ident;                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
0014ac   50db     MOVF      0xdb,0x0,0x0                                                                                    
0014ae   6e64     MOVWF     0x64,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
0014b0   d02f     BRA       0x1510         		else                                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			//Write standard ident.                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			//xx xx xx xx xx 10 09 08   07 06 05 04 03 02 01 00                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0SIDH 10 09 08 07 06 05 04 03                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   	//RXB0SIDL 02 01 00 xx xx xx xx xx                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0014b2   0ef0     MOVLW     0xf0                  		RXB0SIDH=  (BYTE)(cm.ident>>3);                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
0014b4   cfdb     MOVFF     0xfdb,0x0                                                                                       
0014b6   f000                                                                                                               
0014b8   0ef1     MOVLW     0xf1                                                                                            
0014ba   cfdb     MOVFF     0xfdb,0x1                                                                                       
0014bc   f001                                                                                                               
0014be   0ef2     MOVLW     0xf2                                                                                            
0014c0   cfdb     MOVFF     0xfdb,0x2                                                                                       
0014c2   f002                                                                                                               
0014c4   0ef3     MOVLW     0xf3                                                                                            
0014c6   cfdb     MOVFF     0xfdb,0x3                                                                                       
0014c8   f003                                                                                                               
0014ca   0e03     MOVLW     0x3                                                                                             
0014cc   90d8     BCF       0xd8,0x0,0x0                                                                                    
0014ce   3203     RRCF      0x3,0x1,0x0                                                                                     
0014d0   3202     RRCF      0x2,0x1,0x0                                                                                     
0014d2   3201     RRCF      0x1,0x1,0x0                                                                                     
0014d4   3200     RRCF      0x0,0x1,0x0                                                                                     
0014d6   06e8     DECF      0xe8,0x1,0x0                                                                                    
0014d8   e1f9     BNZ       0x14cc                                                                                          
0014da   5000     MOVF      0x0,0x0,0x0                                                                                     
0014dc   6e61     MOVWF     0x61,0x0                                                                                        
0014de   0ef0     MOVLW     0xf0                   	RXB0SIDL= ((BYTE)(cm.ident<<5) & 0xE0);                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0014e0   cfdb     MOVFF     0xfdb,0x0                                                                                       
0014e2   f000                                                                                                               
0014e4   0ef1     MOVLW     0xf1                                                                                            
0014e6   cfdb     MOVFF     0xfdb,0x1                                                                                       
0014e8   f001                                                                                                               
0014ea   0ef2     MOVLW     0xf2                                                                                            
0014ec   cfdb     MOVFF     0xfdb,0x2                                                                                       
0014ee   f002                                                                                                               
0014f0   0ef3     MOVLW     0xf3                                                                                            
0014f2   cfdb     MOVFF     0xfdb,0x3                                                                                       
0014f4   f003                                                                                                               
0014f6   0e05     MOVLW     0x5                                                                                             
0014f8   0b1f     ANDLW     0x1f                                                                                            
0014fa   e007     BZ        0x150a                                                                                          
0014fc   90d8     BCF       0xd8,0x0,0x0                                                                                    
0014fe   3600     RLCF      0x0,0x1,0x0                                                                                     
001500   3601     RLCF      0x1,0x1,0x0                                                                                     
001502   3602     RLCF      0x2,0x1,0x0                                                                                     
001504   3603     RLCF      0x3,0x1,0x0                                                                                     
001506   06e8     DECF      0xe8,0x1,0x0                                                                                    
001508   e1f9     BNZ       0x14fc                                                                                          
00150a   0ee0     MOVLW     0xe0                                                                                            
00150c   1400     ANDWF     0x0,0x0,0x0                                                                                     
00150e   6e62     MOVWF     0x62,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
001510   6a65     CLRF      0x65,0x0       		RXB0DLC = 0;                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
001512   0ef6     MOVLW     0xf6           		if (cm.data_length>8) RXB0DLC=8; else RXB0DLC=cm.data_length;                  F:\MCP\projects\CAN\canBase\Source\CAN.c
001514   50db     MOVF      0xdb,0x0,0x0                                                                                    
001516   0808     SUBLW     0x8                                                                                             
001518   e203     BC        0x1520                                                                                          
00151a   0e08     MOVLW     0x8                                                                                             
00151c   6e65     MOVWF     0x65,0x0                                                                                        
00151e   d003     BRA       0x1526                                                                                          
001520   0ef6     MOVLW     0xf6                                                                                            
001522   50db     MOVF      0xdb,0x0,0x0                                                                                    
001524   6e65     MOVWF     0x65,0x0                                                                                        
                                           		                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Remote request                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
001526   0ef5     MOVLW     0xf5           		if (cm.remote_request==TRUE)                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
001528   04db     DECF      0xdb,0x0,0x0                                                                                    
00152a   e102     BNZ       0x1530                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			_asm                                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
00152c   8c65     BSF       0x65,0x6,0x0   				bsf RXB0DLC, 6, 0                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			_endasm                                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
00152e   d001     BRA       0x1532         		else                                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			_asm                                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
001530   9c65     BCF       0x65,0x6,0x0   				bcf RXB0DLC, 6, 0                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			_endasm                                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
001532   0ef7     MOVLW     0xf7           		RXB0D0=cm.data[0];	RXB0D1=cm.data[1];                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
001534   50db     MOVF      0xdb,0x0,0x0                                                                                    
001536   6e66     MOVWF     0x66,0x0                                                                                        
001538   0ef8     MOVLW     0xf8                                                                                            
00153a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00153c   6e67     MOVWF     0x67,0x0                                                                                        
00153e   0ef9     MOVLW     0xf9           		RXB0D2=cm.data[2]; 	RXB0D3=cm.data[3];                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
001540   50db     MOVF      0xdb,0x0,0x0                                                                                    
001542   6e68     MOVWF     0x68,0x0                                                                                        
001544   0efa     MOVLW     0xfa                                                                                            
001546   50db     MOVF      0xdb,0x0,0x0                                                                                    
001548   6e69     MOVWF     0x69,0x0                                                                                        
00154a   0efb     MOVLW     0xfb           		RXB0D4=cm.data[4]; 	RXB0D5=cm.data[5];                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
00154c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00154e   6e6a     MOVWF     0x6a,0x0                                                                                        
001550   0efc     MOVLW     0xfc                                                                                            
001552   50db     MOVF      0xdb,0x0,0x0                                                                                    
001554   6e6b     MOVWF     0x6b,0x0                                                                                        
001556   0efd     MOVLW     0xfd           		RXB0D6=cm.data[6]; 	RXB0D7=cm.data[7];                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
001558   50db     MOVF      0xdb,0x0,0x0                                                                                    
00155a   6e6c     MOVWF     0x6c,0x0                                                                                        
00155c   0efe     MOVLW     0xfe                                                                                            
00155e   50db     MOVF      0xdb,0x0,0x0                                                                                    
001560   6e6d     MOVWF     0x6d,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// set extended or not                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
001562   0ef4     MOVLW     0xf4           		RXB0SIDLbits.EXID=(cm.extended==TRUE?1:0);                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
001564   04db     DECF      0xdb,0x0,0x0                                                                                    
001566   e102     BNZ       0x156c                                                                                          
001568   0e01     MOVLW     0x1                                                                                             
00156a   d001     BRA       0x156e                                                                                          
00156c   0e00     MOVLW     0x0                                                                                             
00156e   b0e8     BTFSC     0xe8,0x0,0x0                                                                                    
001570   8662     BSF       0x62,0x3,0x0                                                                                    
001572   a0e8     BTFSS     0xe8,0x0,0x0                                                                                    
001574   9662     BCF       0x62,0x3,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Priority                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
001576   0eef     MOVLW     0xef           		RXB0CON = (RXB0CON & 0b11111100) | prio;                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
001578   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00157a   ffe6                                                                                                               
00157c   0efc     MOVLW     0xfc                                                                                            
00157e   1460     ANDWF     0x60,0x0,0x0                                                                                    
001580   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001582   10e7     IORWF     0xe7,0x0,0x0                                                                                    
001584   6e60     MOVWF     0x60,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// mark as redy to transmit                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		_asm                                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
001586   8660     BSF       0x60,0x3,0x0   			bsf RXB0CON, 3, 0                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		_endasm                                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
001588   0e01     MOVLW     0x1            		return TRUE;                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
00158a   d000     BRA       0x158c                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00158c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00158e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001590   ffd9                                                                                                               
001592   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #endif //USE_CAN                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canBase\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                            *                  Main application                                             F:\MCP\projects\CAN\canBase\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                            *********************************************************************           F:\MCP\projects\CAN\canBase\Source\Main.c
                                            * FileName:        Main.c                                                       F:\MCP\projects\CAN\canBase\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                            * Author               Date    Comment                                          F:\MCP\projects\CAN\canBase\Source\Main.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           F:\MCP\projects\CAN\canBase\Source\Main.c
                                            * Johan Böhlin     21-10-06 	Original        (Rev 1.0)                          F:\MCP\projects\CAN\canBase\Source\Main.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #include <compiler.h>                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	#include <CAN.h>                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           static void mainInit(void);                                                      F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           unsigned int heartcnt=0;                                                         F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
001594   cfd9     MOVFF     0xfd9,0xfe6    void main()                                                                      F:\MCP\projects\CAN\canBase\Source\Main.c
001596   ffe6                                                                                                               
001598   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00159a   ffd9                                                                                                               
00159c   0e0f     MOVLW     0xf                                                                                             
00159e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	static TICK t = 0;                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	// Inits                                                                        F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0015a0   d9a3     RCALL     0x18e8         	mainInit();                                                                     F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	#ifdef USE_CAN                                                                  F:\MCP\projects\CAN\canBase\Source\Main.c
0015a2   ec22     CALL      0x1044,0x0     		canInit();                                                                     F:\MCP\projects\CAN\canBase\Source\Main.c
0015a4   f008                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0015a6   ec3d     CALL      0x1a7a,0x0     	tickInit();                                                                     F:\MCP\projects\CAN\canBase\Source\Main.c
0015a8   f00d                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0016f8   d758     BRA       0x15aa         	while(1)                                                                        F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           		#ifdef USE_CAN                                                                 F:\MCP\projects\CAN\canBase\Source\Main.c
0015aa   ec47     CALL      0x1a8e,0x0     		if ((tickGet()-t)>=5*TICK_SECOND)                                              F:\MCP\projects\CAN\canBase\Source\Main.c
0015ac   f00d                                                                                                               
0015ae   0100     MOVLB     0x0                                                                                             
0015b0   516c     MOVF      0x6c,0x0,0x1                                                                                    
0015b2   5c18     SUBWF     0x18,0x0,0x0                                                                                    
0015b4   6e00     MOVWF     0x0,0x0                                                                                         
0015b6   516d     MOVF      0x6d,0x0,0x1                                                                                    
0015b8   5819     SUBWFB    0x19,0x0,0x0                                                                                    
0015ba   6e01     MOVWF     0x1,0x0                                                                                         
0015bc   516e     MOVF      0x6e,0x0,0x1                                                                                    
0015be   581a     SUBWFB    0x1a,0x0,0x0                                                                                    
0015c0   6e02     MOVWF     0x2,0x0                                                                                         
0015c2   516f     MOVF      0x6f,0x0,0x1                                                                                    
0015c4   581b     SUBWFB    0x1b,0x0,0x0                                                                                    
0015c6   6e03     MOVWF     0x3,0x0                                                                                         
0015c8   0ef4     MOVLW     0xf4                                                                                            
0015ca   5c00     SUBWF     0x0,0x0,0x0                                                                                     
0015cc   0e01     MOVLW     0x1                                                                                             
0015ce   5801     SUBWFB    0x1,0x0,0x0                                                                                     
0015d0   0e00     MOVLW     0x0                                                                                             
0015d2   5802     SUBWFB    0x2,0x0,0x0                                                                                     
0015d4   0e00     MOVLW     0x0                                                                                             
0015d6   5803     SUBWFB    0x3,0x0,0x0                                                                                     
0015d8   e201     BC        0x15dc                                                                                          
0015da   d08e     BRA       0x16f8                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
                                           			CAN_MESSAGE cm;                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0015dc   ec47     CALL      0x1a8e,0x0     			t = tickGet();                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
0015de   f00d                                                                                                               
0015e0   c018     MOVFF     0x18,0x6c                                                                                       
0015e2   f06c                                                                                                               
0015e4   c019     MOVFF     0x19,0x6d                                                                                       
0015e6   f06d                                                                                                               
0015e8   c01a     MOVFF     0x1a,0x6e                                                                                       
0015ea   f06e                                                                                                               
0015ec   c01b     MOVFF     0x1b,0x6f                                                                                       
0015ee   f06f                                                                                                               
                                           		                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           			// Send heartbeat                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
0015f0   0e66     MOVLW     0x66           			cm.ident=0x00000666;                                                          F:\MCP\projects\CAN\canBase\Source\Main.c
0015f2   6ede     MOVWF     0xde,0x0                                                                                        
0015f4   0e06     MOVLW     0x6                                                                                             
0015f6   6ede     MOVWF     0xde,0x0                                                                                        
0015f8   6ade     CLRF      0xde,0x0                                                                                        
0015fa   6add     CLRF      0xdd,0x0                                                                                        
0015fc   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0015fe   52dd     MOVF      0xdd,0x1,0x0                                                                                    
001600   0e04     MOVLW     0x4            			cm.extended=FALSE;                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
001602   6adb     CLRF      0xdb,0x0                                                                                        
001604   0e05     MOVLW     0x5            			cm.data_length=5;                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
001606   6ef3     MOVWF     0xf3,0x0                                                                                        
001608   0e06     MOVLW     0x6                                                                                             
00160a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00160c   ffdb                                                                                                               
00160e   0e48     MOVLW     0x48           			cm.data[0]='H';                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
001610   6ef3     MOVWF     0xf3,0x0                                                                                        
001612   0e07     MOVLW     0x7                                                                                             
001614   cff3     MOVFF     0xff3,0xfdb                                                                                     
001616   ffdb                                                                                                               
001618   0100     MOVLB     0x0            			cm.data[1]=(BYTE)((heartcnt & 0x000000FF));                                   F:\MCP\projects\CAN\canBase\Source\Main.c
00161a   516a     MOVF      0x6a,0x0,0x1                                                                                    
00161c   6ee7     MOVWF     0xe7,0x0                                                                                        
00161e   0e08     MOVLW     0x8                                                                                             
001620   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
001622   ffdb                                                                                                               
001624   0e00     MOVLW     0x0            			cm.data[2]=(BYTE)((heartcnt & 0x0000FF00)>>1);                                F:\MCP\projects\CAN\canBase\Source\Main.c
001626   156a     ANDWF     0x6a,0x0,0x1                                                                                    
001628   6e00     MOVWF     0x0,0x0                                                                                         
00162a   0eff     MOVLW     0xff                                                                                            
00162c   156b     ANDWF     0x6b,0x0,0x1                                                                                    
00162e   6e01     MOVWF     0x1,0x0                                                                                         
001630   90d8     BCF       0xd8,0x0,0x0                                                                                    
001632   3201     RRCF      0x1,0x1,0x0                                                                                     
001634   3200     RRCF      0x0,0x1,0x0                                                                                     
001636   0e09     MOVLW     0x9                                                                                             
001638   c000     MOVFF     0x0,0xfdb                                                                                       
00163a   ffdb                                                                                                               
00163c   c06a     MOVFF     0x6a,0x3       			cm.data[3]=(BYTE)((heartcnt & 0x00FF0000)>>2);                                F:\MCP\projects\CAN\canBase\Source\Main.c
00163e   f003                                                                                                               
001640   c06b     MOVFF     0x6b,0x4                                                                                        
001642   f004                                                                                                               
001644   6a05     CLRF      0x5,0x0                                                                                         
001646   6a03     CLRF      0x3,0x0                                                                                         
001648   6a04     CLRF      0x4,0x0                                                                                         
00164a   0e02     MOVLW     0x2                                                                                             
00164c   0b1f     ANDLW     0x1f                                                                                            
00164e   c003     MOVFF     0x3,0x0                                                                                         
001650   f000                                                                                                               
001652   c004     MOVFF     0x4,0x1                                                                                         
001654   f001                                                                                                               
001656   c005     MOVFF     0x5,0x2                                                                                         
001658   f002                                                                                                               
00165a   e006     BZ        0x1668                                                                                          
00165c   90d8     BCF       0xd8,0x0,0x0                                                                                    
00165e   3202     RRCF      0x2,0x1,0x0                                                                                     
001660   3201     RRCF      0x1,0x1,0x0                                                                                     
001662   3200     RRCF      0x0,0x1,0x0                                                                                     
001664   06e8     DECF      0xe8,0x1,0x0                                                                                    
001666   e1fa     BNZ       0x165c                                                                                          
001668   0e0a     MOVLW     0xa                                                                                             
00166a   c000     MOVFF     0x0,0xfdb                                                                                       
00166c   ffdb                                                                                                               
00166e   c06a     MOVFF     0x6a,0x0       			cm.data[4]=(BYTE)((heartcnt & 0xFF000000)>>3);                                F:\MCP\projects\CAN\canBase\Source\Main.c
001670   f000                                                                                                               
001672   c06b     MOVFF     0x6b,0x1                                                                                        
001674   f001                                                                                                               
001676   6a02     CLRF      0x2,0x0                                                                                         
001678   6a03     CLRF      0x3,0x0                                                                                         
00167a   6a00     CLRF      0x0,0x0                                                                                         
00167c   6a01     CLRF      0x1,0x0                                                                                         
00167e   6a02     CLRF      0x2,0x0                                                                                         
001680   0e03     MOVLW     0x3                                                                                             
001682   90d8     BCF       0xd8,0x0,0x0                                                                                    
001684   3203     RRCF      0x3,0x1,0x0                                                                                     
001686   3202     RRCF      0x2,0x1,0x0                                                                                     
001688   3201     RRCF      0x1,0x1,0x0                                                                                     
00168a   3200     RRCF      0x0,0x1,0x0                                                                                     
00168c   06e8     DECF      0xe8,0x1,0x0                                                                                    
00168e   e1f9     BNZ       0x1682                                                                                          
001690   0e0b     MOVLW     0xb                                                                                             
001692   c000     MOVFF     0x0,0xfdb                                                                                       
001694   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
001696   0100     MOVLB     0x0            			heartcnt++;                                                                   F:\MCP\projects\CAN\canBase\Source\Main.c
001698   2b6a     INCF      0x6a,0x1,0x1                                                                                    
00169a   0e00     MOVLW     0x0                                                                                             
00169c   236b     ADDWFC    0x6b,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
00169e   0e01     MOVLW     0x1            			while(!canSendMessage(cm,PRIO_LOW));	                                         F:\MCP\projects\CAN\canBase\Source\Main.c
0016a0   6ee6     MOVWF     0xe6,0x0                                                                                        
0016a2   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
0016a4   ffe9                                                                                                               
0016a6   cfda     MOVFF     0xfda,0xfea                                                                                     
0016a8   ffea                                                                                                               
0016aa   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016ac   ffe6                                                                                                               
0016ae   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016b0   ffe6                                                                                                               
0016b2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016b4   ffe6                                                                                                               
0016b6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016b8   ffe6                                                                                                               
0016ba   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016bc   ffe6                                                                                                               
0016be   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016c0   ffe6                                                                                                               
0016c2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016c4   ffe6                                                                                                               
0016c6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016c8   ffe6                                                                                                               
0016ca   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016cc   ffe6                                                                                                               
0016ce   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016d0   ffe6                                                                                                               
0016d2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016d4   ffe6                                                                                                               
0016d6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016d8   ffe6                                                                                                               
0016da   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016dc   ffe6                                                                                                               
0016de   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016e0   ffe6                                                                                                               
0016e2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0016e4   ffe6                                                                                                               
0016e6   ecc6     CALL      0x138c,0x0                                                                                      
0016e8   f009                                                                                                               
0016ea   6e00     MOVWF     0x0,0x0                                                                                         
0016ec   0e10     MOVLW     0x10                                                                                            
0016ee   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0016f0   5000     MOVF      0x0,0x0,0x0                                                                                     
0016f2   0900     IORLW     0x0                                                                                             
0016f4   e101     BNZ       0x16f8                                                                                          
0016f6   d7d3     BRA       0x169e                                                                                          
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
                                           		#endif                                                                         F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
0016fa   0e0f     MOVLW     0xf            }                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
0016fc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0016fe   e202     BC        0x1704                                                                                          
001700   6ae1     CLRF      0xe1,0x0                                                                                        
001702   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001704   6ee1     MOVWF     0xe1,0x0                                                                                        
001706   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001708   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00170a   ffd9                                                                                                               
00170c   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #pragma interrupt high_isr                                                       F:\MCP\projects\CAN\canBase\Source\Main.c
00170e   cfda     MOVFF     0xfda,0xfe4    void high_isr(void)                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
001710   ffe4                                                                                                               
001712   cfe2     MOVFF     0xfe2,0xfda                                                                                     
001714   ffda                                                                                                               
001716   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
001718   ffe4                                                                                                               
00171a   cfea     MOVFF     0xfea,0xfe4                                                                                     
00171c   ffe4                                                                                                               
00171e   cff6     MOVFF     0xff6,0xfe4                                                                                     
001720   ffe4                                                                                                               
001722   cff7     MOVFF     0xff7,0xfe4                                                                                     
001724   ffe4                                                                                                               
001726   cff5     MOVFF     0xff5,0xfe4                                                                                     
001728   ffe4                                                                                                               
00172a   cff3     MOVFF     0xff3,0xfe4                                                                                     
00172c   ffe4                                                                                                               
00172e   cff4     MOVFF     0xff4,0xfe4                                                                                     
001730   ffe4                                                                                                               
001732   cffa     MOVFF     0xffa,0xfe4                                                                                     
001734   ffe4                                                                                                               
001736   ee00     LFSR      0x0,0x14                                                                                        
001738   f014                                                                                                               
00173a   0e0b     MOVLW     0xb                                                                                             
00173c   04e8     DECF      0xe8,0x0,0x0                                                                                    
00173e   e303     BNC       0x1746                                                                                          
001740   cfee     MOVFF     0xfee,0xfe4                                                                                     
001742   ffe4                                                                                                               
001744   d7fb     BRA       0x173c                                                                                          
001746   ee00     LFSR      0x0,0x0                                                                                         
001748   f000                                                                                                               
00174a   0e14     MOVLW     0x14                                                                                            
00174c   04e8     DECF      0xe8,0x0,0x0                                                                                    
00174e   e303     BNC       0x1756                                                                                          
001750   cfee     MOVFF     0xfee,0xfe4                                                                                     
001752   ffe4                                                                                                               
001754   d7fb     BRA       0x174c                                                                                          
001756   52e6     MOVF      0xe6,0x1,0x0                                                                                    
001758   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00175a   ffe6                                                                                                               
00175c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00175e   ffd9                                                                                                               
001760   0e0f     MOVLW     0xf                                                                                             
001762   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	#ifdef USE_CAN                                                                  F:\MCP\projects\CAN\canBase\Source\Main.c
001764   ec4d     CALL      0x109a,0x0     		canISR();                                                                      F:\MCP\projects\CAN\canBase\Source\Main.c
001766   f008                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
001768   50f2     MOVF      0xf2,0x0,0x0   	if (INTCONbits.INT0IE && INTCONbits.INT0IF)                                     F:\MCP\projects\CAN\canBase\Source\Main.c
00176a   0b10     ANDLW     0x10                                                                                            
00176c   e101     BNZ       0x1770                                                                                          
00176e   d084     BRA       0x1878                                                                                          
001770   50f2     MOVF      0xf2,0x0,0x0                                                                                    
001772   0b02     ANDLW     0x2                                                                                             
001774   e101     BNZ       0x1778                                                                                          
001776   d080     BRA       0x1878                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           		static TICK t = 0;                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
                                           		CAN_MESSAGE cm;                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
001778   ec47     CALL      0x1a8e,0x0     		if ((tickGet()-t)>TICK_SECOND/2)                                               F:\MCP\projects\CAN\canBase\Source\Main.c
00177a   f00d                                                                                                               
00177c   0100     MOVLB     0x0                                                                                             
00177e   5170     MOVF      0x70,0x0,0x1                                                                                    
001780   5c18     SUBWF     0x18,0x0,0x0                                                                                    
001782   6e1f     MOVWF     0x1f,0x0                                                                                        
001784   5171     MOVF      0x71,0x0,0x1                                                                                    
001786   5819     SUBWFB    0x19,0x0,0x0                                                                                    
001788   6e20     MOVWF     0x20,0x0                                                                                        
00178a   5172     MOVF      0x72,0x0,0x1                                                                                    
00178c   581a     SUBWFB    0x1a,0x0,0x0                                                                                    
00178e   6e21     MOVWF     0x21,0x0                                                                                        
001790   5173     MOVF      0x73,0x0,0x1                                                                                    
001792   581b     SUBWFB    0x1b,0x0,0x0                                                                                    
001794   6e22     MOVWF     0x22,0x0                                                                                        
001796   80d8     BSF       0xd8,0x0,0x0                                                                                    
001798   0e32     MOVLW     0x32                                                                                            
00179a   541f     SUBFWB    0x1f,0x0,0x0                                                                                    
00179c   0e00     MOVLW     0x0                                                                                             
00179e   5420     SUBFWB    0x20,0x0,0x0                                                                                    
0017a0   0e00     MOVLW     0x0                                                                                             
0017a2   5421     SUBFWB    0x21,0x0,0x0                                                                                    
0017a4   0e00     MOVLW     0x0                                                                                             
0017a6   5422     SUBFWB    0x22,0x0,0x0                                                                                    
0017a8   e266     BC        0x1876                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0017aa   7282     BTG       0x82,0x1,0x0   			LED0_IO=~LED0_IO;                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           			// Send heartbeat                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
0017ac   0e91     MOVLW     0x91           			cm.ident=0x1F910091;                                                          F:\MCP\projects\CAN\canBase\Source\Main.c
0017ae   6ede     MOVWF     0xde,0x0                                                                                        
0017b0   6ade     CLRF      0xde,0x0                                                                                        
0017b2   6ede     MOVWF     0xde,0x0                                                                                        
0017b4   0e1f     MOVLW     0x1f                                                                                            
0017b6   6edd     MOVWF     0xdd,0x0                                                                                        
0017b8   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0017ba   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0017bc   0e01     MOVLW     0x1            			cm.extended=TRUE;                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
0017be   6ef3     MOVWF     0xf3,0x0                                                                                        
0017c0   0e04     MOVLW     0x4                                                                                             
0017c2   cff3     MOVFF     0xff3,0xfdb                                                                                     
0017c4   ffdb                                                                                                               
0017c6   0e01     MOVLW     0x1            			cm.remote_request=TRUE;                                                       F:\MCP\projects\CAN\canBase\Source\Main.c
0017c8   6ef3     MOVWF     0xf3,0x0                                                                                        
0017ca   0e05     MOVLW     0x5                                                                                             
0017cc   cff3     MOVFF     0xff3,0xfdb                                                                                     
0017ce   ffdb                                                                                                               
0017d0   0e01     MOVLW     0x1            			cm.data_length=1;                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
0017d2   6ef3     MOVWF     0xf3,0x0                                                                                        
0017d4   0e06     MOVLW     0x6                                                                                             
0017d6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0017d8   ffdb                                                                                                               
0017da   0e01     MOVLW     0x1            			cm.data[0]=0x01;                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
0017dc   6ef3     MOVWF     0xf3,0x0                                                                                        
0017de   0e07     MOVLW     0x7                                                                                             
0017e0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0017e2   ffdb                                                                                                               
0017e4   6ef3     MOVWF     0xf3,0x0       			cm.data[1]=0x07;                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
0017e6   0e08     MOVLW     0x8                                                                                             
0017e8   cff3     MOVFF     0xff3,0xfdb                                                                                     
0017ea   ffdb                                                                                                               
0017ec   0e09     MOVLW     0x9            			cm.data[2]=0x09;                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
0017ee   6ef3     MOVWF     0xf3,0x0                                                                                        
0017f0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0017f2   ffdb                                                                                                               
0017f4   0e08     MOVLW     0x8            			cm.data[3]=0x08;                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
0017f6   6ef3     MOVWF     0xf3,0x0                                                                                        
0017f8   0e0a     MOVLW     0xa                                                                                             
0017fa   cff3     MOVFF     0xff3,0xfdb                                                                                     
0017fc   ffdb                                                                                                               
0017fe   0e03     MOVLW     0x3            			cm.data[4]=0x03;                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
001800   6ef3     MOVWF     0xf3,0x0                                                                                        
001802   0e0b     MOVLW     0xb                                                                                             
001804   cff3     MOVFF     0xff3,0xfdb                                                                                     
001806   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
001808   0e01     MOVLW     0x1            			while(!canSendMessage(cm,PRIO_LOW));                                          F:\MCP\projects\CAN\canBase\Source\Main.c
00180a   6ee6     MOVWF     0xe6,0x0                                                                                        
00180c   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
00180e   ffe9                                                                                                               
001810   cfda     MOVFF     0xfda,0xfea                                                                                     
001812   ffea                                                                                                               
001814   cfee     MOVFF     0xfee,0xfe6                                                                                     
001816   ffe6                                                                                                               
001818   cfee     MOVFF     0xfee,0xfe6                                                                                     
00181a   ffe6                                                                                                               
00181c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00181e   ffe6                                                                                                               
001820   cfee     MOVFF     0xfee,0xfe6                                                                                     
001822   ffe6                                                                                                               
001824   cfee     MOVFF     0xfee,0xfe6                                                                                     
001826   ffe6                                                                                                               
001828   cfee     MOVFF     0xfee,0xfe6                                                                                     
00182a   ffe6                                                                                                               
00182c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00182e   ffe6                                                                                                               
001830   cfee     MOVFF     0xfee,0xfe6                                                                                     
001832   ffe6                                                                                                               
001834   cfee     MOVFF     0xfee,0xfe6                                                                                     
001836   ffe6                                                                                                               
001838   cfee     MOVFF     0xfee,0xfe6                                                                                     
00183a   ffe6                                                                                                               
00183c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00183e   ffe6                                                                                                               
001840   cfee     MOVFF     0xfee,0xfe6                                                                                     
001842   ffe6                                                                                                               
001844   cfee     MOVFF     0xfee,0xfe6                                                                                     
001846   ffe6                                                                                                               
001848   cfee     MOVFF     0xfee,0xfe6                                                                                     
00184a   ffe6                                                                                                               
00184c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00184e   ffe6                                                                                                               
001850   ecc6     CALL      0x138c,0x0                                                                                      
001852   f009                                                                                                               
001854   6e1f     MOVWF     0x1f,0x0                                                                                        
001856   0e10     MOVLW     0x10                                                                                            
001858   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00185a   501f     MOVF      0x1f,0x0,0x0                                                                                    
00185c   0900     IORLW     0x0                                                                                             
00185e   e101     BNZ       0x1862                                                                                          
001860   d7d3     BRA       0x1808                                                                                          
                                           			                                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
001862   ec47     CALL      0x1a8e,0x0     			t=tickGet();                                                                  F:\MCP\projects\CAN\canBase\Source\Main.c
001864   f00d                                                                                                               
001866   c018     MOVFF     0x18,0x70                                                                                       
001868   f070                                                                                                               
00186a   c019     MOVFF     0x19,0x71                                                                                       
00186c   f071                                                                                                               
00186e   c01a     MOVFF     0x1a,0x72                                                                                       
001870   f072                                                                                                               
001872   c01b     MOVFF     0x1b,0x73                                                                                       
001874   f073                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
001876   92f2     BCF       0xf2,0x1,0x0   		INTCONbits.INT0IF=0;                                                           F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
001878   ec51     CALL      0x1aa2,0x0     	tickUpdate();                                                                   F:\MCP\projects\CAN\canBase\Source\Main.c
00187a   f00d                                                                                                               
00187c   0e0f     MOVLW     0xf            }                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
00187e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001880   e202     BC        0x1886                                                                                          
001882   6ae1     CLRF      0xe1,0x0                                                                                        
001884   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001886   6ee1     MOVWF     0xe1,0x0                                                                                        
001888   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00188a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00188c   ffd9                                                                                                               
00188e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001890   ee00     LFSR      0x0,0x13                                                                                        
001892   f013                                                                                                               
001894   0e14     MOVLW     0x14                                                                                            
001896   04e8     DECF      0xe8,0x0,0x0                                                                                    
001898   e303     BNC       0x18a0                                                                                          
00189a   cfe5     MOVFF     0xfe5,0xfed                                                                                     
00189c   ffed                                                                                                               
00189e   d7fb     BRA       0x1896                                                                                          
0018a0   ee00     LFSR      0x0,0x1e                                                                                        
0018a2   f01e                                                                                                               
0018a4   0e0b     MOVLW     0xb                                                                                             
0018a6   04e8     DECF      0xe8,0x0,0x0                                                                                    
0018a8   e303     BNC       0x18b0                                                                                          
0018aa   cfe5     MOVFF     0xfe5,0xfed                                                                                     
0018ac   ffed                                                                                                               
0018ae   d7fb     BRA       0x18a6                                                                                          
0018b0   cfe5     MOVFF     0xfe5,0xffa                                                                                     
0018b2   fffa                                                                                                               
0018b4   cfe5     MOVFF     0xfe5,0xff4                                                                                     
0018b6   fff4                                                                                                               
0018b8   cfe5     MOVFF     0xfe5,0xff3                                                                                     
0018ba   fff3                                                                                                               
0018bc   cfe5     MOVFF     0xfe5,0xff5                                                                                     
0018be   fff5                                                                                                               
0018c0   cfe5     MOVFF     0xfe5,0xff7                                                                                     
0018c2   fff7                                                                                                               
0018c4   cfe5     MOVFF     0xfe5,0xff6                                                                                     
0018c6   fff6                                                                                                               
0018c8   cfe5     MOVFF     0xfe5,0xfea                                                                                     
0018ca   ffea                                                                                                               
0018cc   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
0018ce   ffe9                                                                                                               
0018d0   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0018d2   ffda                                                                                                               
0018d4   0011     RETFIE    0x1                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #pragma interrupt low_isr                                                        F:\MCP\projects\CAN\canBase\Source\Main.c
0018d6   cfda     MOVFF     0xfda,0xfe4    void low_isr(void)                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
0018d8   ffe4                                                                                                               
0018da   cfe2     MOVFF     0xfe2,0xfda                                                                                     
0018dc   ffda                                                                                                               
0018de   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0018e0   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
0018e2   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0018e4   ffda                                                                                                               
0018e6   0011     RETFIE    0x1                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Function: mainInit                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Affects: Se code                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBase\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           void mainInit()                                                                  F:\MCP\projects\CAN\canBase\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
0018e8   9294     BCF       0x94,0x1,0x0   	LED0_TRIS=0;	                                                                   F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                               // Enable internal PORTB pull-ups                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0018ea   9ef1     BCF       0xf1,0x7,0x0       INTCON2bits.RBPU = 0;                                                        F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	// Enable Interrupts                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0018ec   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;                                                         F:\MCP\projects\CAN\canBase\Source\Main.c
0018ee   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;                                                         F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	// RB0 interrupt                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
0018f0   8cf1     BSF       0xf1,0x6,0x0   	INTCON2bits.INTEDG0 = 1; //rising edge                                          F:\MCP\projects\CAN\canBase\Source\Main.c
0018f2   88f2     BSF       0xf2,0x4,0x0   	INTCONbits.INT0IE = 1;	                                                         F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	// Enable interrupt prirority                                                   F:\MCP\projects\CAN\canBase\Source\Main.c
0018f4   8ed0     BSF       0xd0,0x7,0x0   	RCONbits.IPEN=1;                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0018f6   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Function: canParse                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Input:	Received can message                                                    F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Pre-conditions: canInit and received packet.                                   F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Affects: Sensors/actuators/etc. See code.                                      F:\MCP\projects\CAN\canBase\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBase\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #ifdef USE_CAN                                                                   F:\MCP\projects\CAN\canBase\Source\Main.c
0018f8   cfd9     MOVFF     0xfd9,0xfe6    void canParse(CAN_MESSAGE cm)                                                    F:\MCP\projects\CAN\canBase\Source\Main.c
0018fa   ffe6                                                                                                               
0018fc   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0018fe   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
001900   50d9     MOVF      0xd9,0x0,0x0   		if (cm.ident==0x00000304)                                                      F:\MCP\projects\CAN\canBase\Source\Main.c
001902   0ff0     ADDLW     0xf0                                                                                            
001904   6ee9     MOVWF     0xe9,0x0                                                                                        
001906   0eff     MOVLW     0xff                                                                                            
001908   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00190a   6eea     MOVWF     0xea,0x0                                                                                        
00190c   0e04     MOVLW     0x4                                                                                             
00190e   18ee     XORWF     0xee,0x0,0x0                                                                                    
001910   e106     BNZ       0x191e                                                                                          
001912   0e03     MOVLW     0x3                                                                                             
001914   18ee     XORWF     0xee,0x0,0x0                                                                                    
001916   e103     BNZ       0x191e                                                                                          
001918   50ee     MOVF      0xee,0x0,0x0                                                                                    
00191a   e101     BNZ       0x191e                                                                                          
00191c   50ee     MOVF      0xee,0x0,0x0                                                                                    
00191e   e15a     BNZ       0x19d4                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
001920   0ef7     MOVLW     0xf7           			if (cm.data[0]==0x20) LED0_IO=1;                                              F:\MCP\projects\CAN\canBase\Source\Main.c
001922   50db     MOVF      0xdb,0x0,0x0                                                                                    
001924   0820     SUBLW     0x20                                                                                            
001926   e101     BNZ       0x192a                                                                                          
001928   8282     BSF       0x82,0x1,0x0                                                                                    
00192a   0ef7     MOVLW     0xf7           			if (cm.data[0]==0x40) LED0_IO=0;                                              F:\MCP\projects\CAN\canBase\Source\Main.c
00192c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00192e   0840     SUBLW     0x40                                                                                            
001930   e101     BNZ       0x1934                                                                                          
001932   9282     BCF       0x82,0x1,0x0                                                                                    
001934   0ef7     MOVLW     0xf7           			if (cm.data[0]==0x80)                                                         F:\MCP\projects\CAN\canBase\Source\Main.c
001936   50db     MOVF      0xdb,0x0,0x0                                                                                    
001938   0880     SUBLW     0x80                                                                                            
00193a   e14c     BNZ       0x19d4                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
00193c   0e03     MOVLW     0x3            				cm.ident=0x00000303;                                                         F:\MCP\projects\CAN\canBase\Source\Main.c
00193e   6ef3     MOVWF     0xf3,0x0                                                                                        
001940   0ef0     MOVLW     0xf0                                                                                            
001942   cff3     MOVFF     0xff3,0xfdb                                                                                     
001944   ffdb                                                                                                               
001946   0e03     MOVLW     0x3                                                                                             
001948   6ef3     MOVWF     0xf3,0x0                                                                                        
00194a   0ef1     MOVLW     0xf1                                                                                            
00194c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00194e   ffdb                                                                                                               
001950   0ef2     MOVLW     0xf2                                                                                            
001952   6adb     CLRF      0xdb,0x0                                                                                        
001954   0ef3     MOVLW     0xf3                                                                                            
001956   6adb     CLRF      0xdb,0x0                                                                                        
001958   0ef4     MOVLW     0xf4           				cm.extended=FALSE;                                                           F:\MCP\projects\CAN\canBase\Source\Main.c
00195a   6adb     CLRF      0xdb,0x0                                                                                        
00195c   0e01     MOVLW     0x1            				cm.data_length=1;                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
00195e   6ef3     MOVWF     0xf3,0x0                                                                                        
001960   0ef6     MOVLW     0xf6                                                                                            
001962   cff3     MOVFF     0xff3,0xfdb                                                                                     
001964   ffdb                                                                                                               
001966   5082     MOVF      0x82,0x0,0x0   				cm.data[0]=LED0_IO;                                                          F:\MCP\projects\CAN\canBase\Source\Main.c
001968   0b02     ANDLW     0x2                                                                                             
00196a   e001     BZ        0x196e                                                                                          
00196c   0e01     MOVLW     0x1                                                                                             
00196e   6ee7     MOVWF     0xe7,0x0                                                                                        
001970   0ef7     MOVLW     0xf7                                                                                            
001972   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
001974   ffdb                                                                                                               
001976   0e01     MOVLW     0x1            				while(!canSendMessage(cm,PRIO_LOW));	                                        F:\MCP\projects\CAN\canBase\Source\Main.c
001978   6ee6     MOVWF     0xe6,0x0                                                                                        
00197a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00197c   0ff0     ADDLW     0xf0                                                                                            
00197e   6ee9     MOVWF     0xe9,0x0                                                                                        
001980   0eff     MOVLW     0xff                                                                                            
001982   20da     ADDWFC    0xda,0x0,0x0                                                                                    
001984   6eea     MOVWF     0xea,0x0                                                                                        
001986   cfee     MOVFF     0xfee,0xfe6                                                                                     
001988   ffe6                                                                                                               
00198a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00198c   ffe6                                                                                                               
00198e   cfee     MOVFF     0xfee,0xfe6                                                                                     
001990   ffe6                                                                                                               
001992   cfee     MOVFF     0xfee,0xfe6                                                                                     
001994   ffe6                                                                                                               
001996   cfee     MOVFF     0xfee,0xfe6                                                                                     
001998   ffe6                                                                                                               
00199a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00199c   ffe6                                                                                                               
00199e   cfee     MOVFF     0xfee,0xfe6                                                                                     
0019a0   ffe6                                                                                                               
0019a2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0019a4   ffe6                                                                                                               
0019a6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0019a8   ffe6                                                                                                               
0019aa   cfee     MOVFF     0xfee,0xfe6                                                                                     
0019ac   ffe6                                                                                                               
0019ae   cfee     MOVFF     0xfee,0xfe6                                                                                     
0019b0   ffe6                                                                                                               
0019b2   cfee     MOVFF     0xfee,0xfe6                                                                                     
0019b4   ffe6                                                                                                               
0019b6   cfee     MOVFF     0xfee,0xfe6                                                                                     
0019b8   ffe6                                                                                                               
0019ba   cfee     MOVFF     0xfee,0xfe6                                                                                     
0019bc   ffe6                                                                                                               
0019be   cfee     MOVFF     0xfee,0xfe6                                                                                     
0019c0   ffe6                                                                                                               
0019c2   ecc6     CALL      0x138c,0x0                                                                                      
0019c4   f009                                                                                                               
0019c6   6e00     MOVWF     0x0,0x0                                                                                         
0019c8   0e10     MOVLW     0x10                                                                                            
0019ca   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0019cc   5000     MOVF      0x0,0x0,0x0                                                                                     
0019ce   0900     IORLW     0x0                                                                                             
0019d0   e101     BNZ       0x19d4                                                                                          
0019d2   d7d1     BRA       0x1976                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           			}                                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
0019d4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
0019d6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0019d8   ffd9                                                                                                               
0019da   0012     RETURN    0x0                                                                                             
                                           #endif                                                                           F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #ifndef DEBUG_MODE                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           extern void _startup (void);                                                     F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #pragma code _RESET_INTERRUPT_VECTOR = 0x001000                                  F:\MCP\projects\CAN\canBase\Source\Main.c
                                           void _reset (void)                                                               F:\MCP\projects\CAN\canBase\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
001000   ef5f     GOTO      0x1abe             _asm goto _startup _endasm                                                   F:\MCP\projects\CAN\canBase\Source\Main.c
001002   f00d                                                                                                               
001004   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #pragma code _HIGH_INTERRUPT_VECTOR = 0x001008                                   F:\MCP\projects\CAN\canBase\Source\Main.c
                                           void _high_ISR (void)                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
001008   ef87     GOTO      0x170e         	_asm GOTO high_isr _endasm                                                      F:\MCP\projects\CAN\canBase\Source\Main.c
00100a   f00b                                                                                                               
00100c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canBase\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #pragma code _LOW_INTERRUPT_VECTOR = 0x001018                                    F:\MCP\projects\CAN\canBase\Source\Main.c
                                           void _low_ISR (void)                                                             F:\MCP\projects\CAN\canBase\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
001018   ef6b     GOTO      0x18d6             _asm GOTO low_isr _endasm                                                    F:\MCP\projects\CAN\canBase\Source\Main.c
00101a   f00c                                                                                                               
00101c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canBase\Source\Main.c
