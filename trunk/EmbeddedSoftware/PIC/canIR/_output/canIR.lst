MP2COD 4.1, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Sat Mar 03 19:03:19 2007


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /*********************************************************************           F:\MCP\projects\CAN\canIR\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                            *                  Main application                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                            *********************************************************************           F:\MCP\projects\CAN\canIR\Source\Main.c
                                            * FileName:        $HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/canIR/Source/Main.c $ F:\MCP\projects\CAN\canIR\Source\Main.c
                                            * Last changed:	$LastChangedDate: 2007-02-25 21:15:41 +0100 (s√∂, 25 feb 2007) $ F:\MCP\projects\CAN\canIR\Source\Main.c
                                            * By:				$LastChangedBy: johboh $                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                            * Revision:		$Revision: 341 $                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <compiler.h>                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <funcdefs.h>                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include "..\canBoot\Include\boot.h"                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #ifdef USE_IREC                                                                  F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	#include <IRec.h>                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           static void mainInit(void);                                                      F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003b3a   cfd9     MOVFF     0xfd9,0xfe6    void main()                                                                      F:\MCP\projects\CAN\canIR\Source\Main.c
003b3c   ffe6                                                                                                               
003b3e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003b40   ffd9                                                                                                               
003b42   0e04     MOVLW     0x4                                                                                             
003b44   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	// Inits                                                                        F:\MCP\projects\CAN\canIR\Source\Main.c
003b46   d898     RCALL     0x3c78         	mainInit();                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
003b48   ec2e     CALL      0x305c,0x0     	canInit();                                                                      F:\MCP\projects\CAN\canIR\Source\Main.c
003b4a   f018                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	#ifdef USE_IREC                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
003b4c   ec3b     CALL      0x3676,0x0     		irecInit();                                                                    F:\MCP\projects\CAN\canIR\Source\Main.c
003b4e   f01b                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003bb6   d7cc     BRA       0x3b50         	while(1)                                                                        F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	{	                                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
003b50   ec63     CALL      0x3ec6,0x0     		TICK currentTick = tickGet();                                                  F:\MCP\projects\CAN\canIR\Source\Main.c
003b52   f01f                                                                                                               
003b54   c010     MOVFF     0x10,0xfde                                                                                      
003b56   ffde                                                                                                               
003b58   c011     MOVFF     0x11,0xfde                                                                                      
003b5a   ffde                                                                                                               
003b5c   c012     MOVFF     0x12,0xfde                                                                                      
003b5e   ffde                                                                                                               
003b60   c013     MOVFF     0x13,0xfdd                                                                                      
003b62   ffdd                                                                                                               
003b64   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003b66   52dd     MOVF      0xdd,0x1,0x0                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           		static TICK tick_led = 0;                                                      F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003b68   cfd9     MOVFF     0xfd9,0xfe9    		if ((currentTick-tick_led)>(1*TICK_1S))                                        F:\MCP\projects\CAN\canIR\Source\Main.c
003b6a   ffe9                                                                                                               
003b6c   cfda     MOVFF     0xfda,0xfea                                                                                     
003b6e   ffea                                                                                                               
003b70   0100     MOVLB     0x0                                                                                             
003b72   518d     MOVF      0x8d,0x0,0x1                                                                                    
003b74   5cee     SUBWF     0xee,0x0,0x0                                                                                    
003b76   6e00     MOVWF     0x0,0x0                                                                                         
003b78   518e     MOVF      0x8e,0x0,0x1                                                                                    
003b7a   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003b7c   6e01     MOVWF     0x1,0x0                                                                                         
003b7e   518f     MOVF      0x8f,0x0,0x1                                                                                    
003b80   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003b82   6e02     MOVWF     0x2,0x0                                                                                         
003b84   5190     MOVF      0x90,0x0,0x1                                                                                    
003b86   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003b88   6e03     MOVWF     0x3,0x0                                                                                         
003b8a   80d8     BSF       0xd8,0x0,0x0                                                                                    
003b8c   0e64     MOVLW     0x64                                                                                            
003b8e   5400     SUBFWB    0x0,0x0,0x0                                                                                     
003b90   0e00     MOVLW     0x0                                                                                             
003b92   5401     SUBFWB    0x1,0x0,0x0                                                                                     
003b94   0e00     MOVLW     0x0                                                                                             
003b96   5402     SUBFWB    0x2,0x0,0x0                                                                                     
003b98   0e00     MOVLW     0x0                                                                                             
003b9a   5403     SUBFWB    0x3,0x0,0x0                                                                                     
003b9c   e20c     BC        0x3bb6                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
003b9e   7282     BTG       0x82,0x1,0x0   			LED0_IO=~LED0_IO;                                                             F:\MCP\projects\CAN\canIR\Source\Main.c
003ba0   cfdf     MOVFF     0xfdf,0x8d     			tick_led = currentTick;                                                       F:\MCP\projects\CAN\canIR\Source\Main.c
003ba2   f08d                                                                                                               
003ba4   0e01     MOVLW     0x1                                                                                             
003ba6   cfdb     MOVFF     0xfdb,0x8e                                                                                      
003ba8   f08e                                                                                                               
003baa   0e02     MOVLW     0x2                                                                                             
003bac   cfdb     MOVFF     0xfdb,0x8f                                                                                      
003bae   f08f                                                                                                               
003bb0   0e03     MOVLW     0x3                                                                                             
003bb2   cfdb     MOVFF     0xfdb,0x90                                                                                      
003bb4   f090                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
003bb8   0e04     MOVLW     0x4            }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003bba   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003bbc   e202     BC        0x3bc2                                                                                          
003bbe   6ae1     CLRF      0xe1,0x0                                                                                        
003bc0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003bc2   6ee1     MOVWF     0xe1,0x0                                                                                        
003bc4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003bc6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003bc8   ffd9                                                                                                               
003bca   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma interrupt high_isr                                                       F:\MCP\projects\CAN\canIR\Source\Main.c
003bcc   cfda     MOVFF     0xfda,0xfe4    void high_isr(void)                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
003bce   ffe4                                                                                                               
003bd0   cfe2     MOVFF     0xfe2,0xfda                                                                                     
003bd2   ffda                                                                                                               
003bd4   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
003bd6   ffe4                                                                                                               
003bd8   cfea     MOVFF     0xfea,0xfe4                                                                                     
003bda   ffe4                                                                                                               
003bdc   cff6     MOVFF     0xff6,0xfe4                                                                                     
003bde   ffe4                                                                                                               
003be0   cff7     MOVFF     0xff7,0xfe4                                                                                     
003be2   ffe4                                                                                                               
003be4   cff5     MOVFF     0xff5,0xfe4                                                                                     
003be6   ffe4                                                                                                               
003be8   cff3     MOVFF     0xff3,0xfe4                                                                                     
003bea   ffe4                                                                                                               
003bec   cff4     MOVFF     0xff4,0xfe4                                                                                     
003bee   ffe4                                                                                                               
003bf0   cffa     MOVFF     0xffa,0xfe4                                                                                     
003bf2   ffe4                                                                                                               
003bf4   ee00     LFSR      0x0,0xc                                                                                         
003bf6   f00c                                                                                                               
003bf8   0e0b     MOVLW     0xb                                                                                             
003bfa   04e8     DECF      0xe8,0x0,0x0                                                                                    
003bfc   e303     BNC       0x3c04                                                                                          
003bfe   cfee     MOVFF     0xfee,0xfe4                                                                                     
003c00   ffe4                                                                                                               
003c02   d7fb     BRA       0x3bfa                                                                                          
003c04   ee00     LFSR      0x0,0x0                                                                                         
003c06   f000                                                                                                               
003c08   0e0c     MOVLW     0xc                                                                                             
003c0a   04e8     DECF      0xe8,0x0,0x0                                                                                    
003c0c   e303     BNC       0x3c14                                                                                          
003c0e   cfee     MOVFF     0xfee,0xfe4                                                                                     
003c10   ffe4                                                                                                               
003c12   d7fb     BRA       0x3c0a                                                                                          
003c14   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003c16   ec99     CALL      0x3132,0x0     	canISR();                                                                       F:\MCP\projects\CAN\canIR\Source\Main.c
003c18   f018                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	#ifdef USE_IREC                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
003c1a   ec46     CALL      0x368c,0x0     		irecISR();                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
003c1c   f01b                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c1e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003c20   ee00     LFSR      0x0,0xb                                                                                         
003c22   f00b                                                                                                               
003c24   0e0c     MOVLW     0xc                                                                                             
003c26   04e8     DECF      0xe8,0x0,0x0                                                                                    
003c28   e303     BNC       0x3c30                                                                                          
003c2a   cfe5     MOVFF     0xfe5,0xfed                                                                                     
003c2c   ffed                                                                                                               
003c2e   d7fb     BRA       0x3c26                                                                                          
003c30   ee00     LFSR      0x0,0x16                                                                                        
003c32   f016                                                                                                               
003c34   0e0b     MOVLW     0xb                                                                                             
003c36   04e8     DECF      0xe8,0x0,0x0                                                                                    
003c38   e303     BNC       0x3c40                                                                                          
003c3a   cfe5     MOVFF     0xfe5,0xfed                                                                                     
003c3c   ffed                                                                                                               
003c3e   d7fb     BRA       0x3c36                                                                                          
003c40   cfe5     MOVFF     0xfe5,0xffa                                                                                     
003c42   fffa                                                                                                               
003c44   cfe5     MOVFF     0xfe5,0xff4                                                                                     
003c46   fff4                                                                                                               
003c48   cfe5     MOVFF     0xfe5,0xff3                                                                                     
003c4a   fff3                                                                                                               
003c4c   cfe5     MOVFF     0xfe5,0xff5                                                                                     
003c4e   fff5                                                                                                               
003c50   cfe5     MOVFF     0xfe5,0xff7                                                                                     
003c52   fff7                                                                                                               
003c54   cfe5     MOVFF     0xfe5,0xff6                                                                                     
003c56   fff6                                                                                                               
003c58   cfe5     MOVFF     0xfe5,0xfea                                                                                     
003c5a   ffea                                                                                                               
003c5c   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
003c5e   ffe9                                                                                                               
003c60   cfe5     MOVFF     0xfe5,0xfda                                                                                     
003c62   ffda                                                                                                               
003c64   0011     RETFIE    0x1                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma interrupt low_isr                                                        F:\MCP\projects\CAN\canIR\Source\Main.c
003c66   cfda     MOVFF     0xfda,0xfe4    void low_isr(void)                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
003c68   ffe4                                                                                                               
003c6a   cfe2     MOVFF     0xfe2,0xfda                                                                                     
003c6c   ffda                                                                                                               
003c6e   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c70   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003c72   cfe5     MOVFF     0xfe5,0xfda                                                                                     
003c74   ffda                                                                                                               
003c76   0011     RETFIE    0x1                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Function: mainInit                                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Affects: Se code                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           void mainInit()                                                                  F:\MCP\projects\CAN\canIR\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003c78   9294     BCF       0x94,0x1,0x0   	LED0_TRIS=0;	                                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	// Enable Interrupts                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c7a   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;                                                         F:\MCP\projects\CAN\canIR\Source\Main.c
003c7c   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;                                                         F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	// Enable interrupt prirority                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
003c7e   8ed0     BSF       0xd0,0x7,0x0   	RCONbits.IPEN=1;                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c80   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Function: canParse                                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Input:	Received can message                                                    F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Pre-conditions: canInit and received packet.                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Affects: Sensors/actuators/etc. See code.                                      F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c82   cfd9     MOVFF     0xfd9,0xfe6    void canParse(CAN_PACKET cp)                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
003c84   ffe6                                                                                                               
003c86   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003c88   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c8a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003c8c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003c8e   ffd9                                                                                                               
003c90   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Function: irecParse                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Input:	Received IR message                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Pre-conditions: irecInit                                                       F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Affects: Sensors/actuators/etc. See code.                                      F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #ifdef USE_IREC                                                                  F:\MCP\projects\CAN\canIR\Source\Main.c
003c92   cfd9     MOVFF     0xfd9,0xfe6    void irecParse(IR_TYPE type, BYTE toggle, BYTE addr, BYTE data)                  F:\MCP\projects\CAN\canIR\Source\Main.c
003c94   ffe6                                                                                                               
003c96   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003c98   ffd9                                                                                                               
003c9a   0e11     MOVLW     0x11                                                                                            
003c9c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	CAN_PACKET outCp;                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c9e   0e01     MOVLW     0x1            	outCp.type 		= ptPGM;                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
003ca0   6edf     MOVWF     0xdf,0x0                                                                                        
003ca2   52de     MOVF      0xde,0x1,0x0   	outCp.pgm.class = pcSENSOR;                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
003ca4   6edd     MOVWF     0xdd,0x0                                                                                        
003ca6   0e02     MOVLW     0x2            	outCp.pgm.id 	= pstIR;                                                          F:\MCP\projects\CAN\canIR\Source\Main.c
003ca8   6adb     CLRF      0xdb,0x0                                                                                        
003caa   0e03     MOVLW     0x3                                                                                             
003cac   6adb     CLRF      0xdb,0x0                                                                                        
003cae   0e04     MOVLW     0x4            	outCp.length 	= 4;                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
003cb0   6ef3     MOVWF     0xf3,0x0                                                                                        
003cb2   0e08     MOVLW     0x8                                                                                             
003cb4   cff3     MOVFF     0xff3,0xfdb                                                                                     
003cb6   ffdb                                                                                                               
003cb8   0efe     MOVLW     0xfe           	outCp.data[3]	= type;                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
003cba   50db     MOVF      0xdb,0x0,0x0                                                                                    
003cbc   6ee7     MOVWF     0xe7,0x0                                                                                        
003cbe   0e0c     MOVLW     0xc                                                                                             
003cc0   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003cc2   ffdb                                                                                                               
003cc4   0efd     MOVLW     0xfd           	outCp.data[2]	= toggle;                                                         F:\MCP\projects\CAN\canIR\Source\Main.c
003cc6   50db     MOVF      0xdb,0x0,0x0                                                                                    
003cc8   6ee7     MOVWF     0xe7,0x0                                                                                        
003cca   0e0b     MOVLW     0xb                                                                                             
003ccc   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003cce   ffdb                                                                                                               
003cd0   0efc     MOVLW     0xfc           	outCp.data[1]	= addr;                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
003cd2   50db     MOVF      0xdb,0x0,0x0                                                                                    
003cd4   6ee7     MOVWF     0xe7,0x0                                                                                        
003cd6   0e0a     MOVLW     0xa                                                                                             
003cd8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003cda   ffdb                                                                                                               
003cdc   0efb     MOVLW     0xfb           	outCp.data[0]	= data;                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
003cde   50db     MOVF      0xdb,0x0,0x0                                                                                    
003ce0   6ee7     MOVWF     0xe7,0x0                                                                                        
003ce2   0e09     MOVLW     0x9                                                                                             
003ce4   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003ce6   ffdb                                                                                                               
003ce8   0e02     MOVLW     0x2            	while(!canSendMessage(outCp,PRIO_HIGH));                                        F:\MCP\projects\CAN\canIR\Source\Main.c
003cea   6ee6     MOVWF     0xe6,0x0                                                                                        
003cec   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
003cee   ffe9                                                                                                               
003cf0   cfda     MOVFF     0xfda,0xfea                                                                                     
003cf2   ffea                                                                                                               
003cf4   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cf6   ffe6                                                                                                               
003cf8   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cfa   ffe6                                                                                                               
003cfc   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cfe   ffe6                                                                                                               
003d00   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d02   ffe6                                                                                                               
003d04   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d06   ffe6                                                                                                               
003d08   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d0a   ffe6                                                                                                               
003d0c   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d0e   ffe6                                                                                                               
003d10   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d12   ffe6                                                                                                               
003d14   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d16   ffe6                                                                                                               
003d18   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d1a   ffe6                                                                                                               
003d1c   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d1e   ffe6                                                                                                               
003d20   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d22   ffe6                                                                                                               
003d24   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d26   ffe6                                                                                                               
003d28   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d2a   ffe6                                                                                                               
003d2c   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d2e   ffe6                                                                                                               
003d30   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d32   ffe6                                                                                                               
003d34   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d36   ffe6                                                                                                               
003d38   ec5c     CALL      0x34b8,0x0                                                                                      
003d3a   f01a                                                                                                               
003d3c   6e00     MOVWF     0x0,0x0                                                                                         
003d3e   0e12     MOVLW     0x12                                                                                            
003d40   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003d42   5000     MOVF      0x0,0x0,0x0                                                                                     
003d44   0900     IORLW     0x0                                                                                             
003d46   e101     BNZ       0x3d4a                                                                                          
003d48   d7cf     BRA       0x3ce8                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003d4a   0e11     MOVLW     0x11           }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003d4c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003d4e   e202     BC        0x3d54                                                                                          
003d50   6ae1     CLRF      0xe1,0x0                                                                                        
003d52   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d54   6ee1     MOVWF     0xe1,0x0                                                                                        
003d56   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d58   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003d5a   ffd9                                                                                                               
003d5c   0012     RETURN    0x0                                                                                             
                                           #endif                                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           // Below are mandantory when using bootloader                                    F:\MCP\projects\CAN\canIR\Source\Main.c
                                           // define DEBUG_MODE to use without bootloader.                                  F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #ifndef DEBUG_MODE                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           extern void _startup (void);                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code _RESET_INTERRUPT_VECTOR = RM_RESET_VECTOR                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                           void _reset (void)                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003000   ef7f     GOTO      0x3efe             _asm goto _startup _endasm                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
003002   f01f                                                                                                               
003004   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code _HIGH_INTERRUPT_VECTOR = RM_HIGH_INTERRUPT_VECTOR                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           void _high_ISR (void)                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003008   efe6     GOTO      0x3bcc         	_asm GOTO high_isr _endasm                                                      F:\MCP\projects\CAN\canIR\Source\Main.c
00300a   f01d                                                                                                               
00300c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code _LOW_INTERRUPT_VECTOR = RM_LOW_INTERRUPT_VECTOR                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           void _low_ISR (void)                                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003018   ef33     GOTO      0x3c66             _asm GOTO low_isr _endasm                                                    F:\MCP\projects\CAN\canIR\Source\Main.c
00301a   f01e                                                                                                               
00301c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                  Ticker module service                                        F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *********************************************************************           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * FileName:        $HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/canBase/Source/Tick.c $ F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * Last changed:	$LastChangedDate: 2006-11-14 10:55:38 +0100 (ti, 14 nov 2006) $ F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * By:				$LastChangedBy: johboh $                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * Revision:		$Revision: 86 $                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_INCLUDE                                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           static TICK TickCount = 0;	// 10ms/unit                                          F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Function: TickInit                                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Output: Tick manager is initialized.                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           void tickInit(void)                                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
003ea8   0e84     MOVLW     0x84               T0CON = 0b10000000 | TICK_PRESCALE;                                          F:\MCP\projects\CAN\canBase\Source\Tick.c
003eaa   6ed5     MOVWF     0xd5,0x0                                                                                        
003eac   0ef3     MOVLW     0xf3               TMR0H = (BYTE)((TICK_COUNTER & 0xFF00)>>8);                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
003eae   6ed7     MOVWF     0xd7,0x0                                                                                        
003eb0   0ecb     MOVLW     0xcb               TMR0L = (TICK_COUNTER & 0xFF);                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
003eb2   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003eb4   94f2     BCF       0xf2,0x2,0x0       INTCONbits.TMR0IF = 0;                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
003eb6   8af2     BSF       0xf2,0x5,0x0       INTCONbits.TMR0IE = 1;                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
003eb8   84f1     BSF       0xf1,0x2,0x0   	INTCON2bits.TMR0IP = 1;                                                         F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003eba   0100     MOVLB     0x0            	TickCount = 0;                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
003ebc   6b89     CLRF      0x89,0x1                                                                                        
003ebe   6b8a     CLRF      0x8a,0x1                                                                                        
003ec0   6b8b     CLRF      0x8b,0x1                                                                                        
003ec2   6b8c     CLRF      0x8c,0x1                                                                                        
003ec4   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Function: TickGet                                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Output: Current tick value is given, 1 tick represents approximately 10ms      F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           TICK tickGet(void)                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
003ec6   c089     MOVFF     0x89,0x10          return TickCount;                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003ec8   f010                                                                                                               
003eca   c08a     MOVFF     0x8a,0x11                                                                                       
003ecc   f011                                                                                                               
003ece   c08b     MOVFF     0x8b,0x12                                                                                       
003ed0   f012                                                                                                               
003ed2   c08c     MOVFF     0x8c,0x13                                                                                       
003ed4   f013                                                                                                               
003ed6   d000     BRA       0x3ed8                                                                                          
003ed8   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Function: tickUpdate                                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           void tickUpdate(void)                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
003eda   50f2     MOVF      0xf2,0x0,0x0       if(INTCONbits.TMR0IF==1 && INTCONbits.TMR0IE==1)                             F:\MCP\projects\CAN\canBase\Source\Tick.c
003edc   0b04     ANDLW     0x4                                                                                             
003ede   e00e     BZ        0x3efc                                                                                          
003ee0   50f2     MOVF      0xf2,0x0,0x0                                                                                    
003ee2   0b20     ANDLW     0x20                                                                                            
003ee4   e00b     BZ        0x3efc                                                                                          
                                               {                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003ee6   0ef3     MOVLW     0xf3               	TMR0H = (BYTE)((TICK_COUNTER & 0xFF00)>>8);                                 F:\MCP\projects\CAN\canBase\Source\Tick.c
003ee8   6ed7     MOVWF     0xd7,0x0                                                                                        
003eea   0ecb     MOVLW     0xcb               	TMR0L = (TICK_COUNTER & 0xFF);                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
003eec   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003eee   0100     MOVLB     0x0                    TickCount++;                                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
003ef0   2b89     INCF      0x89,0x1,0x1                                                                                    
003ef2   0e00     MOVLW     0x0                                                                                             
003ef4   238a     ADDWFC    0x8a,0x1,0x1                                                                                    
003ef6   238b     ADDWFC    0x8b,0x1,0x1                                                                                    
003ef8   238c     ADDWFC    0x8c,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003efa   94f2     BCF       0xf2,0x2,0x0           INTCONbits.TMR0IF = 0;                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               }                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003efc   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                  CAN module                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *********************************************************************           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * FileName:        $HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/canBase/Source/CAN.c $ F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * Last changed:	$LastChangedDate: 2007-02-26 21:38:37 +0100 (m√•, 26 feb 2007) $ F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * By:				$LastChangedBy: johboh $                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * Revision:		$Revision: 342 $                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <CANdefs.h>                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <EEaccess.h>                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <funcdefs.h>                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           static TICK heartbeat;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           static int MY_ID = DEFAULT_ID;                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           static CAN_PACKET outCp;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           static void canGetPacket(void);                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canInit                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: Changes can registers.                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           void canInit()                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00305c   0e80     MOVLW     0x80           	CANCON = 0x80; //request config mode                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00305e   6e6f     MOVWF     0x6f,0x0                                                                                        
003060   0ee0     MOVLW     0xe0           	while ((CANSTAT & 0xE0) != 0x80 ); //wait for config mode request               F:\MCP\projects\CAN\canBase\Source\CAN.c
003062   146e     ANDWF     0x6e,0x0,0x0                                                                                    
003064   0880     SUBLW     0x80                                                                                            
003066   e001     BZ        0x306a                                                                                          
003068   d7fb     BRA       0x3060                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// BAUD AND TQS                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// 500Khz@40Mhz (new by the book)                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00306a   0e04     MOVLW     0x4            	BRGCON1 = 0x04;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
00306c   6e70     MOVWF     0x70,0x0                                                                                        
00306e   0ed1     MOVLW     0xd1           	BRGCON2 = 0xD1;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003070   6e71     MOVWF     0x71,0x0                                                                                        
003072   0e81     MOVLW     0x81           	BRGCON3 = 0x81;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003074   6e72     MOVWF     0x72,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON1=0;                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Sync_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON1bits.SJW1=0;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON1bits.SJW0=1;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Setting BRP.                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON1=BRGCON1|CAN_BRP;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Maximum PHEG1                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.SEG2PHTS = 1;                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Phase_Seg1 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.SEG1PH2 = 0;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.SEG1PH1 = 0;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.SEG1PH0 = 1;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Prop_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.PRSEG2 = 0;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.PRSEG1 = 0;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.PRSEG0 = 1;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//  Enableing bus wake-up                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.WAKDIS = 0;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Dont use filter when wakeup                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.WAKFIL = 0;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Phase_Seg2 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.SEG2PH2 = 0;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.SEG2PH1 = 0;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.SEG2PH0 = 1;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003076   6a77     CLRF      0x77,0x0       	ECANCON=0;                                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
003078   8e77     BSF       0x77,0x7,0x0   	ECANCONbits.MDSEL1 = 1; // 0  For mode 1                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
00307a   9c77     BCF       0x77,0x6,0x0   	ECANCONbits.MDSEL0 = 0; // 1  For mode 1                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// FILTERS AND MASKS                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00307c   8c60     BSF       0x60,0x6,0x0   	RXB0CONbits.RXM1=1;                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
00307e   9a60     BCF       0x60,0x5,0x0   	RXB0CONbits.RXM0=0;                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// INTERRUPTS                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Diable transmit interrupt                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
003080   010d     MOVLB     0xd            	TXBIE = 0;                                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
003082   6bfc     CLRF      0xfc,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//rx any interrupt                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003084   6aa4     CLRF      0xa4,0x0       	PIR3 = 0;                                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
003086   0e03     MOVLW     0x3            	PIE3 = 0b00000011;                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003088   6ea3     MOVWF     0xa3,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// High interrupt                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00308a   6ea5     MOVWF     0xa5,0x0       	IPR3 =0b00000011;                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Programmable buffers interrupt                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00308c   69fa     SETF      0xfa,0x1       	BIE0  = 0xFF;	                                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//loopback mode or not                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	#ifdef CAN_LOOPBACK_MODE                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		CANCON = 0x40;//request loopback mode                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		while ((CANSTAT & 0xE0) != 0x40 );//wait for loopback mode                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	#else                                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
00308e   6a6f     CLRF      0x6f,0x0       		CANCON = 0x00;//request normal mode                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003090   0ee0     MOVLW     0xe0           		while ((CANSTAT & 0xE0) != 0x00 );//wait for normal mode                       F:\MCP\projects\CAN\canBase\Source\CAN.c
003092   146e     ANDWF     0x6e,0x0,0x0                                                                                    
003094   e001     BZ        0x3098                                                                                          
003096   d7fc     BRA       0x3090                                                                                          
                                           	#endif                                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Init ticker service                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
003098   ec54     CALL      0x3ea8,0x0     	tickInit();                                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
00309a   f01f                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Read ID and NID if exist.                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
00309c   0e00     MOVLW     0x0            	if (EERead(NODE_ID_EE)==NODE_HAS_ID)                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00309e   6ee6     MOVWF     0xe6,0x0                                                                                        
0030a0   6ae6     CLRF      0xe6,0x0                                                                                        
0030a2   ecaf     CALL      0x3d5e,0x0                                                                                      
0030a4   f01e                                                                                                               
0030a6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030a8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030aa   082a     SUBLW     0x2a                                                                                            
0030ac   e10a     BNZ       0x30c2                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
0030ae   0e01     MOVLW     0x1            		MY_ID=+EERead(NODE_ID_EE + 1);                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0030b0   6ee6     MOVWF     0xe6,0x0                                                                                        
0030b2   6ae6     CLRF      0xe6,0x0                                                                                        
0030b4   ecaf     CALL      0x3d5e,0x0                                                                                      
0030b6   f01e                                                                                                               
0030b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030ba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030bc   0100     MOVLB     0x0                                                                                             
0030be   6f91     MOVWF     0x91,0x1                                                                                        
0030c0   6b92     CLRF      0x92,0x1                                                                                        
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Send user program startup heatbeat                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
0030c2   0100     MOVLB     0x0            	outCp.type=ptPGM;                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
0030c4   0e01     MOVLW     0x1                                                                                             
0030c6   6f64     MOVWF     0x64,0x1                                                                                        
0030c8   6b65     CLRF      0x65,0x1       	outCp.pgm.class=pcCTRL;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
0030ca   6f66     MOVWF     0x66,0x1       	outCp.pgm.id=pctAPPBOOT;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
0030cc   6b67     CLRF      0x67,0x1                                                                                        
0030ce   0e02     MOVLW     0x2            	outCp.length=2;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0030d0   6f6c     MOVWF     0x6c,0x1                                                                                        
0030d2   6b6e     CLRF      0x6e,0x1       	outCp.data[1]=(BYTE)((APP_VERSION & 0xFF00)>>8);                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0030d4   0e01     MOVLW     0x1            	outCp.data[0]=(BYTE)(APP_VERSION & 0xFF);                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
0030d6   6f6d     MOVWF     0x6d,0x1                                                                                        
0030d8   0e02     MOVLW     0x2            	while(!canSendMessage(outCp,PRIO_HIGH));                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
0030da   6ee6     MOVWF     0xe6,0x0                                                                                        
0030dc   c064     MOVFF     0x64,0xfe6                                                                                      
0030de   ffe6                                                                                                               
0030e0   c065     MOVFF     0x65,0xfe6                                                                                      
0030e2   ffe6                                                                                                               
0030e4   c066     MOVFF     0x66,0xfe6                                                                                      
0030e6   ffe6                                                                                                               
0030e8   c067     MOVFF     0x67,0xfe6                                                                                      
0030ea   ffe6                                                                                                               
0030ec   c068     MOVFF     0x68,0xfe6                                                                                      
0030ee   ffe6                                                                                                               
0030f0   c069     MOVFF     0x69,0xfe6                                                                                      
0030f2   ffe6                                                                                                               
0030f4   c06a     MOVFF     0x6a,0xfe6                                                                                      
0030f6   ffe6                                                                                                               
0030f8   c06b     MOVFF     0x6b,0xfe6                                                                                      
0030fa   ffe6                                                                                                               
0030fc   c06c     MOVFF     0x6c,0xfe6                                                                                      
0030fe   ffe6                                                                                                               
003100   c06d     MOVFF     0x6d,0xfe6                                                                                      
003102   ffe6                                                                                                               
003104   c06e     MOVFF     0x6e,0xfe6                                                                                      
003106   ffe6                                                                                                               
003108   c06f     MOVFF     0x6f,0xfe6                                                                                      
00310a   ffe6                                                                                                               
00310c   c070     MOVFF     0x70,0xfe6                                                                                      
00310e   ffe6                                                                                                               
003110   c071     MOVFF     0x71,0xfe6                                                                                      
003112   ffe6                                                                                                               
003114   c072     MOVFF     0x72,0xfe6                                                                                      
003116   ffe6                                                                                                               
003118   c073     MOVFF     0x73,0xfe6                                                                                      
00311a   ffe6                                                                                                               
00311c   c074     MOVFF     0x74,0xfe6                                                                                      
00311e   ffe6                                                                                                               
003120   d9cb     RCALL     0x34b8                                                                                          
003122   6e00     MOVWF     0x0,0x0                                                                                         
003124   0e12     MOVLW     0x12                                                                                            
003126   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003128   5000     MOVF      0x0,0x0,0x0                                                                                     
00312a   0900     IORLW     0x0                                                                                             
00312c   e101     BNZ       0x3130                                                                                          
00312e   d7d4     BRA       0x30d8                                                                                          
003130   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canISR                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: a call to canInit()                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: interrupt registers and receive data buffers                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           void canISR()                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
003132   0004     CLRWDT                   	ClrWdt();                                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003134   ec6d     CALL      0x3eda,0x0     	tickUpdate();                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
003136   f01f                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003138   50a4     MOVF      0xa4,0x0,0x0   	if (PIR3bits.RXBnIF || PIR3bits.RXB1IF || PIR3bits.RXB0IF)                      F:\MCP\projects\CAN\canBase\Source\CAN.c
00313a   0b02     ANDLW     0x2                                                                                             
00313c   e106     BNZ       0x314a                                                                                          
00313e   50a4     MOVF      0xa4,0x0,0x0                                                                                    
003140   0b02     ANDLW     0x2                                                                                             
003142   e103     BNZ       0x314a                                                                                          
003144   50a4     MOVF      0xa4,0x0,0x0                                                                                    
003146   0b01     ANDLW     0x1                                                                                             
003148   e016     BZ        0x3176                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00314a   0e0f     MOVLW     0xf            		ECANCON=(ECANCON&0b00000)|(0b10000|(CANCON&0x0F));                             F:\MCP\projects\CAN\canBase\Source\CAN.c
00314c   146f     ANDWF     0x6f,0x0,0x0                                                                                    
00314e   0910     IORLW     0x10                                                                                            
003150   6e00     MOVWF     0x0,0x0                                                                                         
003152   0e00     MOVLW     0x0                                                                                             
003154   1477     ANDWF     0x77,0x0,0x0                                                                                    
003156   1000     IORWF     0x0,0x0,0x0                                                                                     
003158   6e77     MOVWF     0x77,0x0                                                                                        
00315a   be60     BTFSC     0x60,0x7,0x0   		if (RXB0CONbits.RXFUL) canGetPacket();                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
00315c   d867     RCALL     0x322c                                                                                          
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00315e   a2a4     BTFSS     0xa4,0x1,0x0   		if (PIR3bits.RXBnIF) {PIR3bits.RXBnIF = 0; return;}                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003160   d002     BRA       0x3166                                                                                          
003162   92a4     BCF       0xa4,0x1,0x0                                                                                    
003164   d062     BRA       0x322a                                                                                          
003166   a2a4     BTFSS     0xa4,0x1,0x0   		if (PIR3bits.RXB1IF) {PIR3bits.RXB1IF = 0; return;}                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003168   d002     BRA       0x316e                                                                                          
00316a   92a4     BCF       0xa4,0x1,0x0                                                                                    
00316c   d05e     BRA       0x322a                                                                                          
00316e   a0a4     BTFSS     0xa4,0x0,0x0   		if (PIR3bits.RXB0IF) {PIR3bits.RXB0IF = 0; return;}                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003170   d002     BRA       0x3176                                                                                          
003172   90a4     BCF       0xa4,0x0,0x0                                                                                    
003174   d05a     BRA       0x322a                                                                                          
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003176   ec63     CALL      0x3ec6,0x0     	if ((tickGet()-heartbeat)>TICK_1S*5)                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003178   f01f                                                                                                               
00317a   0100     MOVLB     0x0                                                                                             
00317c   5160     MOVF      0x60,0x0,0x1                                                                                    
00317e   5c10     SUBWF     0x10,0x0,0x0                                                                                    
003180   6e00     MOVWF     0x0,0x0                                                                                         
003182   0100     MOVLB     0x0                                                                                             
003184   5161     MOVF      0x61,0x0,0x1                                                                                    
003186   5811     SUBWFB    0x11,0x0,0x0                                                                                    
003188   6e01     MOVWF     0x1,0x0                                                                                         
00318a   0100     MOVLB     0x0                                                                                             
00318c   5162     MOVF      0x62,0x0,0x1                                                                                    
00318e   5812     SUBWFB    0x12,0x0,0x0                                                                                    
003190   6e02     MOVWF     0x2,0x0                                                                                         
003192   0100     MOVLB     0x0                                                                                             
003194   5163     MOVF      0x63,0x0,0x1                                                                                    
003196   5813     SUBWFB    0x13,0x0,0x0                                                                                    
003198   6e03     MOVWF     0x3,0x0                                                                                         
00319a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00319c   0ef4     MOVLW     0xf4                                                                                            
00319e   5400     SUBFWB    0x0,0x0,0x0                                                                                     
0031a0   0e01     MOVLW     0x1                                                                                             
0031a2   5401     SUBFWB    0x1,0x0,0x0                                                                                     
0031a4   0e00     MOVLW     0x0                                                                                             
0031a6   5402     SUBFWB    0x2,0x0,0x0                                                                                     
0031a8   0e00     MOVLW     0x0                                                                                             
0031aa   5403     SUBFWB    0x3,0x0,0x0                                                                                     
0031ac   e23e     BC        0x322a                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Send alive heartbeat                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
0031ae   0100     MOVLB     0x0            		outCp.type=ptPGM;                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
0031b0   0e01     MOVLW     0x1                                                                                             
0031b2   6f64     MOVWF     0x64,0x1                                                                                        
0031b4   0100     MOVLB     0x0            		outCp.pgm.class=pcCTRL;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
0031b6   6b65     CLRF      0x65,0x1                                                                                        
0031b8   0e02     MOVLW     0x2            		outCp.pgm.id=pctHEARTBEAT;                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
0031ba   0100     MOVLB     0x0                                                                                             
0031bc   6f66     MOVWF     0x66,0x1                                                                                        
0031be   6b67     CLRF      0x67,0x1                                                                                        
0031c0   0100     MOVLB     0x0            		outCp.length=0;                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0031c2   6b6c     CLRF      0x6c,0x1                                                                                        
0031c4   0e02     MOVLW     0x2            		canSendMessage(outCp,PRIO_HIGH);                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
0031c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0031c8   c064     MOVFF     0x64,0xfe6                                                                                      
0031ca   ffe6                                                                                                               
0031cc   c065     MOVFF     0x65,0xfe6                                                                                      
0031ce   ffe6                                                                                                               
0031d0   c066     MOVFF     0x66,0xfe6                                                                                      
0031d2   ffe6                                                                                                               
0031d4   c067     MOVFF     0x67,0xfe6                                                                                      
0031d6   ffe6                                                                                                               
0031d8   c068     MOVFF     0x68,0xfe6                                                                                      
0031da   ffe6                                                                                                               
0031dc   c069     MOVFF     0x69,0xfe6                                                                                      
0031de   ffe6                                                                                                               
0031e0   c06a     MOVFF     0x6a,0xfe6                                                                                      
0031e2   ffe6                                                                                                               
0031e4   c06b     MOVFF     0x6b,0xfe6                                                                                      
0031e6   ffe6                                                                                                               
0031e8   c06c     MOVFF     0x6c,0xfe6                                                                                      
0031ea   ffe6                                                                                                               
0031ec   c06d     MOVFF     0x6d,0xfe6                                                                                      
0031ee   ffe6                                                                                                               
0031f0   c06e     MOVFF     0x6e,0xfe6                                                                                      
0031f2   ffe6                                                                                                               
0031f4   c06f     MOVFF     0x6f,0xfe6                                                                                      
0031f6   ffe6                                                                                                               
0031f8   c070     MOVFF     0x70,0xfe6                                                                                      
0031fa   ffe6                                                                                                               
0031fc   c071     MOVFF     0x71,0xfe6                                                                                      
0031fe   ffe6                                                                                                               
003200   c072     MOVFF     0x72,0xfe6                                                                                      
003202   ffe6                                                                                                               
003204   c073     MOVFF     0x73,0xfe6                                                                                      
003206   ffe6                                                                                                               
003208   c074     MOVFF     0x74,0xfe6                                                                                      
00320a   ffe6                                                                                                               
00320c   d955     RCALL     0x34b8                                                                                          
00320e   6e00     MOVWF     0x0,0x0                                                                                         
003210   0e12     MOVLW     0x12                                                                                            
003212   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003214   5000     MOVF      0x0,0x0,0x0                                                                                     
                                           			                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003216   ec63     CALL      0x3ec6,0x0     		heartbeat = tickGet();                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003218   f01f                                                                                                               
00321a   c010     MOVFF     0x10,0x60                                                                                       
00321c   f060                                                                                                               
00321e   c011     MOVFF     0x11,0x61                                                                                       
003220   f061                                                                                                               
003222   c012     MOVFF     0x12,0x62                                                                                       
003224   f062                                                                                                               
003226   c013     MOVFF     0x13,0x63                                                                                       
003228   f063                                                                                                               
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00322a   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canGetPacket                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: a call to canISR and an packet is available and banked to RXB0 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: Calls canParse() function in main for parsing received packet.        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00322c   cfd9     MOVFF     0xfd9,0xfe6    void canGetPacket()                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
00322e   ffe6                                                                                                               
003230   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003232   ffd9                                                                                                               
003234   0e11     MOVLW     0x11                                                                                            
003236   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		CAN_PACKET cp;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		//RXB0SIDH 28 27 26 25 24 23 22 21                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   //RXB0SIDL 20 19 18 xx xx xx 17 16                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   //RXB0EIDH 15 14 13 12 11 10 09 08                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   //RXB0EIDL 07 06 05 04 03 02 01 00                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003238   0e06     MOVLW     0x6            		cp.type = (BYTE)((RXB0SIDH&0xC0)>>6);                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
00323a   6e00     MOVWF     0x0,0x0                                                                                         
00323c   0ec0     MOVLW     0xc0                                                                                            
00323e   1461     ANDWF     0x61,0x0,0x0                                                                                    
003240   c000     MOVFF     0x0,0xfe7                                                                                       
003242   ffe7                                                                                                               
003244   52e7     MOVF      0xe7,0x1,0x0                                                                                    
003246   e004     BZ        0x3250                                                                                          
003248   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00324a   0b7f     ANDLW     0x7f                                                                                            
00324c   06e7     DECF      0xe7,0x1,0x0                                                                                    
00324e   e1fc     BNZ       0x3248                                                                                          
003250   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003252   50df     MOVF      0xdf,0x0,0x0   		if (cp.type==ptBOOT)                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
003254   e122     BNZ       0x329a                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003256   0e38     MOVLW     0x38           			cp.boot.type  = ((RXB0SIDH&0x38)>>3);                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003258   1461     ANDWF     0x61,0x0,0x0                                                                                    
00325a   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
00325c   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
00325e   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
003260   0b1f     ANDLW     0x1f                                                                                            
003262   6ee7     MOVWF     0xe7,0x0                                                                                        
003264   0e04     MOVLW     0x4                                                                                             
003266   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003268   ffdb                                                                                                               
00326a   0e03     MOVLW     0x3            			cp.boot.offset= ((RXB0SIDH&0x7)<<5)+((RXB0SIDL&0xE0)>>3)+(RXB0SIDL&0x3);      F:\MCP\projects\CAN\canBase\Source\CAN.c
00326c   1462     ANDWF     0x62,0x0,0x0                                                                                    
00326e   6e01     MOVWF     0x1,0x0                                                                                         
003270   0ee0     MOVLW     0xe0                                                                                            
003272   1462     ANDWF     0x62,0x0,0x0                                                                                    
003274   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
003276   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
003278   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
00327a   0b1f     ANDLW     0x1f                                                                                            
00327c   6e00     MOVWF     0x0,0x0                                                                                         
00327e   0e07     MOVLW     0x7                                                                                             
003280   1461     ANDWF     0x61,0x0,0x0                                                                                    
003282   0d20     MULLW     0x20                                                                                            
003284   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003286   2400     ADDWF     0x0,0x0,0x0                                                                                     
003288   2401     ADDWF     0x1,0x0,0x0                                                                                     
00328a   6ee7     MOVWF     0xe7,0x0                                                                                        
00328c   0e05     MOVLW     0x5                                                                                             
00328e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003290   ffdb                                                                                                               
003292   0e06     MOVLW     0x6            			cp.boot.rid   = RXB0EIDH;                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
003294   cf63     MOVFF     0xf63,0xfdb                                                                                     
003296   ffdb                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003298   d03c     BRA       0x3312         		else                                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
00329a   0e3c     MOVLW     0x3c           			cp.pgm.class= ((RXB0SIDH&0x3C)>>2);                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
00329c   1461     ANDWF     0x61,0x0,0x0                                                                                    
00329e   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
0032a0   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
0032a2   0b3f     ANDLW     0x3f                                                                                            
0032a4   6ee7     MOVWF     0xe7,0x0                                                                                        
0032a6   0e01     MOVLW     0x1                                                                                             
0032a8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0032aa   ffdb                                                                                                               
0032ac   0e03     MOVLW     0x3            			cp.pgm.id   = (((WORD)RXB0SIDH&0x3)<<13)+(((WORD)RXB0SIDL&0xE0)<<5)+(((WORD)RXB0SIDL&0x3)<<8)+(WORD)RXB0EIDH; F:\MCP\projects\CAN\canBase\Source\CAN.c
0032ae   1461     ANDWF     0x61,0x0,0x0                                                                                    
0032b0   6e06     MOVWF     0x6,0x0                                                                                         
0032b2   6a07     CLRF      0x7,0x0                                                                                         
0032b4   3806     SWAPF     0x6,0x0,0x0                                                                                     
0032b6   6a06     CLRF      0x6,0x0                                                                                         
0032b8   34e8     RLCF      0xe8,0x0,0x0                                                                                    
0032ba   0be0     ANDLW     0xe0                                                                                            
0032bc   6e07     MOVWF     0x7,0x0                                                                                         
0032be   0ee0     MOVLW     0xe0                                                                                            
0032c0   1462     ANDWF     0x62,0x0,0x0                                                                                    
0032c2   6e08     MOVWF     0x8,0x0                                                                                         
0032c4   6a09     CLRF      0x9,0x0                                                                                         
0032c6   0e05     MOVLW     0x5                                                                                             
0032c8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0032ca   3608     RLCF      0x8,0x1,0x0                                                                                     
0032cc   3609     RLCF      0x9,0x1,0x0                                                                                     
0032ce   04e8     DECF      0xe8,0x0,0x0                                                                                    
0032d0   e1fb     BNZ       0x32c8                                                                                          
0032d2   5006     MOVF      0x6,0x0,0x0                                                                                     
0032d4   2408     ADDWF     0x8,0x0,0x0                                                                                     
0032d6   6e04     MOVWF     0x4,0x0                                                                                         
0032d8   5007     MOVF      0x7,0x0,0x0                                                                                     
0032da   2009     ADDWFC    0x9,0x0,0x0                                                                                     
0032dc   6e05     MOVWF     0x5,0x0                                                                                         
0032de   0e03     MOVLW     0x3                                                                                             
0032e0   1462     ANDWF     0x62,0x0,0x0                                                                                    
0032e2   6e0a     MOVWF     0xa,0x0                                                                                         
0032e4   6a0b     CLRF      0xb,0x0                                                                                         
0032e6   c00a     MOVFF     0xa,0xb                                                                                         
0032e8   f00b                                                                                                               
0032ea   6a0a     CLRF      0xa,0x0                                                                                         
0032ec   5004     MOVF      0x4,0x0,0x0                                                                                     
0032ee   240a     ADDWF     0xa,0x0,0x0                                                                                     
0032f0   6e02     MOVWF     0x2,0x0                                                                                         
0032f2   5005     MOVF      0x5,0x0,0x0                                                                                     
0032f4   200b     ADDWFC    0xb,0x0,0x0                                                                                     
0032f6   6e03     MOVWF     0x3,0x0                                                                                         
0032f8   5063     MOVF      0x63,0x0,0x0                                                                                    
0032fa   0100     MOVLB     0x0                                                                                             
0032fc   2402     ADDWF     0x2,0x0,0x0                                                                                     
0032fe   6e00     MOVWF     0x0,0x0                                                                                         
003300   0e00     MOVLW     0x0                                                                                             
003302   2003     ADDWFC    0x3,0x0,0x0                                                                                     
003304   6e01     MOVWF     0x1,0x0                                                                                         
003306   0e02     MOVLW     0x2                                                                                             
003308   c000     MOVFF     0x0,0xfdb                                                                                       
00330a   ffdb                                                                                                               
00330c   0e03     MOVLW     0x3                                                                                             
00330e   c001     MOVFF     0x1,0xfdb                                                                                       
003310   ffdb                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003312   0e07     MOVLW     0x7            		cp.sid   = RXB0EIDL;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
003314   cf64     MOVFF     0xf64,0xfdb                                                                                     
003316   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003318   5065     MOVF      0x65,0x0,0x0   		cp.length=(RXB0DLCbits.DLC3<<3)+(RXB0DLCbits.DLC2<<2)+(RXB0DLCbits.DLC1<<1)+RXB0DLCbits.DLC0; F:\MCP\projects\CAN\canBase\Source\CAN.c
00331a   0b01     ANDLW     0x1                                                                                             
00331c   6e02     MOVWF     0x2,0x0                                                                                         
00331e   5065     MOVF      0x65,0x0,0x0                                                                                    
003320   0b02     ANDLW     0x2                                                                                             
003322   e001     BZ        0x3326                                                                                          
003324   0e01     MOVLW     0x1                                                                                             
003326   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
003328   6e01     MOVWF     0x1,0x0                                                                                         
00332a   5065     MOVF      0x65,0x0,0x0                                                                                    
00332c   0b04     ANDLW     0x4                                                                                             
00332e   e001     BZ        0x3332                                                                                          
003330   0e01     MOVLW     0x1                                                                                             
003332   0d04     MULLW     0x4                                                                                             
003334   cff3     MOVFF     0xff3,0x0                                                                                       
003336   f000                                                                                                               
003338   5065     MOVF      0x65,0x0,0x0                                                                                    
00333a   0b08     ANDLW     0x8                                                                                             
00333c   e001     BZ        0x3340                                                                                          
00333e   0e01     MOVLW     0x1                                                                                             
003340   0d08     MULLW     0x8                                                                                             
003342   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003344   2400     ADDWF     0x0,0x0,0x0                                                                                     
003346   2401     ADDWF     0x1,0x0,0x0                                                                                     
003348   2402     ADDWF     0x2,0x0,0x0                                                                                     
00334a   6ee7     MOVWF     0xe7,0x0                                                                                        
00334c   0e08     MOVLW     0x8                                                                                             
00334e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003350   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003352   0e09     MOVLW     0x9            		cp.data[0]=RXB0D0;	cp.data[1]=RXB0D1;                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
003354   cf66     MOVFF     0xf66,0xfdb                                                                                     
003356   ffdb                                                                                                               
003358   0e0a     MOVLW     0xa                                                                                             
00335a   cf67     MOVFF     0xf67,0xfdb                                                                                     
00335c   ffdb                                                                                                               
00335e   0e0b     MOVLW     0xb            		cp.data[2]=RXB0D2; 	cp.data[3]=RXB0D3;                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003360   cf68     MOVFF     0xf68,0xfdb                                                                                     
003362   ffdb                                                                                                               
003364   0e0c     MOVLW     0xc                                                                                             
003366   cf69     MOVFF     0xf69,0xfdb                                                                                     
003368   ffdb                                                                                                               
00336a   0e0d     MOVLW     0xd            		cp.data[4]=RXB0D4; 	cp.data[5]=RXB0D5;                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
00336c   cf6a     MOVFF     0xf6a,0xfdb                                                                                     
00336e   ffdb                                                                                                               
003370   0e0e     MOVLW     0xe                                                                                             
003372   cf6b     MOVFF     0xf6b,0xfdb                                                                                     
003374   ffdb                                                                                                               
003376   0e0f     MOVLW     0xf            		cp.data[6]=RXB0D6; 	cp.data[7]=RXB0D7;                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003378   cf6c     MOVFF     0xf6c,0xfdb                                                                                     
00337a   ffdb                                                                                                               
00337c   0e10     MOVLW     0x10                                                                                            
00337e   cf6d     MOVFF     0xf6d,0xfdb                                                                                     
003380   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Clear ful status                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003382   9e60     BCF       0x60,0x7,0x0   		RXB0CONbits.RXFUL=0;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Check if bootloader request specific.                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// reset and id change                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003384   50df     MOVF      0xdf,0x0,0x0   		if (cp.type==ptBOOT)                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
003386   e160     BNZ       0x3448                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003388   0e06     MOVLW     0x6            			if (cp.boot.rid==MY_ID)                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
00338a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00338c   6e00     MOVWF     0x0,0x0                                                                                         
00338e   6a01     CLRF      0x1,0x0                                                                                         
003390   0100     MOVLB     0x0                                                                                             
003392   5191     MOVF      0x91,0x0,0x1                                                                                    
003394   1800     XORWF     0x0,0x0,0x0                                                                                     
003396   e102     BNZ       0x339c                                                                                          
003398   5192     MOVF      0x92,0x0,0x1                                                                                    
00339a   1801     XORWF     0x1,0x0,0x0                                                                                     
00339c   e155     BNZ       0x3448                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
00339e   0e04     MOVLW     0x4            				if (cp.boot.type==btADDR) Reset(); // Reset me.                              F:\MCP\projects\CAN\canBase\Source\CAN.c
0033a0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0033a2   e101     BNZ       0x33a6                                                                                          
0033a4   00ff     RESET                                                                                                     
0033a6   0e04     MOVLW     0x4            				if (cp.boot.type==btCHANGEID)                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0033a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0033aa   0807     SUBLW     0x7                                                                                             
0033ac   e14d     BNZ       0x3448                                                                                          
                                           				{                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           						// Change my ID and NID                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
0033ae   0e09     MOVLW     0x9            						MY_ID=cp.data[0];                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
0033b0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0033b2   0100     MOVLB     0x0                                                                                             
0033b4   6f91     MOVWF     0x91,0x1                                                                                        
0033b6   6b92     CLRF      0x92,0x1                                                                                        
0033b8   0e09     MOVLW     0x9            						EEWrite(NODE_ID_EE+1,cp.data[0]);                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
0033ba   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0033bc   ffe6                                                                                                               
0033be   0e01     MOVLW     0x1                                                                                             
0033c0   6ee6     MOVWF     0xe6,0x0                                                                                        
0033c2   6ae6     CLRF      0xe6,0x0                                                                                        
0033c4   ecd4     CALL      0x3da8,0x0                                                                                      
0033c6   f01e                                                                                                               
0033c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033ca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033ce   0e2a     MOVLW     0x2a           						EEWrite(NODE_ID_EE,NODE_HAS_ID);                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
0033d0   6ee6     MOVWF     0xe6,0x0                                                                                        
0033d2   0e00     MOVLW     0x0                                                                                             
0033d4   6ee6     MOVWF     0xe6,0x0                                                                                        
0033d6   6ae6     CLRF      0xe6,0x0                                                                                        
0033d8   ecd4     CALL      0x3da8,0x0                                                                                      
0033da   f01e                                                                                                               
0033dc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           						// Send ack with new id.                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
0033e2   0100     MOVLB     0x0            						outCp.type=ptBOOT;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
0033e4   6b64     CLRF      0x64,0x1                                                                                        
0033e6   0100     MOVLB     0x0            						outCp.boot.type=btACK;                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
0033e8   0e04     MOVLW     0x4                                                                                             
0033ea   6f68     MOVWF     0x68,0x1                                                                                        
0033ec   0100     MOVLB     0x0            						outCp.length=0;                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0033ee   6b6c     CLRF      0x6c,0x1                                                                                        
0033f0   0e02     MOVLW     0x2            						while(!canSendMessage(outCp,PRIO_HIGH));                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
0033f2   6ee6     MOVWF     0xe6,0x0                                                                                        
0033f4   c064     MOVFF     0x64,0xfe6                                                                                      
0033f6   ffe6                                                                                                               
0033f8   c065     MOVFF     0x65,0xfe6                                                                                      
0033fa   ffe6                                                                                                               
0033fc   c066     MOVFF     0x66,0xfe6                                                                                      
0033fe   ffe6                                                                                                               
003400   c067     MOVFF     0x67,0xfe6                                                                                      
003402   ffe6                                                                                                               
003404   c068     MOVFF     0x68,0xfe6                                                                                      
003406   ffe6                                                                                                               
003408   c069     MOVFF     0x69,0xfe6                                                                                      
00340a   ffe6                                                                                                               
00340c   c06a     MOVFF     0x6a,0xfe6                                                                                      
00340e   ffe6                                                                                                               
003410   c06b     MOVFF     0x6b,0xfe6                                                                                      
003412   ffe6                                                                                                               
003414   c06c     MOVFF     0x6c,0xfe6                                                                                      
003416   ffe6                                                                                                               
003418   c06d     MOVFF     0x6d,0xfe6                                                                                      
00341a   ffe6                                                                                                               
00341c   c06e     MOVFF     0x6e,0xfe6                                                                                      
00341e   ffe6                                                                                                               
003420   c06f     MOVFF     0x6f,0xfe6                                                                                      
003422   ffe6                                                                                                               
003424   c070     MOVFF     0x70,0xfe6                                                                                      
003426   ffe6                                                                                                               
003428   c071     MOVFF     0x71,0xfe6                                                                                      
00342a   ffe6                                                                                                               
00342c   c072     MOVFF     0x72,0xfe6                                                                                      
00342e   ffe6                                                                                                               
003430   c073     MOVFF     0x73,0xfe6                                                                                      
003432   ffe6                                                                                                               
003434   c074     MOVFF     0x74,0xfe6                                                                                      
003436   ffe6                                                                                                               
003438   d83f     RCALL     0x34b8                                                                                          
00343a   6e00     MOVWF     0x0,0x0                                                                                         
00343c   0e12     MOVLW     0x12                                                                                            
00343e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003440   5000     MOVF      0x0,0x0,0x0                                                                                     
003442   0900     IORLW     0x0                                                                                             
003444   e101     BNZ       0x3448                                                                                          
003446   d7d4     BRA       0x33f0                                                                                          
                                           				}                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			}                                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		//Call main parser                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
003448   04df     DECF      0xdf,0x0,0x0   		if (cp.type==ptPGM) canParse(cp);                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
00344a   e12c     BNZ       0x34a4                                                                                          
00344c   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
00344e   ffe9                                                                                                               
003450   cfda     MOVFF     0xfda,0xfea                                                                                     
003452   ffea                                                                                                               
003454   cfee     MOVFF     0xfee,0xfe6                                                                                     
003456   ffe6                                                                                                               
003458   cfee     MOVFF     0xfee,0xfe6                                                                                     
00345a   ffe6                                                                                                               
00345c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00345e   ffe6                                                                                                               
003460   cfee     MOVFF     0xfee,0xfe6                                                                                     
003462   ffe6                                                                                                               
003464   cfee     MOVFF     0xfee,0xfe6                                                                                     
003466   ffe6                                                                                                               
003468   cfee     MOVFF     0xfee,0xfe6                                                                                     
00346a   ffe6                                                                                                               
00346c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00346e   ffe6                                                                                                               
003470   cfee     MOVFF     0xfee,0xfe6                                                                                     
003472   ffe6                                                                                                               
003474   cfee     MOVFF     0xfee,0xfe6                                                                                     
003476   ffe6                                                                                                               
003478   cfee     MOVFF     0xfee,0xfe6                                                                                     
00347a   ffe6                                                                                                               
00347c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00347e   ffe6                                                                                                               
003480   cfee     MOVFF     0xfee,0xfe6                                                                                     
003482   ffe6                                                                                                               
003484   cfee     MOVFF     0xfee,0xfe6                                                                                     
003486   ffe6                                                                                                               
003488   cfee     MOVFF     0xfee,0xfe6                                                                                     
00348a   ffe6                                                                                                               
00348c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00348e   ffe6                                                                                                               
003490   cfee     MOVFF     0xfee,0xfe6                                                                                     
003492   ffe6                                                                                                               
003494   cfee     MOVFF     0xfee,0xfe6                                                                                     
003496   ffe6                                                                                                               
003498   ec41     CALL      0x3c82,0x0                                                                                      
00349a   f01e                                                                                                               
00349c   6e00     MOVWF     0x0,0x0                                                                                         
00349e   0e11     MOVLW     0x11                                                                                            
0034a0   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0034a2   5000     MOVF      0x0,0x0,0x0                                                                                     
0034a4   0e11     MOVLW     0x11           }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0034a6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0034a8   e202     BC        0x34ae                                                                                          
0034aa   6ae1     CLRF      0xe1,0x0                                                                                        
0034ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0034ae   6ee1     MOVWF     0xe1,0x0                                                                                        
0034b0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0034b2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0034b4   ffd9                                                                                                               
0034b6   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canSendMessage                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	CAN_MESSAGE to send                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: True if packet scheduled sucess, false otherwise.                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: canInit                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: ..                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
0034b8   cfd9     MOVFF     0xfd9,0xfe6    BOOL canSendMessage(CAN_PACKET cp, CAN_PRIORITY prio)                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0034ba   ffe6                                                                                                               
0034bc   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0034be   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0034c0   010f     MOVLB     0xf            	if ( TXB0CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00011; }           F:\MCP\projects\CAN\canBase\Source\CAN.c
0034c2   b740     BTFSC     0x40,0x3,0x1                                                                                    
0034c4   d005     BRA       0x34d0                                                                                          
0034c6   0e00     MOVLW     0x0                                                                                             
0034c8   1477     ANDWF     0x77,0x0,0x0                                                                                    
0034ca   0903     IORLW     0x3                                                                                             
0034cc   6e77     MOVWF     0x77,0x0                                                                                        
0034ce   d012     BRA       0x34f4         	else if ( TXB1CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00100; }      F:\MCP\projects\CAN\canBase\Source\CAN.c
0034d0   010f     MOVLB     0xf                                                                                             
0034d2   b730     BTFSC     0x30,0x3,0x1                                                                                    
0034d4   d005     BRA       0x34e0                                                                                          
0034d6   0e00     MOVLW     0x0                                                                                             
0034d8   1477     ANDWF     0x77,0x0,0x0                                                                                    
0034da   0904     IORLW     0x4                                                                                             
0034dc   6e77     MOVWF     0x77,0x0                                                                                        
0034de   d00a     BRA       0x34f4         	else if ( TXB2CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00101; }      F:\MCP\projects\CAN\canBase\Source\CAN.c
0034e0   010f     MOVLB     0xf                                                                                             
0034e2   b720     BTFSC     0x20,0x3,0x1                                                                                    
0034e4   d005     BRA       0x34f0                                                                                          
0034e6   0e00     MOVLW     0x0                                                                                             
0034e8   1477     ANDWF     0x77,0x0,0x0                                                                                    
0034ea   0905     IORLW     0x5                                                                                             
0034ec   6e77     MOVWF     0x77,0x0                                                                                        
0034ee   d002     BRA       0x34f4         	else { return FALSE;}  // None of the transmit buffers were empty.              F:\MCP\projects\CAN\canBase\Source\CAN.c
0034f0   0e00     MOVLW     0x0                                                                                             
0034f2   d0bd     BRA       0x366e                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0034f4   0eed     MOVLW     0xed           	if (prio<0 || prio>3) prio = 0;                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0034f6   cfdb     MOVFF     0xfdb,0x0                                                                                       
0034f8   f000                                                                                                               
0034fa   3400     RLCF      0x0,0x0,0x0                                                                                     
0034fc   e20e     BC        0x351a                                                                                          
0034fe   0eed     MOVLW     0xed                                                                                            
003500   cfdb     MOVFF     0xfdb,0x1                                                                                       
003502   f001                                                                                                               
003504   0e03     MOVLW     0x3                                                                                             
003506   6ee7     MOVWF     0xe7,0x0                                                                                        
003508   1801     XORWF     0x1,0x0,0x0                                                                                     
00350a   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00350c   d002     BRA       0x3512                                                                                          
00350e   3401     RLCF      0x1,0x0,0x0                                                                                     
003510   d003     BRA       0x3518                                                                                          
003512   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003514   80d8     BSF       0xd8,0x0,0x0                                                                                    
003516   5401     SUBFWB    0x1,0x0,0x0                                                                                     
003518   e202     BC        0x351e                                                                                          
00351a   0eed     MOVLW     0xed                                                                                            
00351c   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//RXB0SIDH 28 27 26 25 24 23 22 21                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//RXB0SIDL 20 19 18 xx xx xx 17 16                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//RXB0EIDH 15 14 13 12 11 10 09 08                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//RXB0EIDL 07 06 05 04 03 02 01 00                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00351e   0eee     MOVLW     0xee           	if (cp.type==ptBOOT)                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003520   50db     MOVF      0xdb,0x0,0x0                                                                                    
003522   e124     BNZ       0x356c                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
003524   0ef3     MOVLW     0xf3           		RXB0SIDH = ((cp.type&0x3)<<6)+((cp.boot.type&0x7)<<3)+((cp.boot.offset&0xE0)>>5); F:\MCP\projects\CAN\canBase\Source\CAN.c
003526   50db     MOVF      0xdb,0x0,0x0                                                                                    
003528   0be0     ANDLW     0xe0                                                                                            
00352a   0be0     ANDLW     0xe0                                                                                            
00352c   38e8     SWAPF     0xe8,0x0,0x0                                                                                    
00352e   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
003530   6e01     MOVWF     0x1,0x0                                                                                         
003532   0ef2     MOVLW     0xf2                                                                                            
003534   50db     MOVF      0xdb,0x0,0x0                                                                                    
003536   0b07     ANDLW     0x7                                                                                             
003538   0d08     MULLW     0x8                                                                                             
00353a   cff3     MOVFF     0xff3,0x0                                                                                       
00353c   f000                                                                                                               
00353e   0eee     MOVLW     0xee                                                                                            
003540   50db     MOVF      0xdb,0x0,0x0                                                                                    
003542   0b03     ANDLW     0x3                                                                                             
003544   0d40     MULLW     0x40                                                                                            
003546   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003548   2400     ADDWF     0x0,0x0,0x0                                                                                     
00354a   2401     ADDWF     0x1,0x0,0x0                                                                                     
00354c   6e61     MOVWF     0x61,0x0                                                                                        
00354e   0ef3     MOVLW     0xf3           		RXB0SIDL = ((cp.boot.offset&0x1C)<<3)+(cp.boot.offset&0x3);                    F:\MCP\projects\CAN\canBase\Source\CAN.c
003550   50db     MOVF      0xdb,0x0,0x0                                                                                    
003552   0b03     ANDLW     0x3                                                                                             
003554   6e00     MOVWF     0x0,0x0                                                                                         
003556   0ef3     MOVLW     0xf3                                                                                            
003558   50db     MOVF      0xdb,0x0,0x0                                                                                    
00355a   0b1c     ANDLW     0x1c                                                                                            
00355c   0d08     MULLW     0x8                                                                                             
00355e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003560   2400     ADDWF     0x0,0x0,0x0                                                                                     
003562   6e62     MOVWF     0x62,0x0                                                                                        
003564   0ef4     MOVLW     0xf4           		RXB0EIDH = cp.boot.rid;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
003566   50db     MOVF      0xdb,0x0,0x0                                                                                    
003568   6e63     MOVWF     0x63,0x0                                                                                        
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00356a   d04f     BRA       0x360a         	else                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00356c   0eef     MOVLW     0xef           		RXB0SIDH = ((cp.type&0x3)<<6)+((cp.pgm.class&0xF)<<2)+((cp.pgm.id&0x6000)>>13); F:\MCP\projects\CAN\canBase\Source\CAN.c
00356e   50db     MOVF      0xdb,0x0,0x0                                                                                    
003570   0b0f     ANDLW     0xf                                                                                             
003572   0d04     MULLW     0x4                                                                                             
003574   cff3     MOVFF     0xff3,0x2                                                                                       
003576   f002                                                                                                               
003578   0eee     MOVLW     0xee                                                                                            
00357a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00357c   0b03     ANDLW     0x3                                                                                             
00357e   0d40     MULLW     0x40                                                                                            
003580   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003582   2402     ADDWF     0x2,0x0,0x0                                                                                     
003584   6e00     MOVWF     0x0,0x0                                                                                         
003586   6a01     CLRF      0x1,0x0                                                                                         
003588   be00     BTFSC     0x0,0x7,0x0                                                                                     
00358a   6801     SETF      0x1,0x0                                                                                         
00358c   0ef0     MOVLW     0xf0                                                                                            
00358e   cfdb     MOVFF     0xfdb,0x3                                                                                       
003590   f003                                                                                                               
003592   0ef1     MOVLW     0xf1                                                                                            
003594   cfdb     MOVFF     0xfdb,0x4                                                                                       
003596   f004                                                                                                               
003598   0e00     MOVLW     0x0                                                                                             
00359a   1603     ANDWF     0x3,0x1,0x0                                                                                     
00359c   0e60     MOVLW     0x60                                                                                            
00359e   1604     ANDWF     0x4,0x1,0x0                                                                                     
0035a0   3804     SWAPF     0x4,0x0,0x0                                                                                     
0035a2   6a04     CLRF      0x4,0x0                                                                                         
0035a4   30e8     RRCF      0xe8,0x0,0x0                                                                                    
0035a6   0b07     ANDLW     0x7                                                                                             
0035a8   6e03     MOVWF     0x3,0x0                                                                                         
0035aa   5000     MOVF      0x0,0x0,0x0                                                                                     
0035ac   2403     ADDWF     0x3,0x0,0x0                                                                                     
0035ae   6e61     MOVWF     0x61,0x0                                                                                        
0035b0   0ef0     MOVLW     0xf0           		RXB0SIDL = ((cp.pgm.id&0x1C00)>>5)+((cp.pgm.id&0x300)>>8);                     F:\MCP\projects\CAN\canBase\Source\CAN.c
0035b2   cfdb     MOVFF     0xfdb,0x0                                                                                       
0035b4   f000                                                                                                               
0035b6   0ef1     MOVLW     0xf1                                                                                            
0035b8   cfdb     MOVFF     0xfdb,0x1                                                                                       
0035ba   f001                                                                                                               
0035bc   0e00     MOVLW     0x0                                                                                             
0035be   1600     ANDWF     0x0,0x1,0x0                                                                                     
0035c0   0e1c     MOVLW     0x1c                                                                                            
0035c2   1601     ANDWF     0x1,0x1,0x0                                                                                     
0035c4   0e05     MOVLW     0x5                                                                                             
0035c6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0035c8   3201     RRCF      0x1,0x1,0x0                                                                                     
0035ca   3200     RRCF      0x0,0x1,0x0                                                                                     
0035cc   04e8     DECF      0xe8,0x0,0x0                                                                                    
0035ce   e1fb     BNZ       0x35c6                                                                                          
0035d0   0ef0     MOVLW     0xf0                                                                                            
0035d2   cfdb     MOVFF     0xfdb,0x2                                                                                       
0035d4   f002                                                                                                               
0035d6   0ef1     MOVLW     0xf1                                                                                            
0035d8   cfdb     MOVFF     0xfdb,0x3                                                                                       
0035da   f003                                                                                                               
0035dc   0e00     MOVLW     0x0                                                                                             
0035de   1602     ANDWF     0x2,0x1,0x0                                                                                     
0035e0   0e03     MOVLW     0x3                                                                                             
0035e2   1603     ANDWF     0x3,0x1,0x0                                                                                     
0035e4   c003     MOVFF     0x3,0x2                                                                                         
0035e6   f002                                                                                                               
0035e8   6a03     CLRF      0x3,0x0                                                                                         
0035ea   5000     MOVF      0x0,0x0,0x0                                                                                     
0035ec   2402     ADDWF     0x2,0x0,0x0                                                                                     
0035ee   6e62     MOVWF     0x62,0x0                                                                                        
0035f0   0eff     MOVLW     0xff           		RXB0EIDH = (cp.pgm.id&0xFF);                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
0035f2   6ee7     MOVWF     0xe7,0x0                                                                                        
0035f4   0ef0     MOVLW     0xf0                                                                                            
0035f6   cfdb     MOVFF     0xfdb,0x0                                                                                       
0035f8   f000                                                                                                               
0035fa   0ef1     MOVLW     0xf1                                                                                            
0035fc   cfdb     MOVFF     0xfdb,0x1                                                                                       
0035fe   f001                                                                                                               
003600   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003602   1600     ANDWF     0x0,0x1,0x0                                                                                     
003604   6a01     CLRF      0x1,0x0                                                                                         
003606   5000     MOVF      0x0,0x0,0x0                                                                                     
003608   6e63     MOVWF     0x63,0x0                                                                                        
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00360a   c091     MOVFF     0x91,0xf64     	RXB0EIDL = MY_ID;                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00360c   ff64                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Data length                                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
00360e   6a65     CLRF      0x65,0x0       	RXB0DLC = 0;                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
003610   0ef6     MOVLW     0xf6           	if (cp.length>8) RXB0DLC=8; else RXB0DLC=cp.length;                             F:\MCP\projects\CAN\canBase\Source\CAN.c
003612   50db     MOVF      0xdb,0x0,0x0                                                                                    
003614   0808     SUBLW     0x8                                                                                             
003616   e203     BC        0x361e                                                                                          
003618   0e08     MOVLW     0x8                                                                                             
00361a   6e65     MOVWF     0x65,0x0                                                                                        
00361c   d003     BRA       0x3624                                                                                          
00361e   0ef6     MOVLW     0xf6                                                                                            
003620   50db     MOVF      0xdb,0x0,0x0                                                                                    
003622   6e65     MOVWF     0x65,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// NOT Remote request                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	_asm                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003624   9c65     BCF       0x65,0x6,0x0   		bcf RXB0DLC, 6, 0                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	_endasm                                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Data one bye one, for speed                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
003626   0ef7     MOVLW     0xf7           	RXB0D0=cp.data[0];	RXB0D1=cp.data[1];                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
003628   50db     MOVF      0xdb,0x0,0x0                                                                                    
00362a   6e66     MOVWF     0x66,0x0                                                                                        
00362c   0ef8     MOVLW     0xf8                                                                                            
00362e   50db     MOVF      0xdb,0x0,0x0                                                                                    
003630   6e67     MOVWF     0x67,0x0                                                                                        
003632   0ef9     MOVLW     0xf9           	RXB0D2=cp.data[2]; 	RXB0D3=cp.data[3];                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
003634   50db     MOVF      0xdb,0x0,0x0                                                                                    
003636   6e68     MOVWF     0x68,0x0                                                                                        
003638   0efa     MOVLW     0xfa                                                                                            
00363a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00363c   6e69     MOVWF     0x69,0x0                                                                                        
00363e   0efb     MOVLW     0xfb           	RXB0D4=cp.data[4]; 	RXB0D5=cp.data[5];                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
003640   50db     MOVF      0xdb,0x0,0x0                                                                                    
003642   6e6a     MOVWF     0x6a,0x0                                                                                        
003644   0efc     MOVLW     0xfc                                                                                            
003646   50db     MOVF      0xdb,0x0,0x0                                                                                    
003648   6e6b     MOVWF     0x6b,0x0                                                                                        
00364a   0efd     MOVLW     0xfd           	RXB0D6=cp.data[6]; 	RXB0D7=cp.data[7];                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
00364c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00364e   6e6c     MOVWF     0x6c,0x0                                                                                        
003650   0efe     MOVLW     0xfe                                                                                            
003652   50db     MOVF      0xdb,0x0,0x0                                                                                    
003654   6e6d     MOVWF     0x6d,0x0                                                                                        
                                           	// set extended                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003656   8662     BSF       0x62,0x3,0x0   	RXB0SIDLbits.EXID=1;                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Priority                                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
003658   0eed     MOVLW     0xed           	RXB0CON = (RXB0CON & 0b11111100) | prio;                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
00365a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00365c   ffe6                                                                                                               
00365e   0efc     MOVLW     0xfc                                                                                            
003660   1460     ANDWF     0x60,0x0,0x0                                                                                    
003662   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003664   10e7     IORWF     0xe7,0x0,0x0                                                                                    
003666   6e60     MOVWF     0x60,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// mark as redy to transmit                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	_asm                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003668   8660     BSF       0x60,0x3,0x0   		bsf RXB0CON, 3, 0                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	_endasm                                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00366a   0e01     MOVLW     0x1            	return TRUE;                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
00366c   d000     BRA       0x366e                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00366e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
003670   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003672   ffd9                                                                                                               
003674   0012     RETURN    0x0                                                                                             
                                           /*********************************************************************           F:\MCP\projects\CAN\Include\EEAccess.c
                                            *                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                            *   Functions for reading and writing to EEPROM.                                F:\MCP\projects\CAN\Include\EEAccess.c
                                            *                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                            *********************************************************************           F:\MCP\projects\CAN\Include\EEAccess.c
                                            * FileName:        	$HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/Include/EEAccess.c $ F:\MCP\projects\CAN\Include\EEAccess.c
                                            * Last changed:	$LastChangedDate: 2006-11-20 21:31:03 +0100 (m√•, 20 nov 2006) $ F:\MCP\projects\CAN\Include\EEAccess.c
                                            * By:			$LastChangedBy: johboh $                                                F:\MCP\projects\CAN\Include\EEAccess.c
                                            * Revision:		$Revision: 139 $                                                   F:\MCP\projects\CAN\Include\EEAccess.c
                                            ********************************************************************/           F:\MCP\projects\CAN\Include\EEAccess.c
                                           #include <p18cxxx.h>                                                             F:\MCP\projects\CAN\Include\EEAccess.c
                                           #include <EEaccess.h>                                                            F:\MCP\projects\CAN\Include\EEAccess.c
                                                                                                                            F:\MCP\projects\CAN\Include\EEAccess.c
                                           /*                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Function: EERead                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                           *                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Input:	WORD address to read from.                                              F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Output: Byte read.                                                             F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Affects: none.                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
                                           */                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
003d5e   cfd9     MOVFF     0xfd9,0xfe6    BYTE EERead(WORD addr)                                                           F:\MCP\projects\CAN\Include\EEAccess.c
003d60   ffe6                                                                                                               
003d62   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003d64   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003d66   0efd     MOVLW     0xfd           	EEADRH=(BYTE)(addr>>8);                                                         F:\MCP\projects\CAN\Include\EEAccess.c
003d68   cfdb     MOVFF     0xfdb,0x0                                                                                       
003d6a   f000                                                                                                               
003d6c   0efe     MOVLW     0xfe                                                                                            
003d6e   cfdb     MOVFF     0xfdb,0x1                                                                                       
003d70   f001                                                                                                               
003d72   c001     MOVFF     0x1,0x0                                                                                         
003d74   f000                                                                                                               
003d76   6a01     CLRF      0x1,0x0                                                                                         
003d78   5000     MOVF      0x0,0x0,0x0                                                                                     
003d7a   6eaa     MOVWF     0xaa,0x0                                                                                        
003d7c   0eff     MOVLW     0xff           	EEADR=(BYTE)(addr & 0xFF);                                                      F:\MCP\projects\CAN\Include\EEAccess.c
003d7e   6ee7     MOVWF     0xe7,0x0                                                                                        
003d80   0efd     MOVLW     0xfd                                                                                            
003d82   cfdb     MOVFF     0xfdb,0x0                                                                                       
003d84   f000                                                                                                               
003d86   0efe     MOVLW     0xfe                                                                                            
003d88   cfdb     MOVFF     0xfdb,0x1                                                                                       
003d8a   f001                                                                                                               
003d8c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003d8e   1600     ANDWF     0x0,0x1,0x0                                                                                     
003d90   6a01     CLRF      0x1,0x0                                                                                         
003d92   5000     MOVF      0x0,0x0,0x0                                                                                     
003d94   6ea9     MOVWF     0xa9,0x0                                                                                        
003d96   9ea6     BCF       0xa6,0x7,0x0   	EECON1bits.EEPGD=0;                                                             F:\MCP\projects\CAN\Include\EEAccess.c
003d98   9ca6     BCF       0xa6,0x6,0x0   	EECON1bits.CFGS=0;                                                              F:\MCP\projects\CAN\Include\EEAccess.c
003d9a   80a6     BSF       0xa6,0x0,0x0   	EECON1bits.RD=1;                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003d9c   50a8     MOVF      0xa8,0x0,0x0   	return EEDATA;	                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
003d9e   d000     BRA       0x3da0                                                                                          
003da0   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003da2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003da4   ffd9                                                                                                               
003da6   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\Include\EEAccess.c
                                                                                                                            F:\MCP\projects\CAN\Include\EEAccess.c
                                           /*                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Function: EEWrite                                                              F:\MCP\projects\CAN\Include\EEAccess.c
                                           *                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Input:	WORD address to write to and BYTE data to write.                        F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Output: none.                                                                  F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Affects: none.                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
                                           */                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
003da8   cfd9     MOVFF     0xfd9,0xfe6    void EEWrite(WORD addr,BYTE data)                                                F:\MCP\projects\CAN\Include\EEAccess.c
003daa   ffe6                                                                                                               
003dac   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003dae   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003db0   98a1     BCF       0xa1,0x4,0x0   	PIR2bits.EEIF=0;                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003db2   0efd     MOVLW     0xfd           	EEADRH=(BYTE)(addr>>8);                                                         F:\MCP\projects\CAN\Include\EEAccess.c
003db4   cfdb     MOVFF     0xfdb,0x0                                                                                       
003db6   f000                                                                                                               
003db8   0efe     MOVLW     0xfe                                                                                            
003dba   cfdb     MOVFF     0xfdb,0x1                                                                                       
003dbc   f001                                                                                                               
003dbe   c001     MOVFF     0x1,0x0                                                                                         
003dc0   f000                                                                                                               
003dc2   6a01     CLRF      0x1,0x0                                                                                         
003dc4   5000     MOVF      0x0,0x0,0x0                                                                                     
003dc6   6eaa     MOVWF     0xaa,0x0                                                                                        
003dc8   0eff     MOVLW     0xff           	EEADR=(BYTE)(addr & 0xFF);                                                      F:\MCP\projects\CAN\Include\EEAccess.c
003dca   6ee7     MOVWF     0xe7,0x0                                                                                        
003dcc   0efd     MOVLW     0xfd                                                                                            
003dce   cfdb     MOVFF     0xfdb,0x0                                                                                       
003dd0   f000                                                                                                               
003dd2   0efe     MOVLW     0xfe                                                                                            
003dd4   cfdb     MOVFF     0xfdb,0x1                                                                                       
003dd6   f001                                                                                                               
003dd8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003dda   1600     ANDWF     0x0,0x1,0x0                                                                                     
003ddc   6a01     CLRF      0x1,0x0                                                                                         
003dde   5000     MOVF      0x0,0x0,0x0                                                                                     
003de0   6ea9     MOVWF     0xa9,0x0                                                                                        
003de2   0efc     MOVLW     0xfc           	EEDATA=data;                                                                    F:\MCP\projects\CAN\Include\EEAccess.c
003de4   50db     MOVF      0xdb,0x0,0x0                                                                                    
003de6   6ea8     MOVWF     0xa8,0x0                                                                                        
003de8   9ea6     BCF       0xa6,0x7,0x0   	EECON1bits.EEPGD=0;                                                             F:\MCP\projects\CAN\Include\EEAccess.c
003dea   9ca6     BCF       0xa6,0x6,0x0   	EECON1bits.CFGS=0;                                                              F:\MCP\projects\CAN\Include\EEAccess.c
003dec   84a6     BSF       0xa6,0x2,0x0   	EECON1bits.WREN=1;                                                              F:\MCP\projects\CAN\Include\EEAccess.c
003dee   9ef2     BCF       0xf2,0x7,0x0   	INTCONbits.GIE=0;                                                               F:\MCP\projects\CAN\Include\EEAccess.c
003df0   0e55     MOVLW     0x55           	EECON2=0x55;                                                                    F:\MCP\projects\CAN\Include\EEAccess.c
003df2   6ea7     MOVWF     0xa7,0x0                                                                                        
003df4   0eaa     MOVLW     0xaa           	EECON2=0xAA;                                                                    F:\MCP\projects\CAN\Include\EEAccess.c
003df6   6ea7     MOVWF     0xa7,0x0                                                                                        
003df8   82a6     BSF       0xa6,0x1,0x0   	EECON1bits.WR=1;                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003dfa   8ef2     BSF       0xf2,0x7,0x0   	INTCONbits.GIE=1;                                                               F:\MCP\projects\CAN\Include\EEAccess.c
003dfc   a8a1     BTFSS     0xa1,0x4,0x0   	while(!PIR2bits.EEIF);                                                          F:\MCP\projects\CAN\Include\EEAccess.c
003dfe   d7fe     BRA       0x3dfc                                                                                          
003e00   94a6     BCF       0xa6,0x2,0x0   	EECON1bits.WREN=0;                                                              F:\MCP\projects\CAN\Include\EEAccess.c
003e02   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003e04   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003e06   ffd9                                                                                                               
003e08   0012     RETURN    0x0                                                                                             
                                           /*********************************************************************           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            *                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            *                  IR reciver module                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            *                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            *********************************************************************           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            * FileName:        $HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/canIR/Source/IRec.c $ F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            * Last changed:	$LastChangedDate: 2006-11-18 22:14:33 +0100 (l√∂, 18 nov 2006) $ F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            * By:				$LastChangedBy: johboh $                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            * Revision:		$Revision: 124 $                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #include <IRec.h>                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #include <funcdefs.h>                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #ifdef USE_IREC                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static BYTE toggle = 0;                                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static BYTE addr = 0;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static BYTE data = 0;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static BYTE bitIndex = 0;                                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static IR_TYPE type = IR_NONE;                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Function: irecInit                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Depends: TIMER 3 is free                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           void irecInit()                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// Setup timer 3 to be source for CCP1                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
003676   0ef9     MOVLW     0xf9           	T3CON = 0b11111001;                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003678   6eb1     MOVWF     0xb1,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// configure timer 3 interrupt (for overflow)                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
00367a   92a1     BCF       0xa1,0x1,0x0   	PIR2bits.TMR3IF = 0;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
00367c   82a0     BSF       0xa0,0x1,0x0   	PIE2bits.TMR3IE = 1;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
00367e   82a2     BSF       0xa2,0x1,0x0   	IPR2bits.TMR3IP = 1;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// Setup CCP1 to use capture on falling edge                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
003680   0e04     MOVLW     0x4            	CCP1CON=0x04;                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
003682   6ebd     MOVWF     0xbd,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// Enable CCP1 interrupt and set priority to high.                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003684   949e     BCF       0x9e,0x2,0x0   	PIR1bits.CCP1IF=0;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003686   849d     BSF       0x9d,0x2,0x0   	PIE1bits.CCP1IE=1;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003688   849f     BSF       0x9f,0x2,0x0   	IPR1bits.CCP1IP=1;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
00368a   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Function: irecISR                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Pre-conditions: a call to irecInit()                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Affects: ...                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Depends: ...                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           void irecISR()                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	static WORD timediff = 0;                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	static BOOL started = FALSE;                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	static BYTE lastbit = 1;                                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	static BOOL second = FALSE;                                                     F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// If IR bit                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
00368c   509e     MOVF      0x9e,0x0,0x0   	if(PIR1bits.CCP1IF && PIE1bits.CCP1IE)                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
00368e   0b04     ANDLW     0x4                                                                                             
003690   e101     BNZ       0x3694                                                                                          
003692   d232     BRA       0x3af8                                                                                          
003694   509d     MOVF      0x9d,0x0,0x0                                                                                    
003696   0b04     ANDLW     0x4                                                                                             
003698   e101     BNZ       0x369c                                                                                          
00369a   d22e     BRA       0x3af8                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// Read timediff                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
00369c   50b2     MOVF      0xb2,0x0,0x0   		timediff  = TMR3L;                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00369e   0100     MOVLB     0x0                                                                                             
0036a0   6f84     MOVWF     0x84,0x1                                                                                        
0036a2   6b85     CLRF      0x85,0x1                                                                                        
0036a4   50b3     MOVF      0xb3,0x0,0x0   		timediff += (((WORD)TMR3H)<<8);                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0036a6   6e00     MOVWF     0x0,0x0                                                                                         
0036a8   c000     MOVFF     0x0,0x1                                                                                         
0036aa   f001                                                                                                               
0036ac   6a00     CLRF      0x0,0x0                                                                                         
0036ae   5000     MOVF      0x0,0x0,0x0                                                                                     
0036b0   2784     ADDWF     0x84,0x1,0x1                                                                                    
0036b2   5001     MOVF      0x1,0x0,0x0                                                                                     
0036b4   2385     ADDWFC    0x85,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// Clear timer.                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0036b6   6ab3     CLRF      0xb3,0x0       		TMR3H = 0;                                                                     F:\MCP\projects\CAN\canIR\Source\IRec.c
0036b8   6ab2     CLRF      0xb2,0x0       		TMR3L = 0;                                                                     F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// Wait on inverse edge                                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
0036ba   70bd     BTG       0xbd,0x0,0x0   		CCP1CONbits.CCP1M0=~CCP1CONbits.CCP1M0;                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// Disable interrupt                                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
0036bc   949e     BCF       0x9e,0x2,0x0   		PIR1bits.CCP1IF=0;                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// If found RC5 och RC5X startbit...                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
0036be   0586     DECF      0x86,0x0,0x1   		if (started==TRUE && (type==IR_RC5 || type==IR_RC5X))                          F:\MCP\projects\CAN\canIR\Source\IRec.c
0036c0   e001     BZ        0x36c4                                                                                          
0036c2   d0d0     BRA       0x3864                                                                                          
0036c4   0583     DECF      0x83,0x0,0x1                                                                                    
0036c6   e004     BZ        0x36d0                                                                                          
0036c8   0e02     MOVLW     0x2                                                                                             
0036ca   5d83     SUBWF     0x83,0x0,0x1                                                                                    
0036cc   e001     BZ        0x36d0                                                                                          
0036ce   d0ca     BRA       0x3864                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			// Parse message                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
0036d0   0e33     MOVLW     0x33           			if ((t2-250)<timediff && timediff<(t2+250) && second==FALSE)                  F:\MCP\projects\CAN\canIR\Source\IRec.c
0036d2   80d8     BSF       0xd8,0x0,0x0                                                                                    
0036d4   5584     SUBFWB    0x84,0x0,0x1                                                                                    
0036d6   0e03     MOVLW     0x3                                                                                             
0036d8   5585     SUBFWB    0x85,0x0,0x1                                                                                    
0036da   e235     BC        0x3746                                                                                          
0036dc   0e27     MOVLW     0x27                                                                                            
0036de   5d84     SUBWF     0x84,0x0,0x1                                                                                    
0036e0   0e05     MOVLW     0x5                                                                                             
0036e2   5985     SUBWFB    0x85,0x0,0x1                                                                                    
0036e4   e230     BC        0x3746                                                                                          
0036e6   5188     MOVF      0x88,0x0,0x1                                                                                    
0036e8   e12e     BNZ       0x3746                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0036ea   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0036ec   e102     BNZ       0x36f2                                                                                          
0036ee   c087     MOVFF     0x87,0x7f                                                                                       
0036f0   f07f                                                                                                               
0036f2   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=5) addr+=(lastbit<<(5-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
0036f4   5d82     SUBWF     0x82,0x0,0x1                                                                                    
0036f6   e310     BNC       0x3718                                                                                          
0036f8   5182     MOVF      0x82,0x0,0x1                                                                                    
0036fa   0805     SUBLW     0x5                                                                                             
0036fc   e30d     BNC       0x3718                                                                                          
0036fe   0e05     MOVLW     0x5                                                                                             
003700   80d8     BSF       0xd8,0x0,0x0                                                                                    
003702   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003704   6e00     MOVWF     0x0,0x0                                                                                         
003706   5187     MOVF      0x87,0x0,0x1                                                                                    
003708   5200     MOVF      0x0,0x1,0x0                                                                                     
00370a   e004     BZ        0x3714                                                                                          
00370c   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
00370e   0bfe     ANDLW     0xfe                                                                                            
003710   0600     DECF      0x0,0x1,0x0                                                                                     
003712   e1fc     BNZ       0x370c                                                                                          
003714   0100     MOVLB     0x0                                                                                             
003716   2780     ADDWF     0x80,0x1,0x1                                                                                    
003718   0e06     MOVLW     0x6            				if (bitIndex>=6 && bitIndex<=11) data+=(lastbit<<(11-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
00371a   5d82     SUBWF     0x82,0x0,0x1                                                                                    
00371c   e310     BNC       0x373e                                                                                          
00371e   5182     MOVF      0x82,0x0,0x1                                                                                    
003720   080b     SUBLW     0xb                                                                                             
003722   e30d     BNC       0x373e                                                                                          
003724   0e0b     MOVLW     0xb                                                                                             
003726   80d8     BSF       0xd8,0x0,0x0                                                                                    
003728   5582     SUBFWB    0x82,0x0,0x1                                                                                    
00372a   6e00     MOVWF     0x0,0x0                                                                                         
00372c   5187     MOVF      0x87,0x0,0x1                                                                                    
00372e   5200     MOVF      0x0,0x1,0x0                                                                                     
003730   e004     BZ        0x373a                                                                                          
003732   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003734   0bfe     ANDLW     0xfe                                                                                            
003736   0600     DECF      0x0,0x1,0x0                                                                                     
003738   e1fc     BNZ       0x3732                                                                                          
00373a   0100     MOVLB     0x0                                                                                             
00373c   2781     ADDWF     0x81,0x1,0x1                                                                                    
00373e   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003740   0e01     MOVLW     0x1            				second = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003742   6f88     MOVWF     0x88,0x1                                                                                        
003744   d1f9     BRA       0x3b38         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003746   0e8f     MOVLW     0x8f           			if ((t4-250)<timediff && timediff<(t4+250) && second==FALSE)                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003748   80d8     BSF       0xd8,0x0,0x0                                                                                    
00374a   5584     SUBFWB    0x84,0x0,0x1                                                                                    
00374c   0e07     MOVLW     0x7                                                                                             
00374e   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003750   e23b     BC        0x37c8                                                                                          
003752   0e83     MOVLW     0x83                                                                                            
003754   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003756   0e09     MOVLW     0x9                                                                                             
003758   5985     SUBWFB    0x85,0x0,0x1                                                                                    
00375a   e236     BC        0x37c8                                                                                          
00375c   5188     MOVF      0x88,0x0,0x1                                                                                    
00375e   e134     BNZ       0x37c8                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003760   5187     MOVF      0x87,0x0,0x1   				lastbit=(lastbit?0:1);                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
003762   e002     BZ        0x3768                                                                                          
003764   0e00     MOVLW     0x0                                                                                             
003766   d001     BRA       0x376a                                                                                          
003768   0e01     MOVLW     0x1                                                                                             
00376a   6f87     MOVWF     0x87,0x1                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
00376c   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00376e   e102     BNZ       0x3774                                                                                          
003770   c087     MOVFF     0x87,0x7f                                                                                       
003772   f07f                                                                                                               
003774   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=5) addr+=(lastbit<<(5-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
003776   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003778   e310     BNC       0x379a                                                                                          
00377a   5182     MOVF      0x82,0x0,0x1                                                                                    
00377c   0805     SUBLW     0x5                                                                                             
00377e   e30d     BNC       0x379a                                                                                          
003780   0e05     MOVLW     0x5                                                                                             
003782   80d8     BSF       0xd8,0x0,0x0                                                                                    
003784   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003786   6e00     MOVWF     0x0,0x0                                                                                         
003788   5187     MOVF      0x87,0x0,0x1                                                                                    
00378a   5200     MOVF      0x0,0x1,0x0                                                                                     
00378c   e004     BZ        0x3796                                                                                          
00378e   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003790   0bfe     ANDLW     0xfe                                                                                            
003792   0600     DECF      0x0,0x1,0x0                                                                                     
003794   e1fc     BNZ       0x378e                                                                                          
003796   0100     MOVLB     0x0                                                                                             
003798   2780     ADDWF     0x80,0x1,0x1                                                                                    
00379a   0e06     MOVLW     0x6            				if (bitIndex>=6 && bitIndex<=11) data+=(lastbit<<(11-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
00379c   5d82     SUBWF     0x82,0x0,0x1                                                                                    
00379e   e310     BNC       0x37c0                                                                                          
0037a0   5182     MOVF      0x82,0x0,0x1                                                                                    
0037a2   080b     SUBLW     0xb                                                                                             
0037a4   e30d     BNC       0x37c0                                                                                          
0037a6   0e0b     MOVLW     0xb                                                                                             
0037a8   80d8     BSF       0xd8,0x0,0x0                                                                                    
0037aa   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0037ac   6e00     MOVWF     0x0,0x0                                                                                         
0037ae   5187     MOVF      0x87,0x0,0x1                                                                                    
0037b0   5200     MOVF      0x0,0x1,0x0                                                                                     
0037b2   e004     BZ        0x37bc                                                                                          
0037b4   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0037b6   0bfe     ANDLW     0xfe                                                                                            
0037b8   0600     DECF      0x0,0x1,0x0                                                                                     
0037ba   e1fc     BNZ       0x37b4                                                                                          
0037bc   0100     MOVLB     0x0                                                                                             
0037be   2781     ADDWF     0x81,0x1,0x1                                                                                    
0037c0   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0037c2   0e01     MOVLW     0x1            				second = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
0037c4   6f88     MOVWF     0x88,0x1                                                                                        
0037c6   d1b8     BRA       0x3b38         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0037c8   0e33     MOVLW     0x33           			if ((t2-250)<timediff && timediff<(t2+250) && second==TRUE)                   F:\MCP\projects\CAN\canIR\Source\IRec.c
0037ca   80d8     BSF       0xd8,0x0,0x0                                                                                    
0037cc   5584     SUBFWB    0x84,0x0,0x1                                                                                    
0037ce   0e03     MOVLW     0x3                                                                                             
0037d0   5585     SUBFWB    0x85,0x0,0x1                                                                                    
0037d2   e209     BC        0x37e6                                                                                          
0037d4   0e27     MOVLW     0x27                                                                                            
0037d6   5d84     SUBWF     0x84,0x0,0x1                                                                                    
0037d8   0e05     MOVLW     0x5                                                                                             
0037da   5985     SUBWFB    0x85,0x0,0x1                                                                                    
0037dc   e204     BC        0x37e6                                                                                          
0037de   0588     DECF      0x88,0x0,0x1                                                                                    
0037e0   e102     BNZ       0x37e6                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0037e2   6b88     CLRF      0x88,0x1       				second = FALSE;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
0037e4   d1a9     BRA       0x3b38         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0037e6   0e8f     MOVLW     0x8f           			if ((t4-250)<timediff && timediff<(t4+250) && second==TRUE)                   F:\MCP\projects\CAN\canIR\Source\IRec.c
0037e8   80d8     BSF       0xd8,0x0,0x0                                                                                    
0037ea   5584     SUBFWB    0x84,0x0,0x1                                                                                    
0037ec   0e07     MOVLW     0x7                                                                                             
0037ee   5585     SUBFWB    0x85,0x0,0x1                                                                                    
0037f0   e239     BC        0x3864                                                                                          
0037f2   0e83     MOVLW     0x83                                                                                            
0037f4   5d84     SUBWF     0x84,0x0,0x1                                                                                    
0037f6   0e09     MOVLW     0x9                                                                                             
0037f8   5985     SUBWFB    0x85,0x0,0x1                                                                                    
0037fa   e234     BC        0x3864                                                                                          
0037fc   0588     DECF      0x88,0x0,0x1                                                                                    
0037fe   e132     BNZ       0x3864                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003800   5187     MOVF      0x87,0x0,0x1   				lastbit=(lastbit?0:1);                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
003802   e002     BZ        0x3808                                                                                          
003804   0e00     MOVLW     0x0                                                                                             
003806   d001     BRA       0x380a                                                                                          
003808   0e01     MOVLW     0x1                                                                                             
00380a   6f87     MOVWF     0x87,0x1                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
00380c   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00380e   e102     BNZ       0x3814                                                                                          
003810   c087     MOVFF     0x87,0x7f                                                                                       
003812   f07f                                                                                                               
003814   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=5) addr+=(lastbit<<(5-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
003816   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003818   e310     BNC       0x383a                                                                                          
00381a   5182     MOVF      0x82,0x0,0x1                                                                                    
00381c   0805     SUBLW     0x5                                                                                             
00381e   e30d     BNC       0x383a                                                                                          
003820   0e05     MOVLW     0x5                                                                                             
003822   80d8     BSF       0xd8,0x0,0x0                                                                                    
003824   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003826   6e00     MOVWF     0x0,0x0                                                                                         
003828   5187     MOVF      0x87,0x0,0x1                                                                                    
00382a   5200     MOVF      0x0,0x1,0x0                                                                                     
00382c   e004     BZ        0x3836                                                                                          
00382e   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003830   0bfe     ANDLW     0xfe                                                                                            
003832   0600     DECF      0x0,0x1,0x0                                                                                     
003834   e1fc     BNZ       0x382e                                                                                          
003836   0100     MOVLB     0x0                                                                                             
003838   2780     ADDWF     0x80,0x1,0x1                                                                                    
00383a   0e06     MOVLW     0x6            				if (bitIndex>=6 && bitIndex<=11) data+=(lastbit<<(11-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
00383c   5d82     SUBWF     0x82,0x0,0x1                                                                                    
00383e   e310     BNC       0x3860                                                                                          
003840   5182     MOVF      0x82,0x0,0x1                                                                                    
003842   080b     SUBLW     0xb                                                                                             
003844   e30d     BNC       0x3860                                                                                          
003846   0e0b     MOVLW     0xb                                                                                             
003848   80d8     BSF       0xd8,0x0,0x0                                                                                    
00384a   5582     SUBFWB    0x82,0x0,0x1                                                                                    
00384c   6e00     MOVWF     0x0,0x0                                                                                         
00384e   5187     MOVF      0x87,0x0,0x1                                                                                    
003850   5200     MOVF      0x0,0x1,0x0                                                                                     
003852   e004     BZ        0x385c                                                                                          
003854   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003856   0bfe     ANDLW     0xfe                                                                                            
003858   0600     DECF      0x0,0x1,0x0                                                                                     
00385a   e1fc     BNZ       0x3854                                                                                          
00385c   0100     MOVLB     0x0                                                                                             
00385e   2781     ADDWF     0x81,0x1,0x1                                                                                    
003860   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003862   d16a     BRA       0x3b38         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		} // if started and type == RC5 or RC5X                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// If RC6...                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
003864   0586     DECF      0x86,0x0,0x1   		if (started==TRUE && type==IR_RC6)                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003866   e001     BZ        0x386a                                                                                          
003868   d0ce     BRA       0x3a06                                                                                          
00386a   0e03     MOVLW     0x3                                                                                             
00386c   5d83     SUBWF     0x83,0x0,0x1                                                                                    
00386e   e001     BZ        0x3872                                                                                          
003870   d0ca     BRA       0x3a06                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003872   0e1c     MOVLW     0x1c           			if ((t1-250)<timediff && timediff<(t1+250) && second==FALSE)                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003874   80d8     BSF       0xd8,0x0,0x0                                                                                    
003876   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003878   0e01     MOVLW     0x1                                                                                             
00387a   5585     SUBFWB    0x85,0x0,0x1                                                                                    
00387c   e235     BC        0x38e8                                                                                          
00387e   0e10     MOVLW     0x10                                                                                            
003880   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003882   0e03     MOVLW     0x3                                                                                             
003884   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003886   e230     BC        0x38e8                                                                                          
003888   5188     MOVF      0x88,0x0,0x1                                                                                    
00388a   e12e     BNZ       0x38e8                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00388c   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00388e   e102     BNZ       0x3894                                                                                          
003890   c087     MOVFF     0x87,0x7f                                                                                       
003892   f07f                                                                                                               
003894   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=8) addr+=(lastbit<<(8-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
003896   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003898   e310     BNC       0x38ba                                                                                          
00389a   5182     MOVF      0x82,0x0,0x1                                                                                    
00389c   0808     SUBLW     0x8                                                                                             
00389e   e30d     BNC       0x38ba                                                                                          
0038a0   0e08     MOVLW     0x8                                                                                             
0038a2   80d8     BSF       0xd8,0x0,0x0                                                                                    
0038a4   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0038a6   6e00     MOVWF     0x0,0x0                                                                                         
0038a8   5187     MOVF      0x87,0x0,0x1                                                                                    
0038aa   5200     MOVF      0x0,0x1,0x0                                                                                     
0038ac   e004     BZ        0x38b6                                                                                          
0038ae   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0038b0   0bfe     ANDLW     0xfe                                                                                            
0038b2   0600     DECF      0x0,0x1,0x0                                                                                     
0038b4   e1fc     BNZ       0x38ae                                                                                          
0038b6   0100     MOVLB     0x0                                                                                             
0038b8   2780     ADDWF     0x80,0x1,0x1                                                                                    
0038ba   0e09     MOVLW     0x9            				if (bitIndex>=9 && bitIndex<=16) data+=(lastbit<<(16-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
0038bc   5d82     SUBWF     0x82,0x0,0x1                                                                                    
0038be   e310     BNC       0x38e0                                                                                          
0038c0   5182     MOVF      0x82,0x0,0x1                                                                                    
0038c2   0810     SUBLW     0x10                                                                                            
0038c4   e30d     BNC       0x38e0                                                                                          
0038c6   0e10     MOVLW     0x10                                                                                            
0038c8   80d8     BSF       0xd8,0x0,0x0                                                                                    
0038ca   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0038cc   6e00     MOVWF     0x0,0x0                                                                                         
0038ce   5187     MOVF      0x87,0x0,0x1                                                                                    
0038d0   5200     MOVF      0x0,0x1,0x0                                                                                     
0038d2   e004     BZ        0x38dc                                                                                          
0038d4   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0038d6   0bfe     ANDLW     0xfe                                                                                            
0038d8   0600     DECF      0x0,0x1,0x0                                                                                     
0038da   e1fc     BNZ       0x38d4                                                                                          
0038dc   0100     MOVLB     0x0                                                                                             
0038de   2781     ADDWF     0x81,0x1,0x1                                                                                    
0038e0   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0038e2   0e01     MOVLW     0x1            				second = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
0038e4   6f88     MOVWF     0x88,0x1                                                                                        
0038e6   d128     BRA       0x3b38         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0038e8   0e33     MOVLW     0x33           			if ((t2-250)<timediff && timediff<(t2+250) && second==FALSE)                  F:\MCP\projects\CAN\canIR\Source\IRec.c
0038ea   80d8     BSF       0xd8,0x0,0x0                                                                                    
0038ec   5584     SUBFWB    0x84,0x0,0x1                                                                                    
0038ee   0e03     MOVLW     0x3                                                                                             
0038f0   5585     SUBFWB    0x85,0x0,0x1                                                                                    
0038f2   e23b     BC        0x396a                                                                                          
0038f4   0e27     MOVLW     0x27                                                                                            
0038f6   5d84     SUBWF     0x84,0x0,0x1                                                                                    
0038f8   0e05     MOVLW     0x5                                                                                             
0038fa   5985     SUBWFB    0x85,0x0,0x1                                                                                    
0038fc   e236     BC        0x396a                                                                                          
0038fe   5188     MOVF      0x88,0x0,0x1                                                                                    
003900   e134     BNZ       0x396a                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003902   5187     MOVF      0x87,0x0,0x1   				lastbit=(lastbit?0:1);                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
003904   e002     BZ        0x390a                                                                                          
003906   0e00     MOVLW     0x0                                                                                             
003908   d001     BRA       0x390c                                                                                          
00390a   0e01     MOVLW     0x1                                                                                             
00390c   6f87     MOVWF     0x87,0x1                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
00390e   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003910   e102     BNZ       0x3916                                                                                          
003912   c087     MOVFF     0x87,0x7f                                                                                       
003914   f07f                                                                                                               
003916   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=8) addr+=(lastbit<<(8-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
003918   5d82     SUBWF     0x82,0x0,0x1                                                                                    
00391a   e310     BNC       0x393c                                                                                          
00391c   5182     MOVF      0x82,0x0,0x1                                                                                    
00391e   0808     SUBLW     0x8                                                                                             
003920   e30d     BNC       0x393c                                                                                          
003922   0e08     MOVLW     0x8                                                                                             
003924   80d8     BSF       0xd8,0x0,0x0                                                                                    
003926   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003928   6e00     MOVWF     0x0,0x0                                                                                         
00392a   5187     MOVF      0x87,0x0,0x1                                                                                    
00392c   5200     MOVF      0x0,0x1,0x0                                                                                     
00392e   e004     BZ        0x3938                                                                                          
003930   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003932   0bfe     ANDLW     0xfe                                                                                            
003934   0600     DECF      0x0,0x1,0x0                                                                                     
003936   e1fc     BNZ       0x3930                                                                                          
003938   0100     MOVLB     0x0                                                                                             
00393a   2780     ADDWF     0x80,0x1,0x1                                                                                    
00393c   0e09     MOVLW     0x9            				if (bitIndex>=9 && bitIndex<=16) data+=(lastbit<<(16-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
00393e   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003940   e310     BNC       0x3962                                                                                          
003942   5182     MOVF      0x82,0x0,0x1                                                                                    
003944   0810     SUBLW     0x10                                                                                            
003946   e30d     BNC       0x3962                                                                                          
003948   0e10     MOVLW     0x10                                                                                            
00394a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00394c   5582     SUBFWB    0x82,0x0,0x1                                                                                    
00394e   6e00     MOVWF     0x0,0x0                                                                                         
003950   5187     MOVF      0x87,0x0,0x1                                                                                    
003952   5200     MOVF      0x0,0x1,0x0                                                                                     
003954   e004     BZ        0x395e                                                                                          
003956   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003958   0bfe     ANDLW     0xfe                                                                                            
00395a   0600     DECF      0x0,0x1,0x0                                                                                     
00395c   e1fc     BNZ       0x3956                                                                                          
00395e   0100     MOVLB     0x0                                                                                             
003960   2781     ADDWF     0x81,0x1,0x1                                                                                    
003962   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003964   0e01     MOVLW     0x1            				second = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003966   6f88     MOVWF     0x88,0x1                                                                                        
003968   d0e7     BRA       0x3b38         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
00396a   0e1c     MOVLW     0x1c           			if ((t1-250)<timediff && timediff<(t1+250) && second==TRUE)                   F:\MCP\projects\CAN\canIR\Source\IRec.c
00396c   80d8     BSF       0xd8,0x0,0x0                                                                                    
00396e   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003970   0e01     MOVLW     0x1                                                                                             
003972   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003974   e209     BC        0x3988                                                                                          
003976   0e10     MOVLW     0x10                                                                                            
003978   5d84     SUBWF     0x84,0x0,0x1                                                                                    
00397a   0e03     MOVLW     0x3                                                                                             
00397c   5985     SUBWFB    0x85,0x0,0x1                                                                                    
00397e   e204     BC        0x3988                                                                                          
003980   0588     DECF      0x88,0x0,0x1                                                                                    
003982   e102     BNZ       0x3988                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003984   6b88     CLRF      0x88,0x1       				second = FALSE;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003986   d0d8     BRA       0x3b38         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003988   0e33     MOVLW     0x33           			if ((t2-250)<timediff && timediff<(t2+250) && second==TRUE)                   F:\MCP\projects\CAN\canIR\Source\IRec.c
00398a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00398c   5584     SUBFWB    0x84,0x0,0x1                                                                                    
00398e   0e03     MOVLW     0x3                                                                                             
003990   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003992   e239     BC        0x3a06                                                                                          
003994   0e27     MOVLW     0x27                                                                                            
003996   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003998   0e05     MOVLW     0x5                                                                                             
00399a   5985     SUBWFB    0x85,0x0,0x1                                                                                    
00399c   e234     BC        0x3a06                                                                                          
00399e   0588     DECF      0x88,0x0,0x1                                                                                    
0039a0   e132     BNZ       0x3a06                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0039a2   5187     MOVF      0x87,0x0,0x1   				lastbit=(lastbit?0:1);                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
0039a4   e002     BZ        0x39aa                                                                                          
0039a6   0e00     MOVLW     0x0                                                                                             
0039a8   d001     BRA       0x39ac                                                                                          
0039aa   0e01     MOVLW     0x1                                                                                             
0039ac   6f87     MOVWF     0x87,0x1                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0039ae   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0039b0   e102     BNZ       0x39b6                                                                                          
0039b2   c087     MOVFF     0x87,0x7f                                                                                       
0039b4   f07f                                                                                                               
0039b6   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=8) addr+=(lastbit<<(8-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
0039b8   5d82     SUBWF     0x82,0x0,0x1                                                                                    
0039ba   e310     BNC       0x39dc                                                                                          
0039bc   5182     MOVF      0x82,0x0,0x1                                                                                    
0039be   0808     SUBLW     0x8                                                                                             
0039c0   e30d     BNC       0x39dc                                                                                          
0039c2   0e08     MOVLW     0x8                                                                                             
0039c4   80d8     BSF       0xd8,0x0,0x0                                                                                    
0039c6   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0039c8   6e00     MOVWF     0x0,0x0                                                                                         
0039ca   5187     MOVF      0x87,0x0,0x1                                                                                    
0039cc   5200     MOVF      0x0,0x1,0x0                                                                                     
0039ce   e004     BZ        0x39d8                                                                                          
0039d0   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0039d2   0bfe     ANDLW     0xfe                                                                                            
0039d4   0600     DECF      0x0,0x1,0x0                                                                                     
0039d6   e1fc     BNZ       0x39d0                                                                                          
0039d8   0100     MOVLB     0x0                                                                                             
0039da   2780     ADDWF     0x80,0x1,0x1                                                                                    
0039dc   0e09     MOVLW     0x9            				if (bitIndex>=9 && bitIndex<=16) data+=(lastbit<<(16-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
0039de   5d82     SUBWF     0x82,0x0,0x1                                                                                    
0039e0   e310     BNC       0x3a02                                                                                          
0039e2   5182     MOVF      0x82,0x0,0x1                                                                                    
0039e4   0810     SUBLW     0x10                                                                                            
0039e6   e30d     BNC       0x3a02                                                                                          
0039e8   0e10     MOVLW     0x10                                                                                            
0039ea   80d8     BSF       0xd8,0x0,0x0                                                                                    
0039ec   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0039ee   6e00     MOVWF     0x0,0x0                                                                                         
0039f0   5187     MOVF      0x87,0x0,0x1                                                                                    
0039f2   5200     MOVF      0x0,0x1,0x0                                                                                     
0039f4   e004     BZ        0x39fe                                                                                          
0039f6   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0039f8   0bfe     ANDLW     0xfe                                                                                            
0039fa   0600     DECF      0x0,0x1,0x0                                                                                     
0039fc   e1fc     BNZ       0x39f6                                                                                          
0039fe   0100     MOVLB     0x0                                                                                             
003a00   2781     ADDWF     0x81,0x1,0x1                                                                                    
003a02   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003a04   d099     BRA       0x3b38         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		} // if started and type == RC6                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003a06   2b82     INCF      0x82,0x1,0x1   		bitIndex++;                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003a08   5186     MOVF      0x86,0x0,0x1   		if (started==FALSE && type==IR_NONE && bitIndex==2 && (t2-250)<timediff && timediff<(t2+250)) F:\MCP\projects\CAN\canIR\Source\IRec.c
003a0a   e113     BNZ       0x3a32                                                                                          
003a0c   5183     MOVF      0x83,0x0,0x1                                                                                    
003a0e   e111     BNZ       0x3a32                                                                                          
003a10   0e02     MOVLW     0x2                                                                                             
003a12   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003a14   e10e     BNZ       0x3a32                                                                                          
003a16   0e33     MOVLW     0x33                                                                                            
003a18   80d8     BSF       0xd8,0x0,0x0                                                                                    
003a1a   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003a1c   0e03     MOVLW     0x3                                                                                             
003a1e   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003a20   e208     BC        0x3a32                                                                                          
003a22   0e27     MOVLW     0x27                                                                                            
003a24   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003a26   0e05     MOVLW     0x5                                                                                             
003a28   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003a2a   e203     BC        0x3a32                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a2c   0e01     MOVLW     0x1            			type=IR_RC5;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003a2e   6f83     MOVWF     0x83,0x1                                                                                        
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a30   d063     BRA       0x3af8         		else if (started==FALSE && type==IR_NONE && bitIndex==2 && (t4-250)<timediff && timediff<(t4+250)) F:\MCP\projects\CAN\canIR\Source\IRec.c
003a32   5186     MOVF      0x86,0x0,0x1                                                                                    
003a34   e117     BNZ       0x3a64                                                                                          
003a36   5183     MOVF      0x83,0x0,0x1                                                                                    
003a38   e115     BNZ       0x3a64                                                                                          
003a3a   0e02     MOVLW     0x2                                                                                             
003a3c   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003a3e   e112     BNZ       0x3a64                                                                                          
003a40   0e8f     MOVLW     0x8f                                                                                            
003a42   80d8     BSF       0xd8,0x0,0x0                                                                                    
003a44   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003a46   0e07     MOVLW     0x7                                                                                             
003a48   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003a4a   e20c     BC        0x3a64                                                                                          
003a4c   0e83     MOVLW     0x83                                                                                            
003a4e   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003a50   0e09     MOVLW     0x9                                                                                             
003a52   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003a54   e207     BC        0x3a64                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a56   0e01     MOVLW     0x1            			started = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003a58   6f86     MOVWF     0x86,0x1                                                                                        
003a5a   6b82     CLRF      0x82,0x1       			bitIndex = 0;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
003a5c   6f87     MOVWF     0x87,0x1       			lastbit = 1;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003a5e   0e02     MOVLW     0x2            			type=IR_RC5X;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
003a60   6f83     MOVWF     0x83,0x1                                                                                        
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a62   d04a     BRA       0x3af8         		else if (started==FALSE && type==IR_NONE && bitIndex==2 && (t6-250)<timediff && timediff<(t6+250)) F:\MCP\projects\CAN\canIR\Source\IRec.c
003a64   5186     MOVF      0x86,0x0,0x1                                                                                    
003a66   e113     BNZ       0x3a8e                                                                                          
003a68   5183     MOVF      0x83,0x0,0x1                                                                                    
003a6a   e111     BNZ       0x3a8e                                                                                          
003a6c   0e02     MOVLW     0x2                                                                                             
003a6e   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003a70   e10e     BNZ       0x3a8e                                                                                          
003a72   0e8a     MOVLW     0x8a                                                                                            
003a74   80d8     BSF       0xd8,0x0,0x0                                                                                    
003a76   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003a78   0e0b     MOVLW     0xb                                                                                             
003a7a   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003a7c   e208     BC        0x3a8e                                                                                          
003a7e   0e7e     MOVLW     0x7e                                                                                            
003a80   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003a82   0e0d     MOVLW     0xd                                                                                             
003a84   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003a86   e203     BC        0x3a8e                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a88   0e03     MOVLW     0x3            			type=IR_RC6;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003a8a   6f83     MOVWF     0x83,0x1                                                                                        
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a8c   d035     BRA       0x3af8         		else if (started==FALSE && type==IR_RC6 && bitIndex==9)                        F:\MCP\projects\CAN\canIR\Source\IRec.c
003a8e   5186     MOVF      0x86,0x0,0x1                                                                                    
003a90   e10f     BNZ       0x3ab0                                                                                          
003a92   0e03     MOVLW     0x3                                                                                             
003a94   5d83     SUBWF     0x83,0x0,0x1                                                                                    
003a96   e10c     BNZ       0x3ab0                                                                                          
003a98   0e09     MOVLW     0x9                                                                                             
003a9a   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003a9c   e109     BNZ       0x3ab0                                                                                          
                                           		{	                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003a9e   0e01     MOVLW     0x1            			started = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003aa0   6f86     MOVWF     0x86,0x1                                                                                        
003aa2   6b82     CLRF      0x82,0x1       			bitIndex = 0;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
003aa4   6b87     CLRF      0x87,0x1       			lastbit = 0;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003aa6   0e03     MOVLW     0x3            			type=IR_RC6;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003aa8   6f83     MOVWF     0x83,0x1                                                                                        
003aaa   0e01     MOVLW     0x1            			second = TRUE;                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003aac   6f88     MOVWF     0x88,0x1                                                                                        
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003aae   d024     BRA       0x3af8         		else if (started==FALSE && type==IR_RC5 && bitIndex==3 && (t2-250)<timediff && timediff<(t2+250)) F:\MCP\projects\CAN\canIR\Source\IRec.c
003ab0   5186     MOVF      0x86,0x0,0x1                                                                                    
003ab2   e116     BNZ       0x3ae0                                                                                          
003ab4   0583     DECF      0x83,0x0,0x1                                                                                    
003ab6   e114     BNZ       0x3ae0                                                                                          
003ab8   0e03     MOVLW     0x3                                                                                             
003aba   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003abc   e111     BNZ       0x3ae0                                                                                          
003abe   0e33     MOVLW     0x33                                                                                            
003ac0   80d8     BSF       0xd8,0x0,0x0                                                                                    
003ac2   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003ac4   0e03     MOVLW     0x3                                                                                             
003ac6   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003ac8   e20b     BC        0x3ae0                                                                                          
003aca   0e27     MOVLW     0x27                                                                                            
003acc   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003ace   0e05     MOVLW     0x5                                                                                             
003ad0   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003ad2   e206     BC        0x3ae0                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003ad4   0e01     MOVLW     0x1            			started = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003ad6   6f86     MOVWF     0x86,0x1                                                                                        
003ad8   6b82     CLRF      0x82,0x1       			bitIndex = 0;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
003ada   6f87     MOVWF     0x87,0x1       			lastbit = 1;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003adc   6f83     MOVWF     0x83,0x1       			type=IR_RC5;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003ade   d00c     BRA       0x3af8         		else if(bitIndex>2 && type!=IR_RC6)                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003ae0   5182     MOVF      0x82,0x0,0x1                                                                                    
003ae2   0802     SUBLW     0x2                                                                                             
003ae4   e205     BC        0x3af0                                                                                          
003ae6   0e03     MOVLW     0x3                                                                                             
003ae8   5d83     SUBWF     0x83,0x0,0x1                                                                                    
003aea   e002     BZ        0x3af0                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003aec   6b83     CLRF      0x83,0x1       			type=IR_NONE;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003aee   d004     BRA       0x3af8         		else if(bitIndex>9)                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003af0   5182     MOVF      0x82,0x0,0x1                                                                                    
003af2   0809     SUBLW     0x9                                                                                             
003af4   e201     BC        0x3af8                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003af6   6b83     CLRF      0x83,0x1       			type=IR_NONE;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	}                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// If timer 3 overflow                                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
003af8   50a1     MOVF      0xa1,0x0,0x0   	if(PIR2bits.TMR3IF && PIE2bits.TMR3IE)                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
003afa   0b02     ANDLW     0x2                                                                                             
003afc   e01d     BZ        0x3b38                                                                                          
003afe   50a0     MOVF      0xa0,0x0,0x0                                                                                    
003b00   0b02     ANDLW     0x2                                                                                             
003b02   e01a     BZ        0x3b38                                                                                          
                                           	{	                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003b04   92a1     BCF       0xa1,0x1,0x0   		PIR2bits.TMR3IF=0;                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003b06   0100     MOVLB     0x0            		if (type!=IR_NONE)                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003b08   5183     MOVF      0x83,0x0,0x1                                                                                    
003b0a   e00e     BZ        0x3b28                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003b0c   c081     MOVFF     0x81,0xfe6     			irecParse(type,toggle,addr,data);                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003b0e   ffe6                                                                                                               
003b10   c080     MOVFF     0x80,0xfe6                                                                                      
003b12   ffe6                                                                                                               
003b14   c07f     MOVFF     0x7f,0xfe6                                                                                      
003b16   ffe6                                                                                                               
003b18   c083     MOVFF     0x83,0xfe6                                                                                      
003b1a   ffe6                                                                                                               
003b1c   ec49     CALL      0x3c92,0x0                                                                                      
003b1e   f01e                                                                                                               
003b20   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b22   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b24   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b26   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003b28   0100     MOVLB     0x0            		started  = FALSE;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003b2a   6b86     CLRF      0x86,0x1                                                                                        
003b2c   6b82     CLRF      0x82,0x1       		bitIndex = 0;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003b2e   6b80     CLRF      0x80,0x1       		addr = 0;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
003b30   6b7f     CLRF      0x7f,0x1       		toggle = 0;                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
003b32   6b81     CLRF      0x81,0x1       		data = 0;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
003b34   6b83     CLRF      0x83,0x1       		type = IR_NONE;                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// wait in falling edge.                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
003b36   90bd     BCF       0xbd,0x0,0x0   		CCP1CONbits.CCP1M0=0;                                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	}                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003b38   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #endif                                                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
