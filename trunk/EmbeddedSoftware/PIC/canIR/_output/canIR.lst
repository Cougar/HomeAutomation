MP2COD 4.1, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Mon Feb 26 21:15:23 2007


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /*********************************************************************           F:\MCP\projects\CAN\canIR\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                            *                  Main application                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                            *                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                            *********************************************************************           F:\MCP\projects\CAN\canIR\Source\Main.c
                                            * FileName:        $HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/canIR/Source/Main.c $ F:\MCP\projects\CAN\canIR\Source\Main.c
                                            * Last changed:	$LastChangedDate: 2007-02-25 21:15:41 +0100 (s√∂, 25 feb 2007) $ F:\MCP\projects\CAN\canIR\Source\Main.c
                                            * By:				$LastChangedBy: johboh $                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                            * Revision:		$Revision: 341 $                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <compiler.h>                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <funcdefs.h>                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #include "..\canBoot\Include\boot.h"                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #ifdef USE_IREC                                                                  F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	#include <IRec.h>                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           static void mainInit(void);                                                      F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003b36   cfd9     MOVFF     0xfd9,0xfe6    void main()                                                                      F:\MCP\projects\CAN\canIR\Source\Main.c
003b38   ffe6                                                                                                               
003b3a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003b3c   ffd9                                                                                                               
003b3e   0e11     MOVLW     0x11                                                                                            
003b40   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	static TICK t = 0;                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	CAN_PACKET outCp;                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	// Inits                                                                        F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003b42   d889     RCALL     0x3c56         	mainInit();                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
003b44   ec2e     CALL      0x305c,0x0     	canInit();                                                                      F:\MCP\projects\CAN\canIR\Source\Main.c
003b46   f018                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	#ifdef USE_IREC                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
003b48   ec39     CALL      0x3672,0x0     		irecInit();                                                                    F:\MCP\projects\CAN\canIR\Source\Main.c
003b4a   f01b                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003b94   d7db     BRA       0x3b4c         	while(1)                                                                        F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	{                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           		static TICK t = 0;                                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003b4c   ec4d     CALL      0x3e9a,0x0     		if ((tickGet()-t)>TICK_SECOND)                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
003b4e   f01f                                                                                                               
003b50   0100     MOVLB     0x0                                                                                             
003b52   518d     MOVF      0x8d,0x0,0x1                                                                                    
003b54   5c10     SUBWF     0x10,0x0,0x0                                                                                    
003b56   6e00     MOVWF     0x0,0x0                                                                                         
003b58   518e     MOVF      0x8e,0x0,0x1                                                                                    
003b5a   5811     SUBWFB    0x11,0x0,0x0                                                                                    
003b5c   6e01     MOVWF     0x1,0x0                                                                                         
003b5e   518f     MOVF      0x8f,0x0,0x1                                                                                    
003b60   5812     SUBWFB    0x12,0x0,0x0                                                                                    
003b62   6e02     MOVWF     0x2,0x0                                                                                         
003b64   5190     MOVF      0x90,0x0,0x1                                                                                    
003b66   5813     SUBWFB    0x13,0x0,0x0                                                                                    
003b68   6e03     MOVWF     0x3,0x0                                                                                         
003b6a   80d8     BSF       0xd8,0x0,0x0                                                                                    
003b6c   0e64     MOVLW     0x64                                                                                            
003b6e   5400     SUBFWB    0x0,0x0,0x0                                                                                     
003b70   0e00     MOVLW     0x0                                                                                             
003b72   5401     SUBFWB    0x1,0x0,0x0                                                                                     
003b74   0e00     MOVLW     0x0                                                                                             
003b76   5402     SUBFWB    0x2,0x0,0x0                                                                                     
003b78   0e00     MOVLW     0x0                                                                                             
003b7a   5403     SUBFWB    0x3,0x0,0x0                                                                                     
003b7c   e20b     BC        0x3b94                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
003b7e   7282     BTG       0x82,0x1,0x0   			LED0_IO=~LED0_IO;                                                             F:\MCP\projects\CAN\canIR\Source\Main.c
003b80   ec4d     CALL      0x3e9a,0x0     			t = tickGet();                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003b82   f01f                                                                                                               
003b84   c010     MOVFF     0x10,0x8d                                                                                       
003b86   f08d                                                                                                               
003b88   c011     MOVFF     0x11,0x8e                                                                                       
003b8a   f08e                                                                                                               
003b8c   c012     MOVFF     0x12,0x8f                                                                                       
003b8e   f08f                                                                                                               
003b90   c013     MOVFF     0x13,0x90                                                                                       
003b92   f090                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	}                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
003b96   0e11     MOVLW     0x11           }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003b98   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003b9a   e202     BC        0x3ba0                                                                                          
003b9c   6ae1     CLRF      0xe1,0x0                                                                                        
003b9e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ba0   6ee1     MOVWF     0xe1,0x0                                                                                        
003ba2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ba4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003ba6   ffd9                                                                                                               
003ba8   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma interrupt high_isr                                                       F:\MCP\projects\CAN\canIR\Source\Main.c
003baa   cfda     MOVFF     0xfda,0xfe4    void high_isr(void)                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
003bac   ffe4                                                                                                               
003bae   cfe2     MOVFF     0xfe2,0xfda                                                                                     
003bb0   ffda                                                                                                               
003bb2   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
003bb4   ffe4                                                                                                               
003bb6   cfea     MOVFF     0xfea,0xfe4                                                                                     
003bb8   ffe4                                                                                                               
003bba   cff6     MOVFF     0xff6,0xfe4                                                                                     
003bbc   ffe4                                                                                                               
003bbe   cff7     MOVFF     0xff7,0xfe4                                                                                     
003bc0   ffe4                                                                                                               
003bc2   cff5     MOVFF     0xff5,0xfe4                                                                                     
003bc4   ffe4                                                                                                               
003bc6   cff3     MOVFF     0xff3,0xfe4                                                                                     
003bc8   ffe4                                                                                                               
003bca   cff4     MOVFF     0xff4,0xfe4                                                                                     
003bcc   ffe4                                                                                                               
003bce   cffa     MOVFF     0xffa,0xfe4                                                                                     
003bd0   ffe4                                                                                                               
003bd2   ee00     LFSR      0x0,0xc                                                                                         
003bd4   f00c                                                                                                               
003bd6   0e0b     MOVLW     0xb                                                                                             
003bd8   04e8     DECF      0xe8,0x0,0x0                                                                                    
003bda   e303     BNC       0x3be2                                                                                          
003bdc   cfee     MOVFF     0xfee,0xfe4                                                                                     
003bde   ffe4                                                                                                               
003be0   d7fb     BRA       0x3bd8                                                                                          
003be2   ee00     LFSR      0x0,0x0                                                                                         
003be4   f000                                                                                                               
003be6   0e0c     MOVLW     0xc                                                                                             
003be8   04e8     DECF      0xe8,0x0,0x0                                                                                    
003bea   e303     BNC       0x3bf2                                                                                          
003bec   cfee     MOVFF     0xfee,0xfe4                                                                                     
003bee   ffe4                                                                                                               
003bf0   d7fb     BRA       0x3be8                                                                                          
003bf2   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003bf4   ec99     CALL      0x3132,0x0     	canISR();                                                                       F:\MCP\projects\CAN\canIR\Source\Main.c
003bf6   f018                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	#ifdef USE_IREC                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
003bf8   ec44     CALL      0x3688,0x0     		irecISR();                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
003bfa   f01b                                                                                                               
                                           	#endif                                                                          F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003bfc   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003bfe   ee00     LFSR      0x0,0xb                                                                                         
003c00   f00b                                                                                                               
003c02   0e0c     MOVLW     0xc                                                                                             
003c04   04e8     DECF      0xe8,0x0,0x0                                                                                    
003c06   e303     BNC       0x3c0e                                                                                          
003c08   cfe5     MOVFF     0xfe5,0xfed                                                                                     
003c0a   ffed                                                                                                               
003c0c   d7fb     BRA       0x3c04                                                                                          
003c0e   ee00     LFSR      0x0,0x16                                                                                        
003c10   f016                                                                                                               
003c12   0e0b     MOVLW     0xb                                                                                             
003c14   04e8     DECF      0xe8,0x0,0x0                                                                                    
003c16   e303     BNC       0x3c1e                                                                                          
003c18   cfe5     MOVFF     0xfe5,0xfed                                                                                     
003c1a   ffed                                                                                                               
003c1c   d7fb     BRA       0x3c14                                                                                          
003c1e   cfe5     MOVFF     0xfe5,0xffa                                                                                     
003c20   fffa                                                                                                               
003c22   cfe5     MOVFF     0xfe5,0xff4                                                                                     
003c24   fff4                                                                                                               
003c26   cfe5     MOVFF     0xfe5,0xff3                                                                                     
003c28   fff3                                                                                                               
003c2a   cfe5     MOVFF     0xfe5,0xff5                                                                                     
003c2c   fff5                                                                                                               
003c2e   cfe5     MOVFF     0xfe5,0xff7                                                                                     
003c30   fff7                                                                                                               
003c32   cfe5     MOVFF     0xfe5,0xff6                                                                                     
003c34   fff6                                                                                                               
003c36   cfe5     MOVFF     0xfe5,0xfea                                                                                     
003c38   ffea                                                                                                               
003c3a   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
003c3c   ffe9                                                                                                               
003c3e   cfe5     MOVFF     0xfe5,0xfda                                                                                     
003c40   ffda                                                                                                               
003c42   0011     RETFIE    0x1                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma interrupt low_isr                                                        F:\MCP\projects\CAN\canIR\Source\Main.c
003c44   cfda     MOVFF     0xfda,0xfe4    void low_isr(void)                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
003c46   ffe4                                                                                                               
003c48   cfe2     MOVFF     0xfe2,0xfda                                                                                     
003c4a   ffda                                                                                                               
003c4c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c4e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003c50   cfe5     MOVFF     0xfe5,0xfda                                                                                     
003c52   ffda                                                                                                               
003c54   0011     RETFIE    0x1                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Function: mainInit                                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Affects: Se code                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           void mainInit()                                                                  F:\MCP\projects\CAN\canIR\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003c56   9294     BCF       0x94,0x1,0x0   	LED0_TRIS=0;	                                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	// Enable Interrupts                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c58   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;                                                         F:\MCP\projects\CAN\canIR\Source\Main.c
003c5a   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;                                                         F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	// Enable interrupt prirority                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
003c5c   8ed0     BSF       0xd0,0x7,0x0   	RCONbits.IPEN=1;                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c5e   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Function: canParse                                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Input:	Received can message                                                    F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Pre-conditions: canInit and received packet.                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Affects: Sensors/actuators/etc. See code.                                      F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c60   cfd9     MOVFF     0xfd9,0xfe6    void canParse(CAN_PACKET cp)                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
003c62   ffe6                                                                                                               
003c64   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003c66   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c68   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003c6a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003c6c   ffd9                                                                                                               
003c6e   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Function: irecParse                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Input:	Received IR message                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Pre-conditions: irecInit                                                       F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Affects: Sensors/actuators/etc. See code.                                      F:\MCP\projects\CAN\canIR\Source\Main.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canIR\Source\Main.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #ifdef USE_IREC                                                                  F:\MCP\projects\CAN\canIR\Source\Main.c
003c70   cfd9     MOVFF     0xfd9,0xfe6    void irecParse(IR_TYPE type, BYTE toggle, BYTE addr, BYTE data)                  F:\MCP\projects\CAN\canIR\Source\Main.c
003c72   ffe6                                                                                                               
003c74   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003c76   ffd9                                                                                                               
003c78   0e11     MOVLW     0x11                                                                                            
003c7a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           	CAN_PACKET outCp;                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003c7c   0e01     MOVLW     0x1            	outCp.type 		= ptPGM;                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
003c7e   6edf     MOVWF     0xdf,0x0                                                                                        
003c80   52de     MOVF      0xde,0x1,0x0   	outCp.pgm.class = pcSENSOR;                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
003c82   6edd     MOVWF     0xdd,0x0                                                                                        
003c84   0e02     MOVLW     0x2            	outCp.pgm.id 	= pstIR;                                                          F:\MCP\projects\CAN\canIR\Source\Main.c
003c86   6adb     CLRF      0xdb,0x0                                                                                        
003c88   0e03     MOVLW     0x3                                                                                             
003c8a   6adb     CLRF      0xdb,0x0                                                                                        
003c8c   0e04     MOVLW     0x4            	outCp.length 	= 4;                                                              F:\MCP\projects\CAN\canIR\Source\Main.c
003c8e   6ef3     MOVWF     0xf3,0x0                                                                                        
003c90   0e08     MOVLW     0x8                                                                                             
003c92   cff3     MOVFF     0xff3,0xfdb                                                                                     
003c94   ffdb                                                                                                               
003c96   0efe     MOVLW     0xfe           	outCp.data[3]	= type;                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
003c98   50db     MOVF      0xdb,0x0,0x0                                                                                    
003c9a   6ee7     MOVWF     0xe7,0x0                                                                                        
003c9c   0e0c     MOVLW     0xc                                                                                             
003c9e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003ca0   ffdb                                                                                                               
003ca2   0efd     MOVLW     0xfd           	outCp.data[2]	= toggle;                                                         F:\MCP\projects\CAN\canIR\Source\Main.c
003ca4   50db     MOVF      0xdb,0x0,0x0                                                                                    
003ca6   6ee7     MOVWF     0xe7,0x0                                                                                        
003ca8   0e0b     MOVLW     0xb                                                                                             
003caa   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003cac   ffdb                                                                                                               
003cae   0efc     MOVLW     0xfc           	outCp.data[1]	= addr;                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
003cb0   50db     MOVF      0xdb,0x0,0x0                                                                                    
003cb2   6ee7     MOVWF     0xe7,0x0                                                                                        
003cb4   0e0a     MOVLW     0xa                                                                                             
003cb6   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003cb8   ffdb                                                                                                               
003cba   0efb     MOVLW     0xfb           	outCp.data[0]	= data;                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
003cbc   50db     MOVF      0xdb,0x0,0x0                                                                                    
003cbe   6ee7     MOVWF     0xe7,0x0                                                                                        
003cc0   0e09     MOVLW     0x9                                                                                             
003cc2   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003cc4   ffdb                                                                                                               
003cc6   0e02     MOVLW     0x2            	while(!canSendMessage(outCp,PRIO_HIGH));                                        F:\MCP\projects\CAN\canIR\Source\Main.c
003cc8   6ee6     MOVWF     0xe6,0x0                                                                                        
003cca   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
003ccc   ffe9                                                                                                               
003cce   cfda     MOVFF     0xfda,0xfea                                                                                     
003cd0   ffea                                                                                                               
003cd2   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cd4   ffe6                                                                                                               
003cd6   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cd8   ffe6                                                                                                               
003cda   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cdc   ffe6                                                                                                               
003cde   cfee     MOVFF     0xfee,0xfe6                                                                                     
003ce0   ffe6                                                                                                               
003ce2   cfee     MOVFF     0xfee,0xfe6                                                                                     
003ce4   ffe6                                                                                                               
003ce6   cfee     MOVFF     0xfee,0xfe6                                                                                     
003ce8   ffe6                                                                                                               
003cea   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cec   ffe6                                                                                                               
003cee   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cf0   ffe6                                                                                                               
003cf2   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cf4   ffe6                                                                                                               
003cf6   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cf8   ffe6                                                                                                               
003cfa   cfee     MOVFF     0xfee,0xfe6                                                                                     
003cfc   ffe6                                                                                                               
003cfe   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d00   ffe6                                                                                                               
003d02   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d04   ffe6                                                                                                               
003d06   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d08   ffe6                                                                                                               
003d0a   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d0c   ffe6                                                                                                               
003d0e   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d10   ffe6                                                                                                               
003d12   cfee     MOVFF     0xfee,0xfe6                                                                                     
003d14   ffe6                                                                                                               
003d16   ec5c     CALL      0x34b8,0x0                                                                                      
003d18   f01a                                                                                                               
003d1a   6e00     MOVWF     0x0,0x0                                                                                         
003d1c   0e12     MOVLW     0x12                                                                                            
003d1e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003d20   5000     MOVF      0x0,0x0,0x0                                                                                     
003d22   0900     IORLW     0x0                                                                                             
003d24   e101     BNZ       0x3d28                                                                                          
003d26   d7cf     BRA       0x3cc6                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
003d28   0e11     MOVLW     0x11           }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003d2a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003d2c   e202     BC        0x3d32                                                                                          
003d2e   6ae1     CLRF      0xe1,0x0                                                                                        
003d30   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d32   6ee1     MOVWF     0xe1,0x0                                                                                        
003d34   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d36   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003d38   ffd9                                                                                                               
003d3a   0012     RETURN    0x0                                                                                             
                                           #endif                                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           // Below are mandantory when using bootloader                                    F:\MCP\projects\CAN\canIR\Source\Main.c
                                           // define DEBUG_MODE to use without bootloader.                                  F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #ifndef DEBUG_MODE                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           extern void _startup (void);                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code _RESET_INTERRUPT_VECTOR = RM_RESET_VECTOR                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                           void _reset (void)                                                               F:\MCP\projects\CAN\canIR\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003000   ef65     GOTO      0x3eca             _asm goto _startup _endasm                                                   F:\MCP\projects\CAN\canIR\Source\Main.c
003002   f01f                                                                                                               
003004   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #endif                                                                           F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code _HIGH_INTERRUPT_VECTOR = RM_HIGH_INTERRUPT_VECTOR                   F:\MCP\projects\CAN\canIR\Source\Main.c
                                           void _high_ISR (void)                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003008   efd5     GOTO      0x3baa         	_asm GOTO high_isr _endasm                                                      F:\MCP\projects\CAN\canIR\Source\Main.c
00300a   f01d                                                                                                               
00300c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code _LOW_INTERRUPT_VECTOR = RM_LOW_INTERRUPT_VECTOR                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           void _low_ISR (void)                                                             F:\MCP\projects\CAN\canIR\Source\Main.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
003018   ef22     GOTO      0x3c44             _asm GOTO low_isr _endasm                                                    F:\MCP\projects\CAN\canIR\Source\Main.c
00301a   f01e                                                                                                               
00301c   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\Main.c
                                           #pragma code                                                                     F:\MCP\projects\CAN\canIR\Source\Main.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                  Ticker module service                                        F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            *********************************************************************           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * FileName:        $HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/canBase/Source/Tick.c $ F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * Last changed:	$LastChangedDate: 2006-11-14 10:55:38 +0100 (ti, 14 nov 2006) $ F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * By:				$LastChangedBy: johboh $                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            * Revision:		$Revision: 86 $                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_INCLUDE                                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #include <Compiler.h>                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_TEMP_VALUE_1 ((INSTR_FREQ) / (TICKS_PER_SECOND * TICK_PRESCALE_VALUE)) F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #if TICK_TEMP_VALUE_1 > 60000                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #error TICK_PER_SECOND value cannot be programmed with current CLOCK_FREQ        F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #error Either lower TICK_PER_SECOND or manually configure the Timer              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_TEMP_VALUE         (65535 - TICK_TEMP_VALUE_1)                      F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_COUNTER_HIGH       ((TICK_TEMP_VALUE >> 8) & 0xff)                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define TICK_COUNTER_LOW        (TICK_TEMP_VALUE & 0xff)                         F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #if (TICK_PRESCALE_VALUE == 2)                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (0)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 4 )                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (1)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 8 )                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (2)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 16 )                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (3)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 32 )                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (4)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 64 )                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (5)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 128 )                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (6)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #elif ( TICK_PRESCALE_VALUE == 256 )                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #define TIMER_PRESCALE  (7)                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #else                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               #error Invalid TICK_PRESCALE_VALUE specified.                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #endif                                                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           TICK TickCount = 0;	// 10ms/unit                                                 F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Function: TickInit                                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Output: Tick manager is initialized.                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           #define PERIOD (INSTR_FREQ/256/1000)*TICK_PERIOD_MS                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           void tickInit(void)                                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canBase\Source\Tick.c
003e86   0e79     MOVLW     0x79               TMR0L = TICK_COUNTER_LOW;                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
003e88   6ed6     MOVWF     0xd6,0x0                                                                                        
003e8a   0efe     MOVLW     0xfe               TMR0H = TICK_COUNTER_HIGH;                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
003e8c   6ed7     MOVWF     0xd7,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               // 16-BIT, internal timer, PSA set to 1:256                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
003e8e   0e07     MOVLW     0x7                T0CON = 0b00000000 | TIMER_PRESCALE;                                         F:\MCP\projects\CAN\canBase\Source\Tick.c
003e90   6ed5     MOVWF     0xd5,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               // Start the timer.                                                          F:\MCP\projects\CAN\canBase\Source\Tick.c
003e92   8ed5     BSF       0xd5,0x7,0x0       T0CONbits.TMR0ON = 1;                                                        F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003e94   84f2     BSF       0xf2,0x2,0x0       INTCONbits.TMR0IF = 1;                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
003e96   8af2     BSF       0xf2,0x5,0x0       INTCONbits.TMR0IE = 1;                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
003e98   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Function: TickGet                                                              F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Output: Current tick value is given, 1 tick represents approximately 10ms      F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           TICK tickGet(void)                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
003e9a   c091     MOVFF     0x91,0x10          return TickCount;                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003e9c   f010                                                                                                               
003e9e   c092     MOVFF     0x92,0x11                                                                                       
003ea0   f011                                                                                                               
003ea2   c093     MOVFF     0x93,0x12                                                                                       
003ea4   f012                                                                                                               
003ea6   c094     MOVFF     0x94,0x13                                                                                       
003ea8   f013                                                                                                               
003eaa   d000     BRA       0x3eac                                                                                          
003eac   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Function: tickUpdate                                                           F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Pre-conditions: TickInit                                                       F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           *	Depends: none                                                                  F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           void tickUpdate(void)                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
003eae   a4f2     BTFSS     0xf2,0x2,0x0       if(INTCONbits.TMR0IF)                                                        F:\MCP\projects\CAN\canBase\Source\Tick.c
003eb0   d00b     BRA       0x3ec8                                                                                          
                                               {                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003eb2   0efe     MOVLW     0xfe                   TMR0H = TICK_COUNTER_HIGH;                                               F:\MCP\projects\CAN\canBase\Source\Tick.c
003eb4   6ed7     MOVWF     0xd7,0x0                                                                                        
003eb6   0e79     MOVLW     0x79                   TMR0L = TICK_COUNTER_LOW;                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
003eb8   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003eba   0100     MOVLB     0x0                    TickCount++;                                                             F:\MCP\projects\CAN\canBase\Source\Tick.c
003ebc   2b91     INCF      0x91,0x1,0x1                                                                                    
003ebe   0e00     MOVLW     0x0                                                                                             
003ec0   2392     ADDWFC    0x92,0x1,0x1                                                                                    
003ec2   2393     ADDWFC    0x93,0x1,0x1                                                                                    
003ec4   2394     ADDWFC    0x94,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003ec6   94f2     BCF       0xf2,0x2,0x0           INTCONbits.TMR0IF = 0;                                                   F:\MCP\projects\CAN\canBase\Source\Tick.c
                                               }                                                                            F:\MCP\projects\CAN\canBase\Source\Tick.c
003ec8   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\Tick.c
                                           /*********************************************************************           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                  CAN module                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            *********************************************************************           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * FileName:        $HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/canBase/Source/CAN.c $ F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * Last changed:	$LastChangedDate: 2007-02-25 20:51:08 +0100 (s√∂, 25 feb 2007) $ F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * By:				$LastChangedBy: johboh $                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            * Revision:		$Revision: 339 $                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <CANdefs.h>                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <stackTasks.h>                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <EEaccess.h>                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <funcdefs.h>                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           #include <Tick.h>                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           TICK heartbeat;                                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           static int MY_ID = DEFAULT_ID;                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           static CAN_PACKET outCp;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           static void canGetPacket(void);                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canInit                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: Changes can registers.                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           void canInit()                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00305c   0e80     MOVLW     0x80           	CANCON = 0x80; //request config mode                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00305e   6e6f     MOVWF     0x6f,0x0                                                                                        
003060   0ee0     MOVLW     0xe0           	while ((CANSTAT & 0xE0) != 0x80 ); //wait for config mode request               F:\MCP\projects\CAN\canBase\Source\CAN.c
003062   146e     ANDWF     0x6e,0x0,0x0                                                                                    
003064   0880     SUBLW     0x80                                                                                            
003066   e001     BZ        0x306a                                                                                          
003068   d7fb     BRA       0x3060                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// BAUD AND TQS                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// 500Khz@40Mhz (new by the book)                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00306a   0e04     MOVLW     0x4            	BRGCON1 = 0x04;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
00306c   6e70     MOVWF     0x70,0x0                                                                                        
00306e   0ed1     MOVLW     0xd1           	BRGCON2 = 0xD1;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003070   6e71     MOVWF     0x71,0x0                                                                                        
003072   0e81     MOVLW     0x81           	BRGCON3 = 0x81;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003074   6e72     MOVWF     0x72,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON1=0;                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Sync_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON1bits.SJW1=0;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON1bits.SJW0=1;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Setting BRP.                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON1=BRGCON1|CAN_BRP;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Maximum PHEG1                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.SEG2PHTS = 1;                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Phase_Seg1 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.SEG1PH2 = 0;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.SEG1PH1 = 0;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.SEG1PH0 = 1;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Prop_Seq = 2 x TQ = 1                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.PRSEG2 = 0;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.PRSEG1 = 0;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON2bits.PRSEG0 = 1;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//  Enableing bus wake-up                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.WAKDIS = 0;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Dont use filter when wakeup                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.WAKFIL = 0;                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Phase_Seg2 = 2 x TQ = 1                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.SEG2PH2 = 0;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.SEG2PH1 = 0;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//BRGCON3bits.SEG2PH0 = 1;                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003076   6a77     CLRF      0x77,0x0       	ECANCON=0;                                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
003078   8e77     BSF       0x77,0x7,0x0   	ECANCONbits.MDSEL1 = 1; // 0  For mode 1                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
00307a   9c77     BCF       0x77,0x6,0x0   	ECANCONbits.MDSEL0 = 0; // 1  For mode 1                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// FILTERS AND MASKS                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00307c   8c60     BSF       0x60,0x6,0x0   	RXB0CONbits.RXM1=1;                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
00307e   9a60     BCF       0x60,0x5,0x0   	RXB0CONbits.RXM0=0;                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// INTERRUPTS                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Diable transmit interrupt                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
003080   010d     MOVLB     0xd            	TXBIE = 0;                                                                      F:\MCP\projects\CAN\canBase\Source\CAN.c
003082   6bfc     CLRF      0xfc,0x1                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//rx any interrupt                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003084   6aa4     CLRF      0xa4,0x0       	PIR3 = 0;                                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
003086   0e03     MOVLW     0x3            	PIE3 = 0b00000011;                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003088   6ea3     MOVWF     0xa3,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// High interrupt                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00308a   6ea5     MOVWF     0xa5,0x0       	IPR3 =0b00000011;                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Programmable buffers interrupt                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00308c   69fa     SETF      0xfa,0x1       	BIE0  = 0xFF;	                                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//loopback mode or not                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	#ifdef CAN_LOOPBACK_MODE                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		CANCON = 0x40;//request loopback mode                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		while ((CANSTAT & 0xE0) != 0x40 );//wait for loopback mode                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	#else                                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
00308e   6a6f     CLRF      0x6f,0x0       		CANCON = 0x00;//request normal mode                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003090   0ee0     MOVLW     0xe0           		while ((CANSTAT & 0xE0) != 0x00 );//wait for normal mode                       F:\MCP\projects\CAN\canBase\Source\CAN.c
003092   146e     ANDWF     0x6e,0x0,0x0                                                                                    
003094   e001     BZ        0x3098                                                                                          
003096   d7fc     BRA       0x3090                                                                                          
                                           	#endif                                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Init ticker service                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
003098   ec43     CALL      0x3e86,0x0     	tickInit();                                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
00309a   f01f                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Read ID and NID if exist.                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
00309c   0e00     MOVLW     0x0            	if (EERead(NODE_ID_EE)==NODE_HAS_ID)                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00309e   6ee6     MOVWF     0xe6,0x0                                                                                        
0030a0   6ae6     CLRF      0xe6,0x0                                                                                        
0030a2   ec9e     CALL      0x3d3c,0x0                                                                                      
0030a4   f01e                                                                                                               
0030a6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030a8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030aa   082a     SUBLW     0x2a                                                                                            
0030ac   e10a     BNZ       0x30c2                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
0030ae   0e01     MOVLW     0x1            		MY_ID=+EERead(NODE_ID_EE + 1);                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0030b0   6ee6     MOVWF     0xe6,0x0                                                                                        
0030b2   6ae6     CLRF      0xe6,0x0                                                                                        
0030b4   ec9e     CALL      0x3d3c,0x0                                                                                      
0030b6   f01e                                                                                                               
0030b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030ba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030bc   0100     MOVLB     0x0                                                                                             
0030be   6f95     MOVWF     0x95,0x1                                                                                        
0030c0   6b96     CLRF      0x96,0x1                                                                                        
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Send user program startup heatbeat                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
0030c2   0100     MOVLB     0x0            	outCp.type=ptPGM;                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
0030c4   0e01     MOVLW     0x1                                                                                             
0030c6   6f64     MOVWF     0x64,0x1                                                                                        
0030c8   6b65     CLRF      0x65,0x1       	outCp.pgm.class=pcCTRL;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
0030ca   6f66     MOVWF     0x66,0x1       	outCp.pgm.id=pctAPPBOOT;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
0030cc   6b67     CLRF      0x67,0x1                                                                                        
0030ce   0e02     MOVLW     0x2            	outCp.length=2;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0030d0   6f6c     MOVWF     0x6c,0x1                                                                                        
0030d2   6b6e     CLRF      0x6e,0x1       	outCp.data[1]=(BYTE)((APP_VERSION & 0xFF00)>>8);                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0030d4   0e01     MOVLW     0x1            	outCp.data[0]=(BYTE)(APP_VERSION & 0xFF);                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
0030d6   6f6d     MOVWF     0x6d,0x1                                                                                        
0030d8   0e02     MOVLW     0x2            	while(!canSendMessage(outCp,PRIO_HIGH));                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
0030da   6ee6     MOVWF     0xe6,0x0                                                                                        
0030dc   c064     MOVFF     0x64,0xfe6                                                                                      
0030de   ffe6                                                                                                               
0030e0   c065     MOVFF     0x65,0xfe6                                                                                      
0030e2   ffe6                                                                                                               
0030e4   c066     MOVFF     0x66,0xfe6                                                                                      
0030e6   ffe6                                                                                                               
0030e8   c067     MOVFF     0x67,0xfe6                                                                                      
0030ea   ffe6                                                                                                               
0030ec   c068     MOVFF     0x68,0xfe6                                                                                      
0030ee   ffe6                                                                                                               
0030f0   c069     MOVFF     0x69,0xfe6                                                                                      
0030f2   ffe6                                                                                                               
0030f4   c06a     MOVFF     0x6a,0xfe6                                                                                      
0030f6   ffe6                                                                                                               
0030f8   c06b     MOVFF     0x6b,0xfe6                                                                                      
0030fa   ffe6                                                                                                               
0030fc   c06c     MOVFF     0x6c,0xfe6                                                                                      
0030fe   ffe6                                                                                                               
003100   c06d     MOVFF     0x6d,0xfe6                                                                                      
003102   ffe6                                                                                                               
003104   c06e     MOVFF     0x6e,0xfe6                                                                                      
003106   ffe6                                                                                                               
003108   c06f     MOVFF     0x6f,0xfe6                                                                                      
00310a   ffe6                                                                                                               
00310c   c070     MOVFF     0x70,0xfe6                                                                                      
00310e   ffe6                                                                                                               
003110   c071     MOVFF     0x71,0xfe6                                                                                      
003112   ffe6                                                                                                               
003114   c072     MOVFF     0x72,0xfe6                                                                                      
003116   ffe6                                                                                                               
003118   c073     MOVFF     0x73,0xfe6                                                                                      
00311a   ffe6                                                                                                               
00311c   c074     MOVFF     0x74,0xfe6                                                                                      
00311e   ffe6                                                                                                               
003120   d9cb     RCALL     0x34b8                                                                                          
003122   6e00     MOVWF     0x0,0x0                                                                                         
003124   0e12     MOVLW     0x12                                                                                            
003126   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003128   5000     MOVF      0x0,0x0,0x0                                                                                     
00312a   0900     IORLW     0x0                                                                                             
00312c   e101     BNZ       0x3130                                                                                          
00312e   d7d4     BRA       0x30d8                                                                                          
003130   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canISR                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: a call to canInit()                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: interrupt registers and receive data buffers                          F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           void canISR()                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
003132   0004     CLRWDT                   	ClrWdt();                                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003134   50a4     MOVF      0xa4,0x0,0x0   	if (PIR3bits.RXBnIF || PIR3bits.RXB1IF || PIR3bits.RXB0IF)                      F:\MCP\projects\CAN\canBase\Source\CAN.c
003136   0b02     ANDLW     0x2                                                                                             
003138   e106     BNZ       0x3146                                                                                          
00313a   50a4     MOVF      0xa4,0x0,0x0                                                                                    
00313c   0b02     ANDLW     0x2                                                                                             
00313e   e103     BNZ       0x3146                                                                                          
003140   50a4     MOVF      0xa4,0x0,0x0                                                                                    
003142   0b01     ANDLW     0x1                                                                                             
003144   e016     BZ        0x3172                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
003146   0e0f     MOVLW     0xf            		ECANCON=(ECANCON&0b00000)|(0b10000|(CANCON&0x0F));                             F:\MCP\projects\CAN\canBase\Source\CAN.c
003148   146f     ANDWF     0x6f,0x0,0x0                                                                                    
00314a   0910     IORLW     0x10                                                                                            
00314c   6e00     MOVWF     0x0,0x0                                                                                         
00314e   0e00     MOVLW     0x0                                                                                             
003150   1477     ANDWF     0x77,0x0,0x0                                                                                    
003152   1000     IORWF     0x0,0x0,0x0                                                                                     
003154   6e77     MOVWF     0x77,0x0                                                                                        
003156   be60     BTFSC     0x60,0x7,0x0   		if (RXB0CONbits.RXFUL) canGetPacket();                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003158   d869     RCALL     0x322c                                                                                          
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00315a   a2a4     BTFSS     0xa4,0x1,0x0   		if (PIR3bits.RXBnIF) {PIR3bits.RXBnIF = 0; return;}                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00315c   d002     BRA       0x3162                                                                                          
00315e   92a4     BCF       0xa4,0x1,0x0                                                                                    
003160   d064     BRA       0x322a                                                                                          
003162   a2a4     BTFSS     0xa4,0x1,0x0   		if (PIR3bits.RXB1IF) {PIR3bits.RXB1IF = 0; return;}                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003164   d002     BRA       0x316a                                                                                          
003166   92a4     BCF       0xa4,0x1,0x0                                                                                    
003168   d060     BRA       0x322a                                                                                          
00316a   a0a4     BTFSS     0xa4,0x0,0x0   		if (PIR3bits.RXB0IF) {PIR3bits.RXB0IF = 0; return;}                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00316c   d002     BRA       0x3172                                                                                          
00316e   90a4     BCF       0xa4,0x0,0x0                                                                                    
003170   d05c     BRA       0x322a                                                                                          
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003172   ec57     CALL      0x3eae,0x0     	tickUpdate();                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
003174   f01f                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003176   ec4d     CALL      0x3e9a,0x0     	if ((tickGet()-heartbeat)>TICK_SECOND*5)                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
003178   f01f                                                                                                               
00317a   0100     MOVLB     0x0                                                                                             
00317c   5160     MOVF      0x60,0x0,0x1                                                                                    
00317e   5c10     SUBWF     0x10,0x0,0x0                                                                                    
003180   6e00     MOVWF     0x0,0x0                                                                                         
003182   0100     MOVLB     0x0                                                                                             
003184   5161     MOVF      0x61,0x0,0x1                                                                                    
003186   5811     SUBWFB    0x11,0x0,0x0                                                                                    
003188   6e01     MOVWF     0x1,0x0                                                                                         
00318a   0100     MOVLB     0x0                                                                                             
00318c   5162     MOVF      0x62,0x0,0x1                                                                                    
00318e   5812     SUBWFB    0x12,0x0,0x0                                                                                    
003190   6e02     MOVWF     0x2,0x0                                                                                         
003192   0100     MOVLB     0x0                                                                                             
003194   5163     MOVF      0x63,0x0,0x1                                                                                    
003196   5813     SUBWFB    0x13,0x0,0x0                                                                                    
003198   6e03     MOVWF     0x3,0x0                                                                                         
00319a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00319c   0ef4     MOVLW     0xf4                                                                                            
00319e   5400     SUBFWB    0x0,0x0,0x0                                                                                     
0031a0   0e01     MOVLW     0x1                                                                                             
0031a2   5401     SUBFWB    0x1,0x0,0x0                                                                                     
0031a4   0e00     MOVLW     0x0                                                                                             
0031a6   5402     SUBFWB    0x2,0x0,0x0                                                                                     
0031a8   0e00     MOVLW     0x0                                                                                             
0031aa   5403     SUBFWB    0x3,0x0,0x0                                                                                     
0031ac   e23e     BC        0x322a                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Send alive heartbeat                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
0031ae   0100     MOVLB     0x0            		outCp.type=ptPGM;                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
0031b0   0e01     MOVLW     0x1                                                                                             
0031b2   6f64     MOVWF     0x64,0x1                                                                                        
0031b4   0100     MOVLB     0x0            		outCp.pgm.class=pcCTRL;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
0031b6   6b65     CLRF      0x65,0x1                                                                                        
0031b8   0e02     MOVLW     0x2            		outCp.pgm.id=pctHEARTBEAT;                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
0031ba   0100     MOVLB     0x0                                                                                             
0031bc   6f66     MOVWF     0x66,0x1                                                                                        
0031be   6b67     CLRF      0x67,0x1                                                                                        
0031c0   0100     MOVLB     0x0            		outCp.length=0;                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0031c2   6b6c     CLRF      0x6c,0x1                                                                                        
0031c4   0e02     MOVLW     0x2            		canSendMessage(outCp,PRIO_HIGH);                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
0031c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0031c8   c064     MOVFF     0x64,0xfe6                                                                                      
0031ca   ffe6                                                                                                               
0031cc   c065     MOVFF     0x65,0xfe6                                                                                      
0031ce   ffe6                                                                                                               
0031d0   c066     MOVFF     0x66,0xfe6                                                                                      
0031d2   ffe6                                                                                                               
0031d4   c067     MOVFF     0x67,0xfe6                                                                                      
0031d6   ffe6                                                                                                               
0031d8   c068     MOVFF     0x68,0xfe6                                                                                      
0031da   ffe6                                                                                                               
0031dc   c069     MOVFF     0x69,0xfe6                                                                                      
0031de   ffe6                                                                                                               
0031e0   c06a     MOVFF     0x6a,0xfe6                                                                                      
0031e2   ffe6                                                                                                               
0031e4   c06b     MOVFF     0x6b,0xfe6                                                                                      
0031e6   ffe6                                                                                                               
0031e8   c06c     MOVFF     0x6c,0xfe6                                                                                      
0031ea   ffe6                                                                                                               
0031ec   c06d     MOVFF     0x6d,0xfe6                                                                                      
0031ee   ffe6                                                                                                               
0031f0   c06e     MOVFF     0x6e,0xfe6                                                                                      
0031f2   ffe6                                                                                                               
0031f4   c06f     MOVFF     0x6f,0xfe6                                                                                      
0031f6   ffe6                                                                                                               
0031f8   c070     MOVFF     0x70,0xfe6                                                                                      
0031fa   ffe6                                                                                                               
0031fc   c071     MOVFF     0x71,0xfe6                                                                                      
0031fe   ffe6                                                                                                               
003200   c072     MOVFF     0x72,0xfe6                                                                                      
003202   ffe6                                                                                                               
003204   c073     MOVFF     0x73,0xfe6                                                                                      
003206   ffe6                                                                                                               
003208   c074     MOVFF     0x74,0xfe6                                                                                      
00320a   ffe6                                                                                                               
00320c   d955     RCALL     0x34b8                                                                                          
00320e   6e00     MOVWF     0x0,0x0                                                                                         
003210   0e12     MOVLW     0x12                                                                                            
003212   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003214   5000     MOVF      0x0,0x0,0x0                                                                                     
                                           			                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003216   ec4d     CALL      0x3e9a,0x0     		heartbeat = tickGet();                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003218   f01f                                                                                                               
00321a   c010     MOVFF     0x10,0x60                                                                                       
00321c   f060                                                                                                               
00321e   c011     MOVFF     0x11,0x61                                                                                       
003220   f061                                                                                                               
003222   c012     MOVFF     0x12,0x62                                                                                       
003224   f062                                                                                                               
003226   c013     MOVFF     0x13,0x63                                                                                       
003228   f063                                                                                                               
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00322a   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canGetPacket                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: a call to canISR and an packet is available and banked to RXB0 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: Calls canParse() function in main for parsing received packet.        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
00322c   cfd9     MOVFF     0xfd9,0xfe6    void canGetPacket()                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
00322e   ffe6                                                                                                               
003230   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003232   ffd9                                                                                                               
003234   0e11     MOVLW     0x11                                                                                            
003236   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		CAN_PACKET cp;                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		//RXB0SIDH 28 27 26 25 24 23 22 21                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   //RXB0SIDL 20 19 18 xx xx xx 17 16                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   //RXB0EIDH 15 14 13 12 11 10 09 08                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                   //RXB0EIDL 07 06 05 04 03 02 01 00                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003238   0e06     MOVLW     0x6            		cp.type = (BYTE)((RXB0SIDH&0xC0)>>6);                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
00323a   6e00     MOVWF     0x0,0x0                                                                                         
00323c   0ec0     MOVLW     0xc0                                                                                            
00323e   1461     ANDWF     0x61,0x0,0x0                                                                                    
003240   c000     MOVFF     0x0,0xfe7                                                                                       
003242   ffe7                                                                                                               
003244   52e7     MOVF      0xe7,0x1,0x0                                                                                    
003246   e004     BZ        0x3250                                                                                          
003248   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00324a   0b7f     ANDLW     0x7f                                                                                            
00324c   06e7     DECF      0xe7,0x1,0x0                                                                                    
00324e   e1fc     BNZ       0x3248                                                                                          
003250   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003252   50df     MOVF      0xdf,0x0,0x0   		if (cp.type==ptBOOT)                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
003254   e122     BNZ       0x329a                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003256   0e38     MOVLW     0x38           			cp.boot.type  = ((RXB0SIDH&0x38)>>3);                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003258   1461     ANDWF     0x61,0x0,0x0                                                                                    
00325a   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
00325c   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
00325e   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
003260   0b1f     ANDLW     0x1f                                                                                            
003262   6ee7     MOVWF     0xe7,0x0                                                                                        
003264   0e04     MOVLW     0x4                                                                                             
003266   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003268   ffdb                                                                                                               
00326a   0e03     MOVLW     0x3            			cp.boot.offset= ((RXB0SIDH&0x7)<<5)+((RXB0SIDL&0xE0)>>3)+(RXB0SIDL&0x3);      F:\MCP\projects\CAN\canBase\Source\CAN.c
00326c   1462     ANDWF     0x62,0x0,0x0                                                                                    
00326e   6e01     MOVWF     0x1,0x0                                                                                         
003270   0ee0     MOVLW     0xe0                                                                                            
003272   1462     ANDWF     0x62,0x0,0x0                                                                                    
003274   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
003276   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
003278   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
00327a   0b1f     ANDLW     0x1f                                                                                            
00327c   6e00     MOVWF     0x0,0x0                                                                                         
00327e   0e07     MOVLW     0x7                                                                                             
003280   1461     ANDWF     0x61,0x0,0x0                                                                                    
003282   0d20     MULLW     0x20                                                                                            
003284   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003286   2400     ADDWF     0x0,0x0,0x0                                                                                     
003288   2401     ADDWF     0x1,0x0,0x0                                                                                     
00328a   6ee7     MOVWF     0xe7,0x0                                                                                        
00328c   0e05     MOVLW     0x5                                                                                             
00328e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003290   ffdb                                                                                                               
003292   0e06     MOVLW     0x6            			cp.boot.rid   = RXB0EIDH;                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
003294   cf63     MOVFF     0xf63,0xfdb                                                                                     
003296   ffdb                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003298   d03c     BRA       0x3312         		else                                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
00329a   0e3c     MOVLW     0x3c           			cp.pgm.class= ((RXB0SIDH&0x3C)>>2);                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
00329c   1461     ANDWF     0x61,0x0,0x0                                                                                    
00329e   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
0032a0   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
0032a2   0b3f     ANDLW     0x3f                                                                                            
0032a4   6ee7     MOVWF     0xe7,0x0                                                                                        
0032a6   0e01     MOVLW     0x1                                                                                             
0032a8   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0032aa   ffdb                                                                                                               
0032ac   0e03     MOVLW     0x3            			cp.pgm.id   = (((WORD)RXB0SIDH&0x3)<<13)+(((WORD)RXB0SIDL&0xE0)<<5)+(((WORD)RXB0SIDL&0x3)<<8)+(WORD)RXB0EIDH; F:\MCP\projects\CAN\canBase\Source\CAN.c
0032ae   1461     ANDWF     0x61,0x0,0x0                                                                                    
0032b0   6e06     MOVWF     0x6,0x0                                                                                         
0032b2   6a07     CLRF      0x7,0x0                                                                                         
0032b4   3806     SWAPF     0x6,0x0,0x0                                                                                     
0032b6   6a06     CLRF      0x6,0x0                                                                                         
0032b8   34e8     RLCF      0xe8,0x0,0x0                                                                                    
0032ba   0be0     ANDLW     0xe0                                                                                            
0032bc   6e07     MOVWF     0x7,0x0                                                                                         
0032be   0ee0     MOVLW     0xe0                                                                                            
0032c0   1462     ANDWF     0x62,0x0,0x0                                                                                    
0032c2   6e08     MOVWF     0x8,0x0                                                                                         
0032c4   6a09     CLRF      0x9,0x0                                                                                         
0032c6   0e05     MOVLW     0x5                                                                                             
0032c8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0032ca   3608     RLCF      0x8,0x1,0x0                                                                                     
0032cc   3609     RLCF      0x9,0x1,0x0                                                                                     
0032ce   04e8     DECF      0xe8,0x0,0x0                                                                                    
0032d0   e1fb     BNZ       0x32c8                                                                                          
0032d2   5006     MOVF      0x6,0x0,0x0                                                                                     
0032d4   2408     ADDWF     0x8,0x0,0x0                                                                                     
0032d6   6e04     MOVWF     0x4,0x0                                                                                         
0032d8   5007     MOVF      0x7,0x0,0x0                                                                                     
0032da   2009     ADDWFC    0x9,0x0,0x0                                                                                     
0032dc   6e05     MOVWF     0x5,0x0                                                                                         
0032de   0e03     MOVLW     0x3                                                                                             
0032e0   1462     ANDWF     0x62,0x0,0x0                                                                                    
0032e2   6e0a     MOVWF     0xa,0x0                                                                                         
0032e4   6a0b     CLRF      0xb,0x0                                                                                         
0032e6   c00a     MOVFF     0xa,0xb                                                                                         
0032e8   f00b                                                                                                               
0032ea   6a0a     CLRF      0xa,0x0                                                                                         
0032ec   5004     MOVF      0x4,0x0,0x0                                                                                     
0032ee   240a     ADDWF     0xa,0x0,0x0                                                                                     
0032f0   6e02     MOVWF     0x2,0x0                                                                                         
0032f2   5005     MOVF      0x5,0x0,0x0                                                                                     
0032f4   200b     ADDWFC    0xb,0x0,0x0                                                                                     
0032f6   6e03     MOVWF     0x3,0x0                                                                                         
0032f8   5063     MOVF      0x63,0x0,0x0                                                                                    
0032fa   0100     MOVLB     0x0                                                                                             
0032fc   2402     ADDWF     0x2,0x0,0x0                                                                                     
0032fe   6e00     MOVWF     0x0,0x0                                                                                         
003300   0e00     MOVLW     0x0                                                                                             
003302   2003     ADDWFC    0x3,0x0,0x0                                                                                     
003304   6e01     MOVWF     0x1,0x0                                                                                         
003306   0e02     MOVLW     0x2                                                                                             
003308   c000     MOVFF     0x0,0xfdb                                                                                       
00330a   ffdb                                                                                                               
00330c   0e03     MOVLW     0x3                                                                                             
00330e   c001     MOVFF     0x1,0xfdb                                                                                       
003310   ffdb                                                                                                               
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003312   0e07     MOVLW     0x7            		cp.sid   = RXB0EIDL;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
003314   cf64     MOVFF     0xf64,0xfdb                                                                                     
003316   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Data length                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003318   5065     MOVF      0x65,0x0,0x0   		cp.length=(RXB0DLCbits.DLC3<<3)+(RXB0DLCbits.DLC2<<2)+(RXB0DLCbits.DLC1<<1)+RXB0DLCbits.DLC0; F:\MCP\projects\CAN\canBase\Source\CAN.c
00331a   0b01     ANDLW     0x1                                                                                             
00331c   6e02     MOVWF     0x2,0x0                                                                                         
00331e   5065     MOVF      0x65,0x0,0x0                                                                                    
003320   0b02     ANDLW     0x2                                                                                             
003322   e001     BZ        0x3326                                                                                          
003324   0e01     MOVLW     0x1                                                                                             
003326   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
003328   6e01     MOVWF     0x1,0x0                                                                                         
00332a   5065     MOVF      0x65,0x0,0x0                                                                                    
00332c   0b04     ANDLW     0x4                                                                                             
00332e   e001     BZ        0x3332                                                                                          
003330   0e01     MOVLW     0x1                                                                                             
003332   0d04     MULLW     0x4                                                                                             
003334   cff3     MOVFF     0xff3,0x0                                                                                       
003336   f000                                                                                                               
003338   5065     MOVF      0x65,0x0,0x0                                                                                    
00333a   0b08     ANDLW     0x8                                                                                             
00333c   e001     BZ        0x3340                                                                                          
00333e   0e01     MOVLW     0x1                                                                                             
003340   0d08     MULLW     0x8                                                                                             
003342   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003344   2400     ADDWF     0x0,0x0,0x0                                                                                     
003346   2401     ADDWF     0x1,0x0,0x0                                                                                     
003348   2402     ADDWF     0x2,0x0,0x0                                                                                     
00334a   6ee7     MOVWF     0xe7,0x0                                                                                        
00334c   0e08     MOVLW     0x8                                                                                             
00334e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003350   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Data one bye one, for speed                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003352   0e09     MOVLW     0x9            		cp.data[0]=RXB0D0;	cp.data[1]=RXB0D1;                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
003354   cf66     MOVFF     0xf66,0xfdb                                                                                     
003356   ffdb                                                                                                               
003358   0e0a     MOVLW     0xa                                                                                             
00335a   cf67     MOVFF     0xf67,0xfdb                                                                                     
00335c   ffdb                                                                                                               
00335e   0e0b     MOVLW     0xb            		cp.data[2]=RXB0D2; 	cp.data[3]=RXB0D3;                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003360   cf68     MOVFF     0xf68,0xfdb                                                                                     
003362   ffdb                                                                                                               
003364   0e0c     MOVLW     0xc                                                                                             
003366   cf69     MOVFF     0xf69,0xfdb                                                                                     
003368   ffdb                                                                                                               
00336a   0e0d     MOVLW     0xd            		cp.data[4]=RXB0D4; 	cp.data[5]=RXB0D5;                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
00336c   cf6a     MOVFF     0xf6a,0xfdb                                                                                     
00336e   ffdb                                                                                                               
003370   0e0e     MOVLW     0xe                                                                                             
003372   cf6b     MOVFF     0xf6b,0xfdb                                                                                     
003374   ffdb                                                                                                               
003376   0e0f     MOVLW     0xf            		cp.data[6]=RXB0D6; 	cp.data[7]=RXB0D7;                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003378   cf6c     MOVFF     0xf6c,0xfdb                                                                                     
00337a   ffdb                                                                                                               
00337c   0e10     MOVLW     0x10                                                                                            
00337e   cf6d     MOVFF     0xf6d,0xfdb                                                                                     
003380   ffdb                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Clear ful status                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003382   9e60     BCF       0x60,0x7,0x0   		RXB0CONbits.RXFUL=0;                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// Check if bootloader request specific.                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		// reset and id change                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
003384   50df     MOVF      0xdf,0x0,0x0   		if (cp.type==ptBOOT)                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
003386   e160     BNZ       0x3448                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
003388   0e06     MOVLW     0x6            			if (cp.boot.rid==MY_ID)                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
00338a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00338c   6e00     MOVWF     0x0,0x0                                                                                         
00338e   6a01     CLRF      0x1,0x0                                                                                         
003390   0100     MOVLB     0x0                                                                                             
003392   5195     MOVF      0x95,0x0,0x1                                                                                    
003394   1800     XORWF     0x0,0x0,0x0                                                                                     
003396   e102     BNZ       0x339c                                                                                          
003398   5196     MOVF      0x96,0x0,0x1                                                                                    
00339a   1801     XORWF     0x1,0x0,0x0                                                                                     
00339c   e155     BNZ       0x3448                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
00339e   0e04     MOVLW     0x4            				if (cp.boot.type==btADDR) Reset(); // Reset me.                              F:\MCP\projects\CAN\canBase\Source\CAN.c
0033a0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0033a2   e101     BNZ       0x33a6                                                                                          
0033a4   00ff     RESET                                                                                                     
0033a6   0e04     MOVLW     0x4            				if (cp.boot.type==btCHANGEID)                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0033a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0033aa   0807     SUBLW     0x7                                                                                             
0033ac   e14d     BNZ       0x3448                                                                                          
                                           				{                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           						// Change my ID and NID                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
0033ae   0e09     MOVLW     0x9            						MY_ID=cp.data[0];                                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
0033b0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0033b2   0100     MOVLB     0x0                                                                                             
0033b4   6f95     MOVWF     0x95,0x1                                                                                        
0033b6   6b96     CLRF      0x96,0x1                                                                                        
0033b8   0e09     MOVLW     0x9            						EEWrite(NODE_ID_EE+1,cp.data[0]);                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
0033ba   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0033bc   ffe6                                                                                                               
0033be   0e01     MOVLW     0x1                                                                                             
0033c0   6ee6     MOVWF     0xe6,0x0                                                                                        
0033c2   6ae6     CLRF      0xe6,0x0                                                                                        
0033c4   ecc3     CALL      0x3d86,0x0                                                                                      
0033c6   f01e                                                                                                               
0033c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033ca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033ce   0e2a     MOVLW     0x2a           						EEWrite(NODE_ID_EE,NODE_HAS_ID);                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
0033d0   6ee6     MOVWF     0xe6,0x0                                                                                        
0033d2   0e00     MOVLW     0x0                                                                                             
0033d4   6ee6     MOVWF     0xe6,0x0                                                                                        
0033d6   6ae6     CLRF      0xe6,0x0                                                                                        
0033d8   ecc3     CALL      0x3d86,0x0                                                                                      
0033da   f01e                                                                                                               
0033dc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           						// Send ack with new id.                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
0033e2   0100     MOVLB     0x0            						outCp.type=ptBOOT;                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
0033e4   6b64     CLRF      0x64,0x1                                                                                        
0033e6   0100     MOVLB     0x0            						outCp.boot.type=btACK;                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
0033e8   0e04     MOVLW     0x4                                                                                             
0033ea   6f68     MOVWF     0x68,0x1                                                                                        
0033ec   0100     MOVLB     0x0            						outCp.length=0;                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0033ee   6b6c     CLRF      0x6c,0x1                                                                                        
0033f0   0e02     MOVLW     0x2            						while(!canSendMessage(outCp,PRIO_HIGH));                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
0033f2   6ee6     MOVWF     0xe6,0x0                                                                                        
0033f4   c064     MOVFF     0x64,0xfe6                                                                                      
0033f6   ffe6                                                                                                               
0033f8   c065     MOVFF     0x65,0xfe6                                                                                      
0033fa   ffe6                                                                                                               
0033fc   c066     MOVFF     0x66,0xfe6                                                                                      
0033fe   ffe6                                                                                                               
003400   c067     MOVFF     0x67,0xfe6                                                                                      
003402   ffe6                                                                                                               
003404   c068     MOVFF     0x68,0xfe6                                                                                      
003406   ffe6                                                                                                               
003408   c069     MOVFF     0x69,0xfe6                                                                                      
00340a   ffe6                                                                                                               
00340c   c06a     MOVFF     0x6a,0xfe6                                                                                      
00340e   ffe6                                                                                                               
003410   c06b     MOVFF     0x6b,0xfe6                                                                                      
003412   ffe6                                                                                                               
003414   c06c     MOVFF     0x6c,0xfe6                                                                                      
003416   ffe6                                                                                                               
003418   c06d     MOVFF     0x6d,0xfe6                                                                                      
00341a   ffe6                                                                                                               
00341c   c06e     MOVFF     0x6e,0xfe6                                                                                      
00341e   ffe6                                                                                                               
003420   c06f     MOVFF     0x6f,0xfe6                                                                                      
003422   ffe6                                                                                                               
003424   c070     MOVFF     0x70,0xfe6                                                                                      
003426   ffe6                                                                                                               
003428   c071     MOVFF     0x71,0xfe6                                                                                      
00342a   ffe6                                                                                                               
00342c   c072     MOVFF     0x72,0xfe6                                                                                      
00342e   ffe6                                                                                                               
003430   c073     MOVFF     0x73,0xfe6                                                                                      
003432   ffe6                                                                                                               
003434   c074     MOVFF     0x74,0xfe6                                                                                      
003436   ffe6                                                                                                               
003438   d83f     RCALL     0x34b8                                                                                          
00343a   6e00     MOVWF     0x0,0x0                                                                                         
00343c   0e12     MOVLW     0x12                                                                                            
00343e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003440   5000     MOVF      0x0,0x0,0x0                                                                                     
003442   0900     IORLW     0x0                                                                                             
003444   e101     BNZ       0x3448                                                                                          
003446   d7d4     BRA       0x33f0                                                                                          
                                           				}                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           			}                                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		}                                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           		//Call main parser                                                             F:\MCP\projects\CAN\canBase\Source\CAN.c
003448   04df     DECF      0xdf,0x0,0x0   		if (cp.type==ptPGM) canParse(cp);                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
00344a   e12c     BNZ       0x34a4                                                                                          
00344c   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
00344e   ffe9                                                                                                               
003450   cfda     MOVFF     0xfda,0xfea                                                                                     
003452   ffea                                                                                                               
003454   cfee     MOVFF     0xfee,0xfe6                                                                                     
003456   ffe6                                                                                                               
003458   cfee     MOVFF     0xfee,0xfe6                                                                                     
00345a   ffe6                                                                                                               
00345c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00345e   ffe6                                                                                                               
003460   cfee     MOVFF     0xfee,0xfe6                                                                                     
003462   ffe6                                                                                                               
003464   cfee     MOVFF     0xfee,0xfe6                                                                                     
003466   ffe6                                                                                                               
003468   cfee     MOVFF     0xfee,0xfe6                                                                                     
00346a   ffe6                                                                                                               
00346c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00346e   ffe6                                                                                                               
003470   cfee     MOVFF     0xfee,0xfe6                                                                                     
003472   ffe6                                                                                                               
003474   cfee     MOVFF     0xfee,0xfe6                                                                                     
003476   ffe6                                                                                                               
003478   cfee     MOVFF     0xfee,0xfe6                                                                                     
00347a   ffe6                                                                                                               
00347c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00347e   ffe6                                                                                                               
003480   cfee     MOVFF     0xfee,0xfe6                                                                                     
003482   ffe6                                                                                                               
003484   cfee     MOVFF     0xfee,0xfe6                                                                                     
003486   ffe6                                                                                                               
003488   cfee     MOVFF     0xfee,0xfe6                                                                                     
00348a   ffe6                                                                                                               
00348c   cfee     MOVFF     0xfee,0xfe6                                                                                     
00348e   ffe6                                                                                                               
003490   cfee     MOVFF     0xfee,0xfe6                                                                                     
003492   ffe6                                                                                                               
003494   cfee     MOVFF     0xfee,0xfe6                                                                                     
003496   ffe6                                                                                                               
003498   ec30     CALL      0x3c60,0x0                                                                                      
00349a   f01e                                                                                                               
00349c   6e00     MOVWF     0x0,0x0                                                                                         
00349e   0e11     MOVLW     0x11                                                                                            
0034a0   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0034a2   5000     MOVF      0x0,0x0,0x0                                                                                     
0034a4   0e11     MOVLW     0x11           }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0034a6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0034a8   e202     BC        0x34ae                                                                                          
0034aa   6ae1     CLRF      0xe1,0x0                                                                                        
0034ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0034ae   6ee1     MOVWF     0xe1,0x0                                                                                        
0034b0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0034b2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0034b4   ffd9                                                                                                               
0034b6   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           /*                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Function: canSendMessage                                                       F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Input:	CAN_MESSAGE to send                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Output: True if packet scheduled sucess, false otherwise.                      F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Pre-conditions: canInit                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Affects: ..                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           *	Depends: ..                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           */                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
0034b8   cfd9     MOVFF     0xfd9,0xfe6    BOOL canSendMessage(CAN_PACKET cp, CAN_PRIORITY prio)                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0034ba   ffe6                                                                                                               
0034bc   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0034be   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
0034c0   010f     MOVLB     0xf            	if ( TXB0CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00011; }           F:\MCP\projects\CAN\canBase\Source\CAN.c
0034c2   b740     BTFSC     0x40,0x3,0x1                                                                                    
0034c4   d004     BRA       0x34ce                                                                                          
0034c6   0e00     MOVLW     0x0                                                                                             
0034c8   1477     ANDWF     0x77,0x0,0x0                                                                                    
0034ca   0903     IORLW     0x3                                                                                             
0034cc   6e77     MOVWF     0x77,0x0                                                                                        
0034ce   010f     MOVLB     0xf            	if ( TXB1CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00100; }           F:\MCP\projects\CAN\canBase\Source\CAN.c
0034d0   b730     BTFSC     0x30,0x3,0x1                                                                                    
0034d2   d004     BRA       0x34dc                                                                                          
0034d4   0e00     MOVLW     0x0                                                                                             
0034d6   1477     ANDWF     0x77,0x0,0x0                                                                                    
0034d8   0904     IORLW     0x4                                                                                             
0034da   6e77     MOVWF     0x77,0x0                                                                                        
0034dc   010f     MOVLB     0xf            	if ( TXB2CONbits.TXREQ == 0 )  { ECANCON=(ECANCON&0b00000)|0b00101; }           F:\MCP\projects\CAN\canBase\Source\CAN.c
0034de   b720     BTFSC     0x20,0x3,0x1                                                                                    
0034e0   d005     BRA       0x34ec                                                                                          
0034e2   0e00     MOVLW     0x0                                                                                             
0034e4   1477     ANDWF     0x77,0x0,0x0                                                                                    
0034e6   0905     IORLW     0x5                                                                                             
0034e8   6e77     MOVWF     0x77,0x0                                                                                        
                                           	// None of the transmit buffers were empty.                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
0034ea   d002     BRA       0x34f0         	else { return FALSE;}                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
0034ec   0e00     MOVLW     0x0                                                                                             
0034ee   d0bd     BRA       0x366a                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
0034f0   0eed     MOVLW     0xed           	if (prio<0 || prio>3) prio = 0;                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
0034f2   cfdb     MOVFF     0xfdb,0x0                                                                                       
0034f4   f000                                                                                                               
0034f6   3400     RLCF      0x0,0x0,0x0                                                                                     
0034f8   e20e     BC        0x3516                                                                                          
0034fa   0eed     MOVLW     0xed                                                                                            
0034fc   cfdb     MOVFF     0xfdb,0x1                                                                                       
0034fe   f001                                                                                                               
003500   0e03     MOVLW     0x3                                                                                             
003502   6ee7     MOVWF     0xe7,0x0                                                                                        
003504   1801     XORWF     0x1,0x0,0x0                                                                                     
003506   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003508   d002     BRA       0x350e                                                                                          
00350a   3401     RLCF      0x1,0x0,0x0                                                                                     
00350c   d003     BRA       0x3514                                                                                          
00350e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003510   80d8     BSF       0xd8,0x0,0x0                                                                                    
003512   5401     SUBFWB    0x1,0x0,0x0                                                                                     
003514   e202     BC        0x351a                                                                                          
003516   0eed     MOVLW     0xed                                                                                            
003518   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//RXB0SIDH 28 27 26 25 24 23 22 21                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//RXB0SIDL 20 19 18 xx xx xx 17 16                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//RXB0EIDH 15 14 13 12 11 10 09 08                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	//RXB0EIDL 07 06 05 04 03 02 01 00                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00351a   0eee     MOVLW     0xee           	if (cp.type==ptBOOT)                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00351c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00351e   e124     BNZ       0x3568                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
003520   0ef3     MOVLW     0xf3           		RXB0SIDH = ((cp.type&0x3)<<6)+((cp.boot.type&0x7)<<3)+((cp.boot.offset&0xE0)>>5); F:\MCP\projects\CAN\canBase\Source\CAN.c
003522   50db     MOVF      0xdb,0x0,0x0                                                                                    
003524   0be0     ANDLW     0xe0                                                                                            
003526   0be0     ANDLW     0xe0                                                                                            
003528   38e8     SWAPF     0xe8,0x0,0x0                                                                                    
00352a   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
00352c   6e01     MOVWF     0x1,0x0                                                                                         
00352e   0ef2     MOVLW     0xf2                                                                                            
003530   50db     MOVF      0xdb,0x0,0x0                                                                                    
003532   0b07     ANDLW     0x7                                                                                             
003534   0d08     MULLW     0x8                                                                                             
003536   cff3     MOVFF     0xff3,0x0                                                                                       
003538   f000                                                                                                               
00353a   0eee     MOVLW     0xee                                                                                            
00353c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00353e   0b03     ANDLW     0x3                                                                                             
003540   0d40     MULLW     0x40                                                                                            
003542   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003544   2400     ADDWF     0x0,0x0,0x0                                                                                     
003546   2401     ADDWF     0x1,0x0,0x0                                                                                     
003548   6e61     MOVWF     0x61,0x0                                                                                        
00354a   0ef3     MOVLW     0xf3           		RXB0SIDL = ((cp.boot.offset&0x1C)<<3)+(cp.boot.offset&0x3);                    F:\MCP\projects\CAN\canBase\Source\CAN.c
00354c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00354e   0b03     ANDLW     0x3                                                                                             
003550   6e00     MOVWF     0x0,0x0                                                                                         
003552   0ef3     MOVLW     0xf3                                                                                            
003554   50db     MOVF      0xdb,0x0,0x0                                                                                    
003556   0b1c     ANDLW     0x1c                                                                                            
003558   0d08     MULLW     0x8                                                                                             
00355a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00355c   2400     ADDWF     0x0,0x0,0x0                                                                                     
00355e   6e62     MOVWF     0x62,0x0                                                                                        
003560   0ef4     MOVLW     0xf4           		RXB0EIDH = cp.boot.rid;                                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
003562   50db     MOVF      0xdb,0x0,0x0                                                                                    
003564   6e63     MOVWF     0x63,0x0                                                                                        
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
003566   d04f     BRA       0x3606         	else                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	{                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
003568   0eef     MOVLW     0xef           		RXB0SIDH = ((cp.type&0x3)<<6)+((cp.pgm.class&0xF)<<2)+((cp.pgm.id&0x6000)>>13); F:\MCP\projects\CAN\canBase\Source\CAN.c
00356a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00356c   0b0f     ANDLW     0xf                                                                                             
00356e   0d04     MULLW     0x4                                                                                             
003570   cff3     MOVFF     0xff3,0x2                                                                                       
003572   f002                                                                                                               
003574   0eee     MOVLW     0xee                                                                                            
003576   50db     MOVF      0xdb,0x0,0x0                                                                                    
003578   0b03     ANDLW     0x3                                                                                             
00357a   0d40     MULLW     0x40                                                                                            
00357c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00357e   2402     ADDWF     0x2,0x0,0x0                                                                                     
003580   6e00     MOVWF     0x0,0x0                                                                                         
003582   6a01     CLRF      0x1,0x0                                                                                         
003584   be00     BTFSC     0x0,0x7,0x0                                                                                     
003586   6801     SETF      0x1,0x0                                                                                         
003588   0ef0     MOVLW     0xf0                                                                                            
00358a   cfdb     MOVFF     0xfdb,0x3                                                                                       
00358c   f003                                                                                                               
00358e   0ef1     MOVLW     0xf1                                                                                            
003590   cfdb     MOVFF     0xfdb,0x4                                                                                       
003592   f004                                                                                                               
003594   0e00     MOVLW     0x0                                                                                             
003596   1603     ANDWF     0x3,0x1,0x0                                                                                     
003598   0e60     MOVLW     0x60                                                                                            
00359a   1604     ANDWF     0x4,0x1,0x0                                                                                     
00359c   3804     SWAPF     0x4,0x0,0x0                                                                                     
00359e   6a04     CLRF      0x4,0x0                                                                                         
0035a0   30e8     RRCF      0xe8,0x0,0x0                                                                                    
0035a2   0b07     ANDLW     0x7                                                                                             
0035a4   6e03     MOVWF     0x3,0x0                                                                                         
0035a6   5000     MOVF      0x0,0x0,0x0                                                                                     
0035a8   2403     ADDWF     0x3,0x0,0x0                                                                                     
0035aa   6e61     MOVWF     0x61,0x0                                                                                        
0035ac   0ef0     MOVLW     0xf0           		RXB0SIDL = ((cp.pgm.id&0x1C00)>>5)+((cp.pgm.id&0x300)>>8);                     F:\MCP\projects\CAN\canBase\Source\CAN.c
0035ae   cfdb     MOVFF     0xfdb,0x0                                                                                       
0035b0   f000                                                                                                               
0035b2   0ef1     MOVLW     0xf1                                                                                            
0035b4   cfdb     MOVFF     0xfdb,0x1                                                                                       
0035b6   f001                                                                                                               
0035b8   0e00     MOVLW     0x0                                                                                             
0035ba   1600     ANDWF     0x0,0x1,0x0                                                                                     
0035bc   0e1c     MOVLW     0x1c                                                                                            
0035be   1601     ANDWF     0x1,0x1,0x0                                                                                     
0035c0   0e05     MOVLW     0x5                                                                                             
0035c2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0035c4   3201     RRCF      0x1,0x1,0x0                                                                                     
0035c6   3200     RRCF      0x0,0x1,0x0                                                                                     
0035c8   04e8     DECF      0xe8,0x0,0x0                                                                                    
0035ca   e1fb     BNZ       0x35c2                                                                                          
0035cc   0ef0     MOVLW     0xf0                                                                                            
0035ce   cfdb     MOVFF     0xfdb,0x2                                                                                       
0035d0   f002                                                                                                               
0035d2   0ef1     MOVLW     0xf1                                                                                            
0035d4   cfdb     MOVFF     0xfdb,0x3                                                                                       
0035d6   f003                                                                                                               
0035d8   0e00     MOVLW     0x0                                                                                             
0035da   1602     ANDWF     0x2,0x1,0x0                                                                                     
0035dc   0e03     MOVLW     0x3                                                                                             
0035de   1603     ANDWF     0x3,0x1,0x0                                                                                     
0035e0   c003     MOVFF     0x3,0x2                                                                                         
0035e2   f002                                                                                                               
0035e4   6a03     CLRF      0x3,0x0                                                                                         
0035e6   5000     MOVF      0x0,0x0,0x0                                                                                     
0035e8   2402     ADDWF     0x2,0x0,0x0                                                                                     
0035ea   6e62     MOVWF     0x62,0x0                                                                                        
0035ec   0eff     MOVLW     0xff           		RXB0EIDH = (cp.pgm.id&0xFF);                                                   F:\MCP\projects\CAN\canBase\Source\CAN.c
0035ee   6ee7     MOVWF     0xe7,0x0                                                                                        
0035f0   0ef0     MOVLW     0xf0                                                                                            
0035f2   cfdb     MOVFF     0xfdb,0x0                                                                                       
0035f4   f000                                                                                                               
0035f6   0ef1     MOVLW     0xf1                                                                                            
0035f8   cfdb     MOVFF     0xfdb,0x1                                                                                       
0035fa   f001                                                                                                               
0035fc   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0035fe   1600     ANDWF     0x0,0x1,0x0                                                                                     
003600   6a01     CLRF      0x1,0x0                                                                                         
003602   5000     MOVF      0x0,0x0,0x0                                                                                     
003604   6e63     MOVWF     0x63,0x0                                                                                        
                                           	}                                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
003606   c095     MOVFF     0x95,0xf64     	RXB0EIDL = MY_ID;                                                               F:\MCP\projects\CAN\canBase\Source\CAN.c
003608   ff64                                                                                                               
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Data length                                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
00360a   6a65     CLRF      0x65,0x0       	RXB0DLC = 0;                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
00360c   0ef6     MOVLW     0xf6           	if (cp.length>8) RXB0DLC=8; else RXB0DLC=cp.length;                             F:\MCP\projects\CAN\canBase\Source\CAN.c
00360e   50db     MOVF      0xdb,0x0,0x0                                                                                    
003610   0808     SUBLW     0x8                                                                                             
003612   e203     BC        0x361a                                                                                          
003614   0e08     MOVLW     0x8                                                                                             
003616   6e65     MOVWF     0x65,0x0                                                                                        
003618   d003     BRA       0x3620                                                                                          
00361a   0ef6     MOVLW     0xf6                                                                                            
00361c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00361e   6e65     MOVWF     0x65,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// NOT Remote request                                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	_asm                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003620   9c65     BCF       0x65,0x6,0x0   		bcf RXB0DLC, 6, 0                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	_endasm                                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Data one bye one, for speed                                                  F:\MCP\projects\CAN\canBase\Source\CAN.c
003622   0ef7     MOVLW     0xf7           	RXB0D0=cp.data[0];	RXB0D1=cp.data[1];                                           F:\MCP\projects\CAN\canBase\Source\CAN.c
003624   50db     MOVF      0xdb,0x0,0x0                                                                                    
003626   6e66     MOVWF     0x66,0x0                                                                                        
003628   0ef8     MOVLW     0xf8                                                                                            
00362a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00362c   6e67     MOVWF     0x67,0x0                                                                                        
00362e   0ef9     MOVLW     0xf9           	RXB0D2=cp.data[2]; 	RXB0D3=cp.data[3];                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
003630   50db     MOVF      0xdb,0x0,0x0                                                                                    
003632   6e68     MOVWF     0x68,0x0                                                                                        
003634   0efa     MOVLW     0xfa                                                                                            
003636   50db     MOVF      0xdb,0x0,0x0                                                                                    
003638   6e69     MOVWF     0x69,0x0                                                                                        
00363a   0efb     MOVLW     0xfb           	RXB0D4=cp.data[4]; 	RXB0D5=cp.data[5];                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
00363c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00363e   6e6a     MOVWF     0x6a,0x0                                                                                        
003640   0efc     MOVLW     0xfc                                                                                            
003642   50db     MOVF      0xdb,0x0,0x0                                                                                    
003644   6e6b     MOVWF     0x6b,0x0                                                                                        
003646   0efd     MOVLW     0xfd           	RXB0D6=cp.data[6]; 	RXB0D7=cp.data[7];                                          F:\MCP\projects\CAN\canBase\Source\CAN.c
003648   50db     MOVF      0xdb,0x0,0x0                                                                                    
00364a   6e6c     MOVWF     0x6c,0x0                                                                                        
00364c   0efe     MOVLW     0xfe                                                                                            
00364e   50db     MOVF      0xdb,0x0,0x0                                                                                    
003650   6e6d     MOVWF     0x6d,0x0                                                                                        
                                           	// set extended                                                                 F:\MCP\projects\CAN\canBase\Source\CAN.c
003652   8662     BSF       0x62,0x3,0x0   	RXB0SIDLbits.EXID=1;                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// Priority                                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
003654   0eed     MOVLW     0xed           	RXB0CON = (RXB0CON & 0b11111100) | prio;                                        F:\MCP\projects\CAN\canBase\Source\CAN.c
003656   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003658   ffe6                                                                                                               
00365a   0efc     MOVLW     0xfc                                                                                            
00365c   1460     ANDWF     0x60,0x0,0x0                                                                                    
00365e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003660   10e7     IORWF     0xe7,0x0,0x0                                                                                    
003662   6e60     MOVWF     0x60,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	// mark as redy to transmit                                                     F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	_asm                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
003664   8660     BSF       0x60,0x3,0x0   		bsf RXB0CON, 3, 0                                                              F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	_endasm                                                                         F:\MCP\projects\CAN\canBase\Source\CAN.c
                                           	                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
003666   0e01     MOVLW     0x1            	return TRUE;                                                                    F:\MCP\projects\CAN\canBase\Source\CAN.c
003668   d000     BRA       0x366a                                                                                          
                                                                                                                            F:\MCP\projects\CAN\canBase\Source\CAN.c
00366a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\canBase\Source\CAN.c
00366c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00366e   ffd9                                                                                                               
003670   0012     RETURN    0x0                                                                                             
                                           /*********************************************************************           F:\MCP\projects\CAN\Include\EEAccess.c
                                            *                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                            *   Functions for reading and writing to EEPROM.                                F:\MCP\projects\CAN\Include\EEAccess.c
                                            *                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                            *********************************************************************           F:\MCP\projects\CAN\Include\EEAccess.c
                                            * FileName:        	$HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/Include/EEAccess.c $ F:\MCP\projects\CAN\Include\EEAccess.c
                                            * Last changed:	$LastChangedDate: 2006-11-20 21:31:03 +0100 (m√•, 20 nov 2006) $ F:\MCP\projects\CAN\Include\EEAccess.c
                                            * By:			$LastChangedBy: johboh $                                                F:\MCP\projects\CAN\Include\EEAccess.c
                                            * Revision:		$Revision: 139 $                                                   F:\MCP\projects\CAN\Include\EEAccess.c
                                            ********************************************************************/           F:\MCP\projects\CAN\Include\EEAccess.c
                                           #include <p18cxxx.h>                                                             F:\MCP\projects\CAN\Include\EEAccess.c
                                           #include <EEaccess.h>                                                            F:\MCP\projects\CAN\Include\EEAccess.c
                                                                                                                            F:\MCP\projects\CAN\Include\EEAccess.c
                                           /*                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Function: EERead                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                           *                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Input:	WORD address to read from.                                              F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Output: Byte read.                                                             F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Affects: none.                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
                                           */                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
003d3c   cfd9     MOVFF     0xfd9,0xfe6    BYTE EERead(WORD addr)                                                           F:\MCP\projects\CAN\Include\EEAccess.c
003d3e   ffe6                                                                                                               
003d40   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003d42   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003d44   0efd     MOVLW     0xfd           	EEADRH=(BYTE)(addr>>8);                                                         F:\MCP\projects\CAN\Include\EEAccess.c
003d46   cfdb     MOVFF     0xfdb,0x0                                                                                       
003d48   f000                                                                                                               
003d4a   0efe     MOVLW     0xfe                                                                                            
003d4c   cfdb     MOVFF     0xfdb,0x1                                                                                       
003d4e   f001                                                                                                               
003d50   c001     MOVFF     0x1,0x0                                                                                         
003d52   f000                                                                                                               
003d54   6a01     CLRF      0x1,0x0                                                                                         
003d56   5000     MOVF      0x0,0x0,0x0                                                                                     
003d58   6eaa     MOVWF     0xaa,0x0                                                                                        
003d5a   0eff     MOVLW     0xff           	EEADR=(BYTE)(addr & 0xFF);                                                      F:\MCP\projects\CAN\Include\EEAccess.c
003d5c   6ee7     MOVWF     0xe7,0x0                                                                                        
003d5e   0efd     MOVLW     0xfd                                                                                            
003d60   cfdb     MOVFF     0xfdb,0x0                                                                                       
003d62   f000                                                                                                               
003d64   0efe     MOVLW     0xfe                                                                                            
003d66   cfdb     MOVFF     0xfdb,0x1                                                                                       
003d68   f001                                                                                                               
003d6a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003d6c   1600     ANDWF     0x0,0x1,0x0                                                                                     
003d6e   6a01     CLRF      0x1,0x0                                                                                         
003d70   5000     MOVF      0x0,0x0,0x0                                                                                     
003d72   6ea9     MOVWF     0xa9,0x0                                                                                        
003d74   9ea6     BCF       0xa6,0x7,0x0   	EECON1bits.EEPGD=0;                                                             F:\MCP\projects\CAN\Include\EEAccess.c
003d76   9ca6     BCF       0xa6,0x6,0x0   	EECON1bits.CFGS=0;                                                              F:\MCP\projects\CAN\Include\EEAccess.c
003d78   80a6     BSF       0xa6,0x0,0x0   	EECON1bits.RD=1;                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003d7a   50a8     MOVF      0xa8,0x0,0x0   	return EEDATA;	                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
003d7c   d000     BRA       0x3d7e                                                                                          
003d7e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003d80   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003d82   ffd9                                                                                                               
003d84   0012     RETURN    0x0                                                                                             
                                                                                                                            F:\MCP\projects\CAN\Include\EEAccess.c
                                                                                                                            F:\MCP\projects\CAN\Include\EEAccess.c
                                           /*                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Function: EEWrite                                                              F:\MCP\projects\CAN\Include\EEAccess.c
                                           *                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Input:	WORD address to write to and BYTE data to write.                        F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Output: none.                                                                  F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Affects: none.                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
                                           *	Depends: none.                                                                 F:\MCP\projects\CAN\Include\EEAccess.c
                                           */                                                                               F:\MCP\projects\CAN\Include\EEAccess.c
003d86   cfd9     MOVFF     0xfd9,0xfe6    void EEWrite(WORD addr,BYTE data)                                                F:\MCP\projects\CAN\Include\EEAccess.c
003d88   ffe6                                                                                                               
003d8a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003d8c   ffd9                                                                                                               
                                           {                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003d8e   98a1     BCF       0xa1,0x4,0x0   	PIR2bits.EEIF=0;                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003d90   0efd     MOVLW     0xfd           	EEADRH=(BYTE)(addr>>8);                                                         F:\MCP\projects\CAN\Include\EEAccess.c
003d92   cfdb     MOVFF     0xfdb,0x0                                                                                       
003d94   f000                                                                                                               
003d96   0efe     MOVLW     0xfe                                                                                            
003d98   cfdb     MOVFF     0xfdb,0x1                                                                                       
003d9a   f001                                                                                                               
003d9c   c001     MOVFF     0x1,0x0                                                                                         
003d9e   f000                                                                                                               
003da0   6a01     CLRF      0x1,0x0                                                                                         
003da2   5000     MOVF      0x0,0x0,0x0                                                                                     
003da4   6eaa     MOVWF     0xaa,0x0                                                                                        
003da6   0eff     MOVLW     0xff           	EEADR=(BYTE)(addr & 0xFF);                                                      F:\MCP\projects\CAN\Include\EEAccess.c
003da8   6ee7     MOVWF     0xe7,0x0                                                                                        
003daa   0efd     MOVLW     0xfd                                                                                            
003dac   cfdb     MOVFF     0xfdb,0x0                                                                                       
003dae   f000                                                                                                               
003db0   0efe     MOVLW     0xfe                                                                                            
003db2   cfdb     MOVFF     0xfdb,0x1                                                                                       
003db4   f001                                                                                                               
003db6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003db8   1600     ANDWF     0x0,0x1,0x0                                                                                     
003dba   6a01     CLRF      0x1,0x0                                                                                         
003dbc   5000     MOVF      0x0,0x0,0x0                                                                                     
003dbe   6ea9     MOVWF     0xa9,0x0                                                                                        
003dc0   0efc     MOVLW     0xfc           	EEDATA=data;                                                                    F:\MCP\projects\CAN\Include\EEAccess.c
003dc2   50db     MOVF      0xdb,0x0,0x0                                                                                    
003dc4   6ea8     MOVWF     0xa8,0x0                                                                                        
003dc6   9ea6     BCF       0xa6,0x7,0x0   	EECON1bits.EEPGD=0;                                                             F:\MCP\projects\CAN\Include\EEAccess.c
003dc8   9ca6     BCF       0xa6,0x6,0x0   	EECON1bits.CFGS=0;                                                              F:\MCP\projects\CAN\Include\EEAccess.c
003dca   84a6     BSF       0xa6,0x2,0x0   	EECON1bits.WREN=1;                                                              F:\MCP\projects\CAN\Include\EEAccess.c
003dcc   9ef2     BCF       0xf2,0x7,0x0   	INTCONbits.GIE=0;                                                               F:\MCP\projects\CAN\Include\EEAccess.c
003dce   0e55     MOVLW     0x55           	EECON2=0x55;                                                                    F:\MCP\projects\CAN\Include\EEAccess.c
003dd0   6ea7     MOVWF     0xa7,0x0                                                                                        
003dd2   0eaa     MOVLW     0xaa           	EECON2=0xAA;                                                                    F:\MCP\projects\CAN\Include\EEAccess.c
003dd4   6ea7     MOVWF     0xa7,0x0                                                                                        
003dd6   82a6     BSF       0xa6,0x1,0x0   	EECON1bits.WR=1;                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003dd8   8ef2     BSF       0xf2,0x7,0x0   	INTCONbits.GIE=1;                                                               F:\MCP\projects\CAN\Include\EEAccess.c
003dda   a8a1     BTFSS     0xa1,0x4,0x0   	while(!PIR2bits.EEIF);                                                          F:\MCP\projects\CAN\Include\EEAccess.c
003ddc   d7fe     BRA       0x3dda                                                                                          
003dde   94a6     BCF       0xa6,0x2,0x0   	EECON1bits.WREN=0;                                                              F:\MCP\projects\CAN\Include\EEAccess.c
003de0   52e5     MOVF      0xe5,0x1,0x0   }                                                                                F:\MCP\projects\CAN\Include\EEAccess.c
003de2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003de4   ffd9                                                                                                               
003de6   0012     RETURN    0x0                                                                                             
                                           /*********************************************************************           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            *                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            *                  IR reciver module                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            *                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            *********************************************************************           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            * FileName:        $HeadURL: http://svn.arune.se/svn/HomeAutomation/trunk/EmbeddedSoftware/PIC/canIR/Source/IRec.c $ F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            * Last changed:	$LastChangedDate: 2006-11-18 22:14:33 +0100 (l√∂, 18 nov 2006) $ F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            * By:				$LastChangedBy: johboh $                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            * Revision:		$Revision: 124 $                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                            ********************************************************************/           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #include <IRec.h>                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #include <CAN.h>                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #include <funcdefs.h>                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #ifdef USE_IREC                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static BYTE toggle = 0;                                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static BYTE addr = 0;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static BYTE data = 0;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static BYTE bitIndex = 0;                                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           static IR_TYPE type = IR_NONE;                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Function: irecInit                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Pre-conditions: none                                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Affects: none                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Depends: TIMER 3 is free                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           void irecInit()                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// Setup timer 3 to be source for CCP1                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
003672   0ef9     MOVLW     0xf9           	T3CON = 0b11111001;                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003674   6eb1     MOVWF     0xb1,0x0                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// configure timer 3 interrupt (for overflow)                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
003676   92a1     BCF       0xa1,0x1,0x0   	PIR2bits.TMR3IF = 0;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003678   82a0     BSF       0xa0,0x1,0x0   	PIE2bits.TMR3IE = 1;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
00367a   82a2     BSF       0xa2,0x1,0x0   	IPR2bits.TMR3IP = 1;                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// Setup CCP1 to use capture on falling edge                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
00367c   0e04     MOVLW     0x4            	CCP1CON=0x04;                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
00367e   6ebd     MOVWF     0xbd,0x0                                                                                        
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// Enable CCP1 interrupt and set priority to high.                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003680   949e     BCF       0x9e,0x2,0x0   	PIR1bits.CCP1IF=0;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003682   849d     BSF       0x9d,0x2,0x0   	PIE1bits.CCP1IE=1;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003684   849f     BSF       0x9f,0x2,0x0   	IPR1bits.CCP1IP=1;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003686   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           /*                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Function: irecISR                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Input:	none                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Output: none                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Pre-conditions: a call to irecInit()                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Affects: ...                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           *	Depends: ...                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           */                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           void irecISR()                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           {                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	static WORD timediff = 0;                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	static BOOL started = FALSE;                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	static BYTE lastbit = 1;                                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	static BOOL second = FALSE;                                                     F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// If IR bit                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
003688   509e     MOVF      0x9e,0x0,0x0   	if(PIR1bits.CCP1IF && PIE1bits.CCP1IE)                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
00368a   0b04     ANDLW     0x4                                                                                             
00368c   e101     BNZ       0x3690                                                                                          
00368e   d232     BRA       0x3af4                                                                                          
003690   509d     MOVF      0x9d,0x0,0x0                                                                                    
003692   0b04     ANDLW     0x4                                                                                             
003694   e101     BNZ       0x3698                                                                                          
003696   d22e     BRA       0x3af4                                                                                          
                                           	{                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// Read timediff                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003698   50b2     MOVF      0xb2,0x0,0x0   		timediff  = TMR3L;                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00369a   0100     MOVLB     0x0                                                                                             
00369c   6f84     MOVWF     0x84,0x1                                                                                        
00369e   6b85     CLRF      0x85,0x1                                                                                        
0036a0   50b3     MOVF      0xb3,0x0,0x0   		timediff += (((WORD)TMR3H)<<8);                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0036a2   6e00     MOVWF     0x0,0x0                                                                                         
0036a4   c000     MOVFF     0x0,0x1                                                                                         
0036a6   f001                                                                                                               
0036a8   6a00     CLRF      0x0,0x0                                                                                         
0036aa   5000     MOVF      0x0,0x0,0x0                                                                                     
0036ac   2784     ADDWF     0x84,0x1,0x1                                                                                    
0036ae   5001     MOVF      0x1,0x0,0x0                                                                                     
0036b0   2385     ADDWFC    0x85,0x1,0x1                                                                                    
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// Clear timer.                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0036b2   6ab3     CLRF      0xb3,0x0       		TMR3H = 0;                                                                     F:\MCP\projects\CAN\canIR\Source\IRec.c
0036b4   6ab2     CLRF      0xb2,0x0       		TMR3L = 0;                                                                     F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// Wait on inverse edge                                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
0036b6   70bd     BTG       0xbd,0x0,0x0   		CCP1CONbits.CCP1M0=~CCP1CONbits.CCP1M0;                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// Disable interrupt                                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
0036b8   949e     BCF       0x9e,0x2,0x0   		PIR1bits.CCP1IF=0;                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// If found RC5 och RC5X startbit...                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
0036ba   0586     DECF      0x86,0x0,0x1   		if (started==TRUE && (type==IR_RC5 || type==IR_RC5X))                          F:\MCP\projects\CAN\canIR\Source\IRec.c
0036bc   e001     BZ        0x36c0                                                                                          
0036be   d0d0     BRA       0x3860                                                                                          
0036c0   0583     DECF      0x83,0x0,0x1                                                                                    
0036c2   e004     BZ        0x36cc                                                                                          
0036c4   0e02     MOVLW     0x2                                                                                             
0036c6   5d83     SUBWF     0x83,0x0,0x1                                                                                    
0036c8   e001     BZ        0x36cc                                                                                          
0036ca   d0ca     BRA       0x3860                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			// Parse message                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
0036cc   0e33     MOVLW     0x33           			if ((t2-250)<timediff && timediff<(t2+250) && second==FALSE)                  F:\MCP\projects\CAN\canIR\Source\IRec.c
0036ce   80d8     BSF       0xd8,0x0,0x0                                                                                    
0036d0   5584     SUBFWB    0x84,0x0,0x1                                                                                    
0036d2   0e03     MOVLW     0x3                                                                                             
0036d4   5585     SUBFWB    0x85,0x0,0x1                                                                                    
0036d6   e235     BC        0x3742                                                                                          
0036d8   0e27     MOVLW     0x27                                                                                            
0036da   5d84     SUBWF     0x84,0x0,0x1                                                                                    
0036dc   0e05     MOVLW     0x5                                                                                             
0036de   5985     SUBWFB    0x85,0x0,0x1                                                                                    
0036e0   e230     BC        0x3742                                                                                          
0036e2   5188     MOVF      0x88,0x0,0x1                                                                                    
0036e4   e12e     BNZ       0x3742                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0036e6   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0036e8   e102     BNZ       0x36ee                                                                                          
0036ea   c087     MOVFF     0x87,0x7f                                                                                       
0036ec   f07f                                                                                                               
0036ee   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=5) addr+=(lastbit<<(5-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
0036f0   5d82     SUBWF     0x82,0x0,0x1                                                                                    
0036f2   e310     BNC       0x3714                                                                                          
0036f4   5182     MOVF      0x82,0x0,0x1                                                                                    
0036f6   0805     SUBLW     0x5                                                                                             
0036f8   e30d     BNC       0x3714                                                                                          
0036fa   0e05     MOVLW     0x5                                                                                             
0036fc   80d8     BSF       0xd8,0x0,0x0                                                                                    
0036fe   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003700   6e00     MOVWF     0x0,0x0                                                                                         
003702   5187     MOVF      0x87,0x0,0x1                                                                                    
003704   5200     MOVF      0x0,0x1,0x0                                                                                     
003706   e004     BZ        0x3710                                                                                          
003708   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
00370a   0bfe     ANDLW     0xfe                                                                                            
00370c   0600     DECF      0x0,0x1,0x0                                                                                     
00370e   e1fc     BNZ       0x3708                                                                                          
003710   0100     MOVLB     0x0                                                                                             
003712   2780     ADDWF     0x80,0x1,0x1                                                                                    
003714   0e06     MOVLW     0x6            				if (bitIndex>=6 && bitIndex<=11) data+=(lastbit<<(11-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
003716   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003718   e310     BNC       0x373a                                                                                          
00371a   5182     MOVF      0x82,0x0,0x1                                                                                    
00371c   080b     SUBLW     0xb                                                                                             
00371e   e30d     BNC       0x373a                                                                                          
003720   0e0b     MOVLW     0xb                                                                                             
003722   80d8     BSF       0xd8,0x0,0x0                                                                                    
003724   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003726   6e00     MOVWF     0x0,0x0                                                                                         
003728   5187     MOVF      0x87,0x0,0x1                                                                                    
00372a   5200     MOVF      0x0,0x1,0x0                                                                                     
00372c   e004     BZ        0x3736                                                                                          
00372e   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003730   0bfe     ANDLW     0xfe                                                                                            
003732   0600     DECF      0x0,0x1,0x0                                                                                     
003734   e1fc     BNZ       0x372e                                                                                          
003736   0100     MOVLB     0x0                                                                                             
003738   2781     ADDWF     0x81,0x1,0x1                                                                                    
00373a   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
00373c   0e01     MOVLW     0x1            				second = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
00373e   6f88     MOVWF     0x88,0x1                                                                                        
003740   d1f9     BRA       0x3b34         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003742   0e8f     MOVLW     0x8f           			if ((t4-250)<timediff && timediff<(t4+250) && second==FALSE)                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003744   80d8     BSF       0xd8,0x0,0x0                                                                                    
003746   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003748   0e07     MOVLW     0x7                                                                                             
00374a   5585     SUBFWB    0x85,0x0,0x1                                                                                    
00374c   e23b     BC        0x37c4                                                                                          
00374e   0e83     MOVLW     0x83                                                                                            
003750   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003752   0e09     MOVLW     0x9                                                                                             
003754   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003756   e236     BC        0x37c4                                                                                          
003758   5188     MOVF      0x88,0x0,0x1                                                                                    
00375a   e134     BNZ       0x37c4                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00375c   5187     MOVF      0x87,0x0,0x1   				lastbit=(lastbit?0:1);                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
00375e   e002     BZ        0x3764                                                                                          
003760   0e00     MOVLW     0x0                                                                                             
003762   d001     BRA       0x3766                                                                                          
003764   0e01     MOVLW     0x1                                                                                             
003766   6f87     MOVWF     0x87,0x1                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003768   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00376a   e102     BNZ       0x3770                                                                                          
00376c   c087     MOVFF     0x87,0x7f                                                                                       
00376e   f07f                                                                                                               
003770   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=5) addr+=(lastbit<<(5-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
003772   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003774   e310     BNC       0x3796                                                                                          
003776   5182     MOVF      0x82,0x0,0x1                                                                                    
003778   0805     SUBLW     0x5                                                                                             
00377a   e30d     BNC       0x3796                                                                                          
00377c   0e05     MOVLW     0x5                                                                                             
00377e   80d8     BSF       0xd8,0x0,0x0                                                                                    
003780   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003782   6e00     MOVWF     0x0,0x0                                                                                         
003784   5187     MOVF      0x87,0x0,0x1                                                                                    
003786   5200     MOVF      0x0,0x1,0x0                                                                                     
003788   e004     BZ        0x3792                                                                                          
00378a   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
00378c   0bfe     ANDLW     0xfe                                                                                            
00378e   0600     DECF      0x0,0x1,0x0                                                                                     
003790   e1fc     BNZ       0x378a                                                                                          
003792   0100     MOVLB     0x0                                                                                             
003794   2780     ADDWF     0x80,0x1,0x1                                                                                    
003796   0e06     MOVLW     0x6            				if (bitIndex>=6 && bitIndex<=11) data+=(lastbit<<(11-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
003798   5d82     SUBWF     0x82,0x0,0x1                                                                                    
00379a   e310     BNC       0x37bc                                                                                          
00379c   5182     MOVF      0x82,0x0,0x1                                                                                    
00379e   080b     SUBLW     0xb                                                                                             
0037a0   e30d     BNC       0x37bc                                                                                          
0037a2   0e0b     MOVLW     0xb                                                                                             
0037a4   80d8     BSF       0xd8,0x0,0x0                                                                                    
0037a6   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0037a8   6e00     MOVWF     0x0,0x0                                                                                         
0037aa   5187     MOVF      0x87,0x0,0x1                                                                                    
0037ac   5200     MOVF      0x0,0x1,0x0                                                                                     
0037ae   e004     BZ        0x37b8                                                                                          
0037b0   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0037b2   0bfe     ANDLW     0xfe                                                                                            
0037b4   0600     DECF      0x0,0x1,0x0                                                                                     
0037b6   e1fc     BNZ       0x37b0                                                                                          
0037b8   0100     MOVLB     0x0                                                                                             
0037ba   2781     ADDWF     0x81,0x1,0x1                                                                                    
0037bc   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0037be   0e01     MOVLW     0x1            				second = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
0037c0   6f88     MOVWF     0x88,0x1                                                                                        
0037c2   d1b8     BRA       0x3b34         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0037c4   0e33     MOVLW     0x33           			if ((t2-250)<timediff && timediff<(t2+250) && second==TRUE)                   F:\MCP\projects\CAN\canIR\Source\IRec.c
0037c6   80d8     BSF       0xd8,0x0,0x0                                                                                    
0037c8   5584     SUBFWB    0x84,0x0,0x1                                                                                    
0037ca   0e03     MOVLW     0x3                                                                                             
0037cc   5585     SUBFWB    0x85,0x0,0x1                                                                                    
0037ce   e209     BC        0x37e2                                                                                          
0037d0   0e27     MOVLW     0x27                                                                                            
0037d2   5d84     SUBWF     0x84,0x0,0x1                                                                                    
0037d4   0e05     MOVLW     0x5                                                                                             
0037d6   5985     SUBWFB    0x85,0x0,0x1                                                                                    
0037d8   e204     BC        0x37e2                                                                                          
0037da   0588     DECF      0x88,0x0,0x1                                                                                    
0037dc   e102     BNZ       0x37e2                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0037de   6b88     CLRF      0x88,0x1       				second = FALSE;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
0037e0   d1a9     BRA       0x3b34         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0037e2   0e8f     MOVLW     0x8f           			if ((t4-250)<timediff && timediff<(t4+250) && second==TRUE)                   F:\MCP\projects\CAN\canIR\Source\IRec.c
0037e4   80d8     BSF       0xd8,0x0,0x0                                                                                    
0037e6   5584     SUBFWB    0x84,0x0,0x1                                                                                    
0037e8   0e07     MOVLW     0x7                                                                                             
0037ea   5585     SUBFWB    0x85,0x0,0x1                                                                                    
0037ec   e239     BC        0x3860                                                                                          
0037ee   0e83     MOVLW     0x83                                                                                            
0037f0   5d84     SUBWF     0x84,0x0,0x1                                                                                    
0037f2   0e09     MOVLW     0x9                                                                                             
0037f4   5985     SUBWFB    0x85,0x0,0x1                                                                                    
0037f6   e234     BC        0x3860                                                                                          
0037f8   0588     DECF      0x88,0x0,0x1                                                                                    
0037fa   e132     BNZ       0x3860                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0037fc   5187     MOVF      0x87,0x0,0x1   				lastbit=(lastbit?0:1);                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
0037fe   e002     BZ        0x3804                                                                                          
003800   0e00     MOVLW     0x0                                                                                             
003802   d001     BRA       0x3806                                                                                          
003804   0e01     MOVLW     0x1                                                                                             
003806   6f87     MOVWF     0x87,0x1                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003808   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00380a   e102     BNZ       0x3810                                                                                          
00380c   c087     MOVFF     0x87,0x7f                                                                                       
00380e   f07f                                                                                                               
003810   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=5) addr+=(lastbit<<(5-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
003812   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003814   e310     BNC       0x3836                                                                                          
003816   5182     MOVF      0x82,0x0,0x1                                                                                    
003818   0805     SUBLW     0x5                                                                                             
00381a   e30d     BNC       0x3836                                                                                          
00381c   0e05     MOVLW     0x5                                                                                             
00381e   80d8     BSF       0xd8,0x0,0x0                                                                                    
003820   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003822   6e00     MOVWF     0x0,0x0                                                                                         
003824   5187     MOVF      0x87,0x0,0x1                                                                                    
003826   5200     MOVF      0x0,0x1,0x0                                                                                     
003828   e004     BZ        0x3832                                                                                          
00382a   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
00382c   0bfe     ANDLW     0xfe                                                                                            
00382e   0600     DECF      0x0,0x1,0x0                                                                                     
003830   e1fc     BNZ       0x382a                                                                                          
003832   0100     MOVLB     0x0                                                                                             
003834   2780     ADDWF     0x80,0x1,0x1                                                                                    
003836   0e06     MOVLW     0x6            				if (bitIndex>=6 && bitIndex<=11) data+=(lastbit<<(11-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
003838   5d82     SUBWF     0x82,0x0,0x1                                                                                    
00383a   e310     BNC       0x385c                                                                                          
00383c   5182     MOVF      0x82,0x0,0x1                                                                                    
00383e   080b     SUBLW     0xb                                                                                             
003840   e30d     BNC       0x385c                                                                                          
003842   0e0b     MOVLW     0xb                                                                                             
003844   80d8     BSF       0xd8,0x0,0x0                                                                                    
003846   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003848   6e00     MOVWF     0x0,0x0                                                                                         
00384a   5187     MOVF      0x87,0x0,0x1                                                                                    
00384c   5200     MOVF      0x0,0x1,0x0                                                                                     
00384e   e004     BZ        0x3858                                                                                          
003850   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003852   0bfe     ANDLW     0xfe                                                                                            
003854   0600     DECF      0x0,0x1,0x0                                                                                     
003856   e1fc     BNZ       0x3850                                                                                          
003858   0100     MOVLB     0x0                                                                                             
00385a   2781     ADDWF     0x81,0x1,0x1                                                                                    
00385c   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
00385e   d16a     BRA       0x3b34         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		} // if started and type == RC5 or RC5X                                        F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// If RC6...                                                                   F:\MCP\projects\CAN\canIR\Source\IRec.c
003860   0586     DECF      0x86,0x0,0x1   		if (started==TRUE && type==IR_RC6)                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003862   e001     BZ        0x3866                                                                                          
003864   d0ce     BRA       0x3a02                                                                                          
003866   0e03     MOVLW     0x3                                                                                             
003868   5d83     SUBWF     0x83,0x0,0x1                                                                                    
00386a   e001     BZ        0x386e                                                                                          
00386c   d0ca     BRA       0x3a02                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
00386e   0e1c     MOVLW     0x1c           			if ((t1-250)<timediff && timediff<(t1+250) && second==FALSE)                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003870   80d8     BSF       0xd8,0x0,0x0                                                                                    
003872   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003874   0e01     MOVLW     0x1                                                                                             
003876   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003878   e235     BC        0x38e4                                                                                          
00387a   0e10     MOVLW     0x10                                                                                            
00387c   5d84     SUBWF     0x84,0x0,0x1                                                                                    
00387e   0e03     MOVLW     0x3                                                                                             
003880   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003882   e230     BC        0x38e4                                                                                          
003884   5188     MOVF      0x88,0x0,0x1                                                                                    
003886   e12e     BNZ       0x38e4                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003888   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00388a   e102     BNZ       0x3890                                                                                          
00388c   c087     MOVFF     0x87,0x7f                                                                                       
00388e   f07f                                                                                                               
003890   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=8) addr+=(lastbit<<(8-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
003892   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003894   e310     BNC       0x38b6                                                                                          
003896   5182     MOVF      0x82,0x0,0x1                                                                                    
003898   0808     SUBLW     0x8                                                                                             
00389a   e30d     BNC       0x38b6                                                                                          
00389c   0e08     MOVLW     0x8                                                                                             
00389e   80d8     BSF       0xd8,0x0,0x0                                                                                    
0038a0   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0038a2   6e00     MOVWF     0x0,0x0                                                                                         
0038a4   5187     MOVF      0x87,0x0,0x1                                                                                    
0038a6   5200     MOVF      0x0,0x1,0x0                                                                                     
0038a8   e004     BZ        0x38b2                                                                                          
0038aa   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0038ac   0bfe     ANDLW     0xfe                                                                                            
0038ae   0600     DECF      0x0,0x1,0x0                                                                                     
0038b0   e1fc     BNZ       0x38aa                                                                                          
0038b2   0100     MOVLB     0x0                                                                                             
0038b4   2780     ADDWF     0x80,0x1,0x1                                                                                    
0038b6   0e09     MOVLW     0x9            				if (bitIndex>=9 && bitIndex<=16) data+=(lastbit<<(16-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
0038b8   5d82     SUBWF     0x82,0x0,0x1                                                                                    
0038ba   e310     BNC       0x38dc                                                                                          
0038bc   5182     MOVF      0x82,0x0,0x1                                                                                    
0038be   0810     SUBLW     0x10                                                                                            
0038c0   e30d     BNC       0x38dc                                                                                          
0038c2   0e10     MOVLW     0x10                                                                                            
0038c4   80d8     BSF       0xd8,0x0,0x0                                                                                    
0038c6   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0038c8   6e00     MOVWF     0x0,0x0                                                                                         
0038ca   5187     MOVF      0x87,0x0,0x1                                                                                    
0038cc   5200     MOVF      0x0,0x1,0x0                                                                                     
0038ce   e004     BZ        0x38d8                                                                                          
0038d0   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0038d2   0bfe     ANDLW     0xfe                                                                                            
0038d4   0600     DECF      0x0,0x1,0x0                                                                                     
0038d6   e1fc     BNZ       0x38d0                                                                                          
0038d8   0100     MOVLB     0x0                                                                                             
0038da   2781     ADDWF     0x81,0x1,0x1                                                                                    
0038dc   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0038de   0e01     MOVLW     0x1            				second = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
0038e0   6f88     MOVWF     0x88,0x1                                                                                        
0038e2   d128     BRA       0x3b34         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0038e4   0e33     MOVLW     0x33           			if ((t2-250)<timediff && timediff<(t2+250) && second==FALSE)                  F:\MCP\projects\CAN\canIR\Source\IRec.c
0038e6   80d8     BSF       0xd8,0x0,0x0                                                                                    
0038e8   5584     SUBFWB    0x84,0x0,0x1                                                                                    
0038ea   0e03     MOVLW     0x3                                                                                             
0038ec   5585     SUBFWB    0x85,0x0,0x1                                                                                    
0038ee   e23b     BC        0x3966                                                                                          
0038f0   0e27     MOVLW     0x27                                                                                            
0038f2   5d84     SUBWF     0x84,0x0,0x1                                                                                    
0038f4   0e05     MOVLW     0x5                                                                                             
0038f6   5985     SUBWFB    0x85,0x0,0x1                                                                                    
0038f8   e236     BC        0x3966                                                                                          
0038fa   5188     MOVF      0x88,0x0,0x1                                                                                    
0038fc   e134     BNZ       0x3966                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0038fe   5187     MOVF      0x87,0x0,0x1   				lastbit=(lastbit?0:1);                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
003900   e002     BZ        0x3906                                                                                          
003902   0e00     MOVLW     0x0                                                                                             
003904   d001     BRA       0x3908                                                                                          
003906   0e01     MOVLW     0x1                                                                                             
003908   6f87     MOVWF     0x87,0x1                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
00390a   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00390c   e102     BNZ       0x3912                                                                                          
00390e   c087     MOVFF     0x87,0x7f                                                                                       
003910   f07f                                                                                                               
003912   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=8) addr+=(lastbit<<(8-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
003914   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003916   e310     BNC       0x3938                                                                                          
003918   5182     MOVF      0x82,0x0,0x1                                                                                    
00391a   0808     SUBLW     0x8                                                                                             
00391c   e30d     BNC       0x3938                                                                                          
00391e   0e08     MOVLW     0x8                                                                                             
003920   80d8     BSF       0xd8,0x0,0x0                                                                                    
003922   5582     SUBFWB    0x82,0x0,0x1                                                                                    
003924   6e00     MOVWF     0x0,0x0                                                                                         
003926   5187     MOVF      0x87,0x0,0x1                                                                                    
003928   5200     MOVF      0x0,0x1,0x0                                                                                     
00392a   e004     BZ        0x3934                                                                                          
00392c   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
00392e   0bfe     ANDLW     0xfe                                                                                            
003930   0600     DECF      0x0,0x1,0x0                                                                                     
003932   e1fc     BNZ       0x392c                                                                                          
003934   0100     MOVLB     0x0                                                                                             
003936   2780     ADDWF     0x80,0x1,0x1                                                                                    
003938   0e09     MOVLW     0x9            				if (bitIndex>=9 && bitIndex<=16) data+=(lastbit<<(16-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
00393a   5d82     SUBWF     0x82,0x0,0x1                                                                                    
00393c   e310     BNC       0x395e                                                                                          
00393e   5182     MOVF      0x82,0x0,0x1                                                                                    
003940   0810     SUBLW     0x10                                                                                            
003942   e30d     BNC       0x395e                                                                                          
003944   0e10     MOVLW     0x10                                                                                            
003946   80d8     BSF       0xd8,0x0,0x0                                                                                    
003948   5582     SUBFWB    0x82,0x0,0x1                                                                                    
00394a   6e00     MOVWF     0x0,0x0                                                                                         
00394c   5187     MOVF      0x87,0x0,0x1                                                                                    
00394e   5200     MOVF      0x0,0x1,0x0                                                                                     
003950   e004     BZ        0x395a                                                                                          
003952   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
003954   0bfe     ANDLW     0xfe                                                                                            
003956   0600     DECF      0x0,0x1,0x0                                                                                     
003958   e1fc     BNZ       0x3952                                                                                          
00395a   0100     MOVLB     0x0                                                                                             
00395c   2781     ADDWF     0x81,0x1,0x1                                                                                    
00395e   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003960   0e01     MOVLW     0x1            				second = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003962   6f88     MOVWF     0x88,0x1                                                                                        
003964   d0e7     BRA       0x3b34         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003966   0e1c     MOVLW     0x1c           			if ((t1-250)<timediff && timediff<(t1+250) && second==TRUE)                   F:\MCP\projects\CAN\canIR\Source\IRec.c
003968   80d8     BSF       0xd8,0x0,0x0                                                                                    
00396a   5584     SUBFWB    0x84,0x0,0x1                                                                                    
00396c   0e01     MOVLW     0x1                                                                                             
00396e   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003970   e209     BC        0x3984                                                                                          
003972   0e10     MOVLW     0x10                                                                                            
003974   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003976   0e03     MOVLW     0x3                                                                                             
003978   5985     SUBWFB    0x85,0x0,0x1                                                                                    
00397a   e204     BC        0x3984                                                                                          
00397c   0588     DECF      0x88,0x0,0x1                                                                                    
00397e   e102     BNZ       0x3984                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003980   6b88     CLRF      0x88,0x1       				second = FALSE;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003982   d0d8     BRA       0x3b34         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003984   0e33     MOVLW     0x33           			if ((t2-250)<timediff && timediff<(t2+250) && second==TRUE)                   F:\MCP\projects\CAN\canIR\Source\IRec.c
003986   80d8     BSF       0xd8,0x0,0x0                                                                                    
003988   5584     SUBFWB    0x84,0x0,0x1                                                                                    
00398a   0e03     MOVLW     0x3                                                                                             
00398c   5585     SUBFWB    0x85,0x0,0x1                                                                                    
00398e   e239     BC        0x3a02                                                                                          
003990   0e27     MOVLW     0x27                                                                                            
003992   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003994   0e05     MOVLW     0x5                                                                                             
003996   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003998   e234     BC        0x3a02                                                                                          
00399a   0588     DECF      0x88,0x0,0x1                                                                                    
00399c   e132     BNZ       0x3a02                                                                                          
                                           			{                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
00399e   5187     MOVF      0x87,0x0,0x1   				lastbit=(lastbit?0:1);                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
0039a0   e002     BZ        0x39a6                                                                                          
0039a2   0e00     MOVLW     0x0                                                                                             
0039a4   d001     BRA       0x39a8                                                                                          
0039a6   0e01     MOVLW     0x1                                                                                             
0039a8   6f87     MOVWF     0x87,0x1                                                                                        
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
0039aa   5182     MOVF      0x82,0x0,0x1   				if (bitIndex==0) toggle=lastbit;                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
0039ac   e102     BNZ       0x39b2                                                                                          
0039ae   c087     MOVFF     0x87,0x7f                                                                                       
0039b0   f07f                                                                                                               
0039b2   0e01     MOVLW     0x1            				if (bitIndex>=1 && bitIndex<=8) addr+=(lastbit<<(8-bitIndex));               F:\MCP\projects\CAN\canIR\Source\IRec.c
0039b4   5d82     SUBWF     0x82,0x0,0x1                                                                                    
0039b6   e310     BNC       0x39d8                                                                                          
0039b8   5182     MOVF      0x82,0x0,0x1                                                                                    
0039ba   0808     SUBLW     0x8                                                                                             
0039bc   e30d     BNC       0x39d8                                                                                          
0039be   0e08     MOVLW     0x8                                                                                             
0039c0   80d8     BSF       0xd8,0x0,0x0                                                                                    
0039c2   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0039c4   6e00     MOVWF     0x0,0x0                                                                                         
0039c6   5187     MOVF      0x87,0x0,0x1                                                                                    
0039c8   5200     MOVF      0x0,0x1,0x0                                                                                     
0039ca   e004     BZ        0x39d4                                                                                          
0039cc   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0039ce   0bfe     ANDLW     0xfe                                                                                            
0039d0   0600     DECF      0x0,0x1,0x0                                                                                     
0039d2   e1fc     BNZ       0x39cc                                                                                          
0039d4   0100     MOVLB     0x0                                                                                             
0039d6   2780     ADDWF     0x80,0x1,0x1                                                                                    
0039d8   0e09     MOVLW     0x9            				if (bitIndex>=9 && bitIndex<=16) data+=(lastbit<<(16-bitIndex));             F:\MCP\projects\CAN\canIR\Source\IRec.c
0039da   5d82     SUBWF     0x82,0x0,0x1                                                                                    
0039dc   e310     BNC       0x39fe                                                                                          
0039de   5182     MOVF      0x82,0x0,0x1                                                                                    
0039e0   0810     SUBLW     0x10                                                                                            
0039e2   e30d     BNC       0x39fe                                                                                          
0039e4   0e10     MOVLW     0x10                                                                                            
0039e6   80d8     BSF       0xd8,0x0,0x0                                                                                    
0039e8   5582     SUBFWB    0x82,0x0,0x1                                                                                    
0039ea   6e00     MOVWF     0x0,0x0                                                                                         
0039ec   5187     MOVF      0x87,0x0,0x1                                                                                    
0039ee   5200     MOVF      0x0,0x1,0x0                                                                                     
0039f0   e004     BZ        0x39fa                                                                                          
0039f2   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
0039f4   0bfe     ANDLW     0xfe                                                                                            
0039f6   0600     DECF      0x0,0x1,0x0                                                                                     
0039f8   e1fc     BNZ       0x39f2                                                                                          
0039fa   0100     MOVLB     0x0                                                                                             
0039fc   2781     ADDWF     0x81,0x1,0x1                                                                                    
0039fe   2b82     INCF      0x82,0x1,0x1   				bitIndex++;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003a00   d099     BRA       0x3b34         				return;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           			}                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		} // if started and type == RC6                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003a02   2b82     INCF      0x82,0x1,0x1   		bitIndex++;                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003a04   5186     MOVF      0x86,0x0,0x1   		if (started==FALSE && type==IR_NONE && bitIndex==2 && (t2-250)<timediff && timediff<(t2+250)) F:\MCP\projects\CAN\canIR\Source\IRec.c
003a06   e113     BNZ       0x3a2e                                                                                          
003a08   5183     MOVF      0x83,0x0,0x1                                                                                    
003a0a   e111     BNZ       0x3a2e                                                                                          
003a0c   0e02     MOVLW     0x2                                                                                             
003a0e   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003a10   e10e     BNZ       0x3a2e                                                                                          
003a12   0e33     MOVLW     0x33                                                                                            
003a14   80d8     BSF       0xd8,0x0,0x0                                                                                    
003a16   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003a18   0e03     MOVLW     0x3                                                                                             
003a1a   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003a1c   e208     BC        0x3a2e                                                                                          
003a1e   0e27     MOVLW     0x27                                                                                            
003a20   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003a22   0e05     MOVLW     0x5                                                                                             
003a24   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003a26   e203     BC        0x3a2e                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a28   0e01     MOVLW     0x1            			type=IR_RC5;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003a2a   6f83     MOVWF     0x83,0x1                                                                                        
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a2c   d063     BRA       0x3af4         		else if (started==FALSE && type==IR_NONE && bitIndex==2 && (t4-250)<timediff && timediff<(t4+250)) F:\MCP\projects\CAN\canIR\Source\IRec.c
003a2e   5186     MOVF      0x86,0x0,0x1                                                                                    
003a30   e117     BNZ       0x3a60                                                                                          
003a32   5183     MOVF      0x83,0x0,0x1                                                                                    
003a34   e115     BNZ       0x3a60                                                                                          
003a36   0e02     MOVLW     0x2                                                                                             
003a38   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003a3a   e112     BNZ       0x3a60                                                                                          
003a3c   0e8f     MOVLW     0x8f                                                                                            
003a3e   80d8     BSF       0xd8,0x0,0x0                                                                                    
003a40   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003a42   0e07     MOVLW     0x7                                                                                             
003a44   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003a46   e20c     BC        0x3a60                                                                                          
003a48   0e83     MOVLW     0x83                                                                                            
003a4a   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003a4c   0e09     MOVLW     0x9                                                                                             
003a4e   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003a50   e207     BC        0x3a60                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a52   0e01     MOVLW     0x1            			started = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003a54   6f86     MOVWF     0x86,0x1                                                                                        
003a56   6b82     CLRF      0x82,0x1       			bitIndex = 0;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
003a58   6f87     MOVWF     0x87,0x1       			lastbit = 1;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003a5a   0e02     MOVLW     0x2            			type=IR_RC5X;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
003a5c   6f83     MOVWF     0x83,0x1                                                                                        
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a5e   d04a     BRA       0x3af4         		else if (started==FALSE && type==IR_NONE && bitIndex==2 && (t6-250)<timediff && timediff<(t6+250)) F:\MCP\projects\CAN\canIR\Source\IRec.c
003a60   5186     MOVF      0x86,0x0,0x1                                                                                    
003a62   e113     BNZ       0x3a8a                                                                                          
003a64   5183     MOVF      0x83,0x0,0x1                                                                                    
003a66   e111     BNZ       0x3a8a                                                                                          
003a68   0e02     MOVLW     0x2                                                                                             
003a6a   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003a6c   e10e     BNZ       0x3a8a                                                                                          
003a6e   0e8a     MOVLW     0x8a                                                                                            
003a70   80d8     BSF       0xd8,0x0,0x0                                                                                    
003a72   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003a74   0e0b     MOVLW     0xb                                                                                             
003a76   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003a78   e208     BC        0x3a8a                                                                                          
003a7a   0e7e     MOVLW     0x7e                                                                                            
003a7c   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003a7e   0e0d     MOVLW     0xd                                                                                             
003a80   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003a82   e203     BC        0x3a8a                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a84   0e03     MOVLW     0x3            			type=IR_RC6;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003a86   6f83     MOVWF     0x83,0x1                                                                                        
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003a88   d035     BRA       0x3af4         		else if (started==FALSE && type==IR_RC6 && bitIndex==9)                        F:\MCP\projects\CAN\canIR\Source\IRec.c
003a8a   5186     MOVF      0x86,0x0,0x1                                                                                    
003a8c   e10f     BNZ       0x3aac                                                                                          
003a8e   0e03     MOVLW     0x3                                                                                             
003a90   5d83     SUBWF     0x83,0x0,0x1                                                                                    
003a92   e10c     BNZ       0x3aac                                                                                          
003a94   0e09     MOVLW     0x9                                                                                             
003a96   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003a98   e109     BNZ       0x3aac                                                                                          
                                           		{	                                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003a9a   0e01     MOVLW     0x1            			started = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003a9c   6f86     MOVWF     0x86,0x1                                                                                        
003a9e   6b82     CLRF      0x82,0x1       			bitIndex = 0;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
003aa0   6b87     CLRF      0x87,0x1       			lastbit = 0;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003aa2   0e03     MOVLW     0x3            			type=IR_RC6;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003aa4   6f83     MOVWF     0x83,0x1                                                                                        
003aa6   0e01     MOVLW     0x1            			second = TRUE;                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
003aa8   6f88     MOVWF     0x88,0x1                                                                                        
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003aaa   d024     BRA       0x3af4         		else if (started==FALSE && type==IR_RC5 && bitIndex==3 && (t2-250)<timediff && timediff<(t2+250)) F:\MCP\projects\CAN\canIR\Source\IRec.c
003aac   5186     MOVF      0x86,0x0,0x1                                                                                    
003aae   e116     BNZ       0x3adc                                                                                          
003ab0   0583     DECF      0x83,0x0,0x1                                                                                    
003ab2   e114     BNZ       0x3adc                                                                                          
003ab4   0e03     MOVLW     0x3                                                                                             
003ab6   5d82     SUBWF     0x82,0x0,0x1                                                                                    
003ab8   e111     BNZ       0x3adc                                                                                          
003aba   0e33     MOVLW     0x33                                                                                            
003abc   80d8     BSF       0xd8,0x0,0x0                                                                                    
003abe   5584     SUBFWB    0x84,0x0,0x1                                                                                    
003ac0   0e03     MOVLW     0x3                                                                                             
003ac2   5585     SUBFWB    0x85,0x0,0x1                                                                                    
003ac4   e20b     BC        0x3adc                                                                                          
003ac6   0e27     MOVLW     0x27                                                                                            
003ac8   5d84     SUBWF     0x84,0x0,0x1                                                                                    
003aca   0e05     MOVLW     0x5                                                                                             
003acc   5985     SUBWFB    0x85,0x0,0x1                                                                                    
003ace   e206     BC        0x3adc                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003ad0   0e01     MOVLW     0x1            			started = TRUE;                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
003ad2   6f86     MOVWF     0x86,0x1                                                                                        
003ad4   6b82     CLRF      0x82,0x1       			bitIndex = 0;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
003ad6   6f87     MOVWF     0x87,0x1       			lastbit = 1;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003ad8   6f83     MOVWF     0x83,0x1       			type=IR_RC5;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003ada   d00c     BRA       0x3af4         		else if(bitIndex>2 && type!=IR_RC6)                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003adc   5182     MOVF      0x82,0x0,0x1                                                                                    
003ade   0802     SUBLW     0x2                                                                                             
003ae0   e205     BC        0x3aec                                                                                          
003ae2   0e03     MOVLW     0x3                                                                                             
003ae4   5d83     SUBWF     0x83,0x0,0x1                                                                                    
003ae6   e002     BZ        0x3aec                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003ae8   6b83     CLRF      0x83,0x1       			type=IR_NONE;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003aea   d004     BRA       0x3af4         		else if(bitIndex>9)                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003aec   5182     MOVF      0x82,0x0,0x1                                                                                    
003aee   0809     SUBLW     0x9                                                                                             
003af0   e201     BC        0x3af4                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003af2   6b83     CLRF      0x83,0x1       			type=IR_NONE;                                                                 F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	}                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	// If timer 3 overflow                                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
003af4   50a1     MOVF      0xa1,0x0,0x0   	if(PIR2bits.TMR3IF && PIE2bits.TMR3IE)                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
003af6   0b02     ANDLW     0x2                                                                                             
003af8   e01d     BZ        0x3b34                                                                                          
003afa   50a0     MOVF      0xa0,0x0,0x0                                                                                    
003afc   0b02     ANDLW     0x2                                                                                             
003afe   e01a     BZ        0x3b34                                                                                          
                                           	{	                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003b00   92a1     BCF       0xa1,0x1,0x0   		PIR2bits.TMR3IF=0;                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003b02   0100     MOVLB     0x0            		if (type!=IR_NONE)                                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003b04   5183     MOVF      0x83,0x0,0x1                                                                                    
003b06   e00e     BZ        0x3b24                                                                                          
                                           		{                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003b08   c081     MOVFF     0x81,0xfe6     			irecParse(type,toggle,addr,data);                                             F:\MCP\projects\CAN\canIR\Source\IRec.c
003b0a   ffe6                                                                                                               
003b0c   c080     MOVFF     0x80,0xfe6                                                                                      
003b0e   ffe6                                                                                                               
003b10   c07f     MOVFF     0x7f,0xfe6                                                                                      
003b12   ffe6                                                                                                               
003b14   c083     MOVFF     0x83,0xfe6                                                                                      
003b16   ffe6                                                                                                               
003b18   ec38     CALL      0x3c70,0x0                                                                                      
003b1a   f01e                                                                                                               
003b1c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b1e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b20   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b22   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		}                                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003b24   0100     MOVLB     0x0            		started  = FALSE;                                                              F:\MCP\projects\CAN\canIR\Source\IRec.c
003b26   6b86     CLRF      0x86,0x1                                                                                        
003b28   6b82     CLRF      0x82,0x1       		bitIndex = 0;                                                                  F:\MCP\projects\CAN\canIR\Source\IRec.c
003b2a   6b80     CLRF      0x80,0x1       		addr = 0;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
003b2c   6b7f     CLRF      0x7f,0x1       		toggle = 0;                                                                    F:\MCP\projects\CAN\canIR\Source\IRec.c
003b2e   6b81     CLRF      0x81,0x1       		data = 0;                                                                      F:\MCP\projects\CAN\canIR\Source\IRec.c
003b30   6b83     CLRF      0x83,0x1       		type = IR_NONE;                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		// wait in falling edge.                                                       F:\MCP\projects\CAN\canIR\Source\IRec.c
003b32   90bd     BCF       0xbd,0x0,0x0   		CCP1CONbits.CCP1M0=0;                                                          F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           		                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           	}                                                                               F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
003b34   0012     RETURN    0x0            }                                                                                F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                                                                                                            F:\MCP\projects\CAN\canIR\Source\IRec.c
                                           #endif                                                                           F:\MCP\projects\CAN\canIR\Source\IRec.c
